"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[633],{94743:function(e,n,i){var s=i(78983),r=i(80184);n.Z=function(e){var n="https://www.binance.com/en/futures/".concat(e.symbol);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.C_,{style:{display:"flex",alignItems:"center"},className:"custom-link",color:"warning",onClick:function(){return function(e){var n=window.open(e,"_blank","noopener,noreferrer");n&&(n.opener=null)}(n)},children:e.symbol})})}},23131:function(e,n,i){i(72791);var s=i(78983),r=i(80184);n.Z=function(e,n){return(0,r.jsx)(s.oo,{color:"secondary",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xZ,{closeButton:!0,children:(0,r.jsx)("div",{className:"fw-bold me-auto",children:e})}),(0,r.jsx)(s.S3,{children:n})]})})}},40337:function(e,n,i){i.d(n,{Z:function(){return f}});var s=i(74165),r=i(15861),l=i(29439),t=i(72791),c=(i(71047),i(55230)),a=i(81694),o=i.n(a),d=i(78983),x=i(80184),u=function(e){var n=e.position,i=e.index,s=e.isClose,r=e.closeHandler,c=e.closeLimitHandler,a=e.supCloseLimit,u=(0,t.useState)(""),h=(0,l.Z)(u,2),m=h[0],j=h[1];var f=n.positionAmt>0?"info":"danger",p=n.pnl>0?"success":"danger";return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(d.T6,{className:"",children:[(0,x.jsxs)(d.NN,{className:"align-middle",children:[(0,x.jsx)(d.C_,{color:f,children:n.symbol}),(0,x.jsx)("span",{children:(0,x.jsxs)(d.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})})]}),(0,x.jsx)(d.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.entryPrice}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.markPrice}),(0,x.jsx)(d.NN,{className:"align-middle text-warning",children:n.liquidationPrice}),(0,x.jsx)(d.NN,{className:"align-middle text-info",children:n.lastPrice}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.marginSize}),(0,x.jsxs)(d.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]}),s&&(0,x.jsx)(d.NN,{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,x.jsx)(d.u5,{color:p,variant:"ghost",value:n,onClick:function(e){r(n)},size:"sm",children:"Market"}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"vr align-middle"}),(0,x.jsx)(d.u5,{color:p,variant:"ghost",value:n,onClick:function(e){c(n,m),j("")},size:"sm",children:"Limit"}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)(d.jO,{type:"number",size:"sm",placeholder:"price",value:m,id:"limit-price",onChange:function(e){return j(e.target.value)}})})]})]})})]},i)})},h=i(94743),m=function(e){var n=e.position,i=(e.index,e.isClose),s=e.closeHandler,r=e.closeLimitHandler,c=e.supCloseLimit,a=(0,t.useState)(""),u=(0,l.Z)(a,2),m=u[0],j=u[1];n.positionAmt;var f=n.pnl>0?"success":"danger";return(0,x.jsx)(d.b7,{xs:12,md:6,xl:4,children:(0,x.jsxs)(d.xH,{className:"mx-1 mb-2",children:[(0,x.jsx)(d.bn,{children:(0,x.jsxs)("div",{className:"d-flex d-flex-row justify-content-between align-items-center",children:[(0,x.jsx)(h.Z,{symbol:n.symbol}),(0,x.jsxs)(d.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})]})}),(0,x.jsxs)(d.sl,{children:[(0,x.jsx)(d.Sx,{striped:!0,hover:!0,responsive:!0,color:"light",className:"smaller-text mt-2",style:{width:"100%"},children:(0,x.jsxs)(d.NR,{style:{overflowY:"auto"},children:[(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Size"}),(0,x.jsx)(d.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Entry Price"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.entryPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Mark Price"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.markPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Liquid Price"}),(0,x.jsx)(d.NN,{className:"align-middle text-warning",children:n.liquidationPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Last Price"}),(0,x.jsx)(d.NN,{className:"align-middle text-info",children:n.lastPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Margin Size"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.marginSize})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"PNL (%)"}),(0,x.jsxs)(d.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]})]})]})}),i&&(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{children:"Close"}),(0,x.jsx)("div",{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,x.jsx)(d.u5,{color:f,variant:"ghost",value:n,onClick:function(e){s(n)},size:"sm",children:"Market"}),c&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"vr align-middle"}),(0,x.jsx)(d.u5,{color:f,variant:"ghost",value:n,onClick:function(e){r(n,m),j("")},size:"sm",children:"Limit"}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)(d.jO,{type:"number",size:"sm",placeholder:"price",value:m,id:"limit-price",onChange:function(e){return j(e.target.value)}})})]})]})})]})]})]})})},j=i(23131),f=function(e){var n=e.positions,i=e.isClose,a=e.exchange,o=(0,t.useState)(0),h=(0,l.Z)(o,2),f=h[0],p=h[1],g=(0,t.useRef)();function N(e,n,i){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((0,s.Z)().mark((function e(n,i,r){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.closePosition(n,i,r,a);case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){N(e,"market",0).then((function(e){p((0,j.Z)("Close Position",e.message))}))}function P(e,n){var i=e.markPrice-50*e.markPrice/100,s=1.5*e.markPrice;n>=i&&n<=s?N(e,"limit",n).then((function(e){p((0,j.Z)("Close Position",e.message))})):p((0,j.Z)("Close Position","price should be larger or smaller than mark price maximum of 50%"))}function y(){!function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.clearPositions();case 2:return n=e.sent,p((0,j.Z)("Close All Positions","".concat(n.msg))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}var k=n.map((function(e,n){var i=e.symbol,s=e.entryPrice,r=e.unRealizedProfit,l=e.positionAmt,t=e.markPrice,c=e.liquidationPrice,a=e.lastPrice,o=e.leverage,d=(e.pricePrecision,e.size),x=e.marginSize,u=100*r/(Math.abs(d)/o);return{symbol:i,positionAmt:l,size:Number(d).toFixed(2),entryPrice:s,markPrice:t,lastPrice:a,liquidationPrice:c,marginSize:Number(x).toFixed(2),pnl:Number(r).toFixed(2),roe:Number(u).toFixed(2),leverage:o}})),C=["Symbol","Size","Entry Price","Mark Price","Liq. Price","Last Price","Margin","PNL (ROI%)"];return i&&(a===c.KM?C.push("Close All Positions"):C.push("Close Position")),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.rb,{children:(0,x.jsx)(d.b7,{children:(0,x.jsxs)(d.xH,{className:"mb-4",children:[(0,x.jsxs)(d.bn,{children:["Positions (",k.length,")"]}),(0,x.jsx)(d.sl,{children:k.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{id:"positions-card",className:"d-flex flex-wrap",children:k.map((function(e,n){return(0,x.jsx)(m,{position:e,isClose:i,closeHandler:b,closeLimitHandler:P},n)}))}),(0,x.jsxs)(d.Sx,{id:"positions-table",children:[(0,x.jsx)(d.V,{className:"",children:(0,x.jsx)(d.T6,{children:C.map((function(e,n){return"Close All Positions"===e?(0,x.jsx)(d.is,{children:(0,x.jsx)("div",{children:(0,x.jsx)(d.If,{content:"close all positions as market price",placement:"top",children:(0,x.jsx)(d.u5,{variant:"ghost",color:"warning",onClick:y,children:e})})})},n):(0,x.jsx)(d.is,{children:e},n)}))})}),(0,x.jsx)(d.NR,{children:k.map((function(e,n){return(0,x.jsx)(u,{position:e,isClose:i,closeHandler:b,closeLimitHandler:P,supCloseLimit:a===c.KM},n)}))})]})]})})]})})}),(0,x.jsx)(d.KF,{ref:g,push:f,placement:"top-end"})]})}},58633:function(e,n,i){i.r(n);var s=i(74165),r=i(15861),l=i(29439),t=i(72791),c=i(55230),a=i(78983),o=i(40337),d=i(80184);n.default=function(e){var n=(0,t.useState)(null),i=(0,l.Z)(n,2),x=i[0],u=i[1],h=e.exchange;function m(e){return j.apply(this,arguments)}function j(){return j=(0,r.Z)((0,s.Z)().mark((function e(n){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.fetchTradeInfo(n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}if((0,t.useEffect)((function(){m(h).then((function(e){return u(e)}));var e=setInterval((function(){m(h).then((function(e){return u(e)}))}),3e3);return function(){return clearInterval(e)}}),[h]),x){var f=x.openOrders,p=x.positions;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Current Orders and Positions"}),f.length>0&&(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{xl:12,children:(0,d.jsxs)(a.xH,{className:"mb-4",children:[(0,d.jsx)(a.bn,{children:"Orders"}),(0,d.jsx)(a.sl,{children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:Object.keys(f[0]).map((function(e,n){return(0,d.jsx)("th",{children:e},n)}))})}),(0,d.jsx)("tbody",{children:f.map((function(e,n){return(0,d.jsx)("tr",{index:n,children:Object.values(e).map((function(e,n){return(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"h6",children:e},n)})}))})}))})]})})]})})}),p.length>0&&(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{xl:12,children:Array.isArray(x.positions)&&(0,d.jsx)(o.Z,{positions:x.positions,isClose:!1,exchange:h})})}),0===f.length&&0===p.length&&(0,d.jsx)(a.rb,{children:"There is not any open order or position"})]})}return(0,d.jsx)(a.LQ,{color:"info"})}}}]);
//# sourceMappingURL=633.a049be7b.chunk.js.map