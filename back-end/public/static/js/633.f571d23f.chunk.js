"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[633],{94743:function(e,n,i){var s=i(78983),r=i(80184);n.Z=function(e){var n="https://www.binance.com/en/futures/".concat(e.symbol);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.C_,{style:{display:"flex",alignItems:"center"},className:"custom-link",color:"warning",onClick:function(){return function(e){var n=window.open(e,"_blank","noopener,noreferrer");n&&(n.opener=null)}(n)},children:e.symbol})})}},23131:function(e,n,i){i(72791);var s=i(78983),r=i(80184);n.Z=function(e,n){return(0,r.jsx)(s.oo,{color:"secondary",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(s.xZ,{closeButton:!0,children:(0,r.jsx)("div",{className:"fw-bold me-auto",children:e})}),(0,r.jsx)(s.S3,{children:n})]})})}},40337:function(e,n,i){i.d(n,{Z:function(){return f}});var s=i(74165),r=i(15861),l=i(29439),t=i(72791),c=(i(71047),i(55230)),a=i(81694),o=i.n(a),d=i(78983),x=i(80184),u=function(e){var n=e.position,i=e.index,s=e.isClose,r=e.closeHandler,c=e.closeLimitHandler,a=(0,t.useState)(""),u=(0,l.Z)(a,2),m=u[0],h=u[1];var j=n.positionAmt>0?"info":"danger",f=n.pnl>0?"success":"danger";return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(d.T6,{className:"",children:[(0,x.jsxs)(d.NN,{className:"align-middle",children:[(0,x.jsx)(d.C_,{color:j,children:n.symbol}),(0,x.jsx)("span",{children:(0,x.jsxs)(d.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})})]}),(0,x.jsx)(d.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.entryPrice}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.markPrice}),(0,x.jsx)(d.NN,{className:"align-middle text-warning",children:n.liquidationPrice}),(0,x.jsx)(d.NN,{className:"align-middle text-info",children:n.lastPrice}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.marginSize}),(0,x.jsxs)(d.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]}),s&&(0,x.jsx)(d.NN,{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,x.jsx)(d.u5,{color:f,variant:"ghost",value:n,onClick:function(e){r(n)},size:"sm",children:"Market"}),(0,x.jsx)("div",{className:"vr align-middle"}),(0,x.jsx)(d.u5,{color:f,variant:"ghost",value:n,onClick:function(e){c(n,m),h("")},size:"sm",children:"Limit"}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)(d.jO,{type:"number",size:"sm",placeholder:"price",value:m,id:"limit-price",onChange:function(e){return h(e.target.value)}})})]})})]},i)})},m=i(94743),h=function(e){var n=e.position,i=(e.index,e.isClose),s=e.closeHandler,r=e.closeLimitHandler,c=(0,t.useState)(""),a=(0,l.Z)(c,2),u=a[0],h=a[1];n.positionAmt;var j=n.pnl>0?"success":"danger";return(0,x.jsx)(d.b7,{xs:12,md:6,xl:4,children:(0,x.jsxs)(d.xH,{className:"mx-1 mb-2",children:[(0,x.jsx)(d.bn,{children:(0,x.jsxs)("div",{className:"d-flex d-flex-row justify-content-between align-items-center",children:[(0,x.jsx)(m.Z,{symbol:n.symbol}),(0,x.jsxs)(d.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})]})}),(0,x.jsxs)(d.sl,{children:[(0,x.jsx)(d.Sx,{striped:!0,hover:!0,responsive:!0,color:"light",className:"smaller-text mt-2",style:{width:"100%"},children:(0,x.jsxs)(d.NR,{style:{overflowY:"auto"},children:[(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Size"}),(0,x.jsx)(d.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Entry Price"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.entryPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Mark Price"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.markPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Liquid Price"}),(0,x.jsx)(d.NN,{className:"align-middle text-warning",children:n.liquidationPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Last Price"}),(0,x.jsx)(d.NN,{className:"align-middle text-info",children:n.lastPrice})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"Margin Size"}),(0,x.jsx)(d.NN,{className:"align-middle",children:n.marginSize})]}),(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"PNL (%)"}),(0,x.jsxs)(d.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]})]})]})}),i&&(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{children:"Close"}),(0,x.jsx)("div",{className:"align-middle",children:(0,x.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,x.jsx)(d.u5,{color:j,variant:"ghost",value:n,onClick:function(e){s(n)},size:"sm",children:"Market"}),(0,x.jsx)("div",{className:"vr align-middle"}),(0,x.jsx)(d.u5,{color:j,variant:"ghost",value:n,onClick:function(e){r(n,u),h("")},size:"sm",children:"Limit"}),(0,x.jsx)("div",{className:"col-4",children:(0,x.jsx)(d.jO,{type:"number",size:"sm",placeholder:"price",value:u,id:"limit-price",onChange:function(e){return h(e.target.value)}})})]})})]})]})]})})},j=i(23131),f=function(e){var n=e.positions,i=e.isClose,a=(0,t.useState)(0),o=(0,l.Z)(a,2),m=o[0],f=o[1],p=(0,t.useRef)();function N(e,n,i){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((0,s.Z)().mark((function e(n,i,r){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.closePosition(n,i,r);case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){N(e,"market",0).then((function(e){f((0,j.Z)("Close Position",e.message))}))}function b(e,n){var i=e.markPrice-50*e.markPrice/100,s=1.5*e.markPrice;n>=i&&n<=s?N(e,"limit",n).then((function(e){f((0,j.Z)("Close Position",e.message))})):f((0,j.Z)("Close Position","price should be larger or smaller than mark price maximum of 50%"))}function P(){!function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.clearPositions();case 2:return n=e.sent,f((0,j.Z)("Close All Positions","".concat(n.msg))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}var y=n.map((function(e,n){var i=e.symbol,s=e.entryPrice,r=e.unRealizedProfit,l=e.positionAmt,t=(e.isolatedMargin,e.markPrice),c=e.liquidationPrice,a=e.lastPrice,o=e.isolatedWallet,d=e.leverage,x=e.pricePrecision,u=l*s,m=100*r/(Math.abs(u)/d);return{symbol:i,positionAmt:l,size:Number(u).toFixed(2),entryPrice:Number(s).toFixed(x),markPrice:Number(t).toFixed(x),lastPrice:Number(a).toFixed(x),liquidationPrice:Number(c).toFixed(x),marginSize:Number(o).toFixed(2),pnl:Number(r).toFixed(2),roe:Number(m).toFixed(2),leverage:d}})),k=["Symbol","Size","Entry Price","Mark Price","Liq. Price","Last Price","Margin","PNL (ROE%)"];return i&&k.push("Close All Positions"),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.rb,{children:(0,x.jsx)(d.b7,{children:(0,x.jsxs)(d.xH,{className:"mb-4",children:[(0,x.jsxs)(d.bn,{children:["Positions (",y.length,")"]}),(0,x.jsx)(d.sl,{children:y.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{id:"positions-card",className:"d-flex flex-wrap",children:y.map((function(e,n){return(0,x.jsx)(h,{position:e,isClose:i,closeHandler:v,closeLimitHandler:b},n)}))}),(0,x.jsxs)(d.Sx,{id:"positions-table",children:[(0,x.jsx)(d.V,{className:"",children:(0,x.jsx)(d.T6,{children:k.map((function(e,n){return"Close All Positions"===e?(0,x.jsx)(d.is,{children:(0,x.jsx)("div",{children:(0,x.jsx)(d.If,{content:"close all positions as market price",placement:"top",children:(0,x.jsx)(d.u5,{variant:"ghost",color:"warning",onClick:P,children:e})})})},n):(0,x.jsx)(d.is,{children:e},n)}))})}),(0,x.jsx)(d.NR,{children:y.map((function(e,n){return(0,x.jsx)(u,{position:e,isClose:i,closeHandler:v,closeLimitHandler:b},n)}))})]})]})})]})})}),(0,x.jsx)(d.KF,{ref:p,push:m,placement:"top-end"})]})}},58633:function(e,n,i){i.r(n);var s=i(74165),r=i(15861),l=i(29439),t=i(72791),c=i(55230),a=i(78983),o=i(40337),d=i(80184);n.default=function(e){var n=(0,t.useState)(null),i=(0,l.Z)(n,2),x=i[0],u=i[1];function m(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.fetchTradeInfo();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if((0,t.useEffect)((function(){m().then((function(e){return u(e)}));var e=setInterval((function(){m().then((function(e){return u(e)}))}),3e3);return function(){return clearInterval(e)}}),[]),x){var j=x.openOrders,f=x.positions;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Current Orders and Positions"}),j.length>0&&(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{xl:12,children:(0,d.jsxs)(a.xH,{className:"mb-4",children:[(0,d.jsx)(a.bn,{children:"Orders"}),(0,d.jsx)(a.sl,{children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{children:Object.keys(j[0]).map((function(e,n){return(0,d.jsx)("th",{children:e},n)}))})}),(0,d.jsx)("tbody",{children:j.map((function(e,n){return(0,d.jsx)("tr",{index:n,children:Object.values(e).map((function(e,n){return(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"h6",children:e},n)})}))})}))})]})})]})})}),f.length>0&&(0,d.jsx)(a.rb,{children:(0,d.jsx)(a.b7,{xl:12,children:Array.isArray(x.positions)&&(0,d.jsx)(o.Z,{positions:x.positions,isClose:!1})})}),0===j.length&&0===f.length&&(0,d.jsx)(a.rb,{children:"There is not any open order or position"})]})}return(0,d.jsx)(a.LQ,{color:"info"})}}}]);
//# sourceMappingURL=633.f571d23f.chunk.js.map