{"version":3,"file":"static/js/460.c0762889.chunk.js","mappings":"oMA2FMA,EAAY,IAAIC,KAAKC,aAAa,QAAS,CAC/CC,MAAO,WACPC,SAAU,QA2KZ,UApKsB,SAACC,GACrB,OAA4BC,EAAAA,EAAAA,UAAS,MAAK,eAAnCC,EAAO,KAAEC,EAAQ,KAAmB,SAC5BC,IAAgB,4CAG9B,OAH8B,0BAA/B,yGACyBC,EAAAA,EAAAA,mBAAiC,KAAD,EAAzC,OAARC,EAAQ,yBACPA,GAAQ,4CAChB,sBAUD,OATAC,EAAAA,EAAAA,YAAU,WACRH,IAAmBI,MAAK,SAACF,GAAQ,OAAKH,EAASG,EAAS,IACxD,IAAMG,EAAKC,aAAY,WACrBN,IAAmBI,MAAK,SAACF,GAAQ,OAAKH,EAASG,EAAS,GAC1D,GAAG,MAEH,OAAO,kBAAMK,cAAcF,EAAI,CACjC,GAAG,IAEEP,GAID,+BAEE,SAAC,KAAI,UACFA,EAAQU,SAASC,KAAI,SAACC,EAASC,GAC9BC,QAAQC,IAAIH,GACZ,IAAMI,EAAYJ,EAAQI,UACpBC,EAASL,EAAQK,OACjBC,EAAS,CACbC,mBAAoB,iBACpBC,sBAAuB,oBACvBC,mBAAoB,iBACpBC,wBAAyB,yBACzBC,gBAAiB,yCACjBC,iBAAkB,oBAClBC,kBAAmB,+BAEfC,EAAOC,OAAOD,KAAKR,GACnBU,EAAcD,OAAOE,OAAOX,GAE5BY,EAAiB,CACrBC,YAAa,kBACbC,WAAY,sBACZC,iBAAkB,qBAGpB,OACE,iCACE,SAAC,KAAI,CAACC,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,2BACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,UACtB,2BACGT,EAAKf,KAAI,SAACyB,EAAKvB,GACd,OACE,2BACE,yBACE,wBACE,iBAAMsB,UAAU,oBAAmB,SAChCP,EAAYf,UAInB,yBACE,iBAAMsB,UAAU,KAAI,SACjB1C,EAAU4C,OAAOzB,EAAQwB,UAVvBvB,EAeb,gBAMV,SAAC,KAAI,CAACqB,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,sBACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,UACtB,2BACGlB,EAAON,KAAI,SAAC2B,EAAOC,GAClB,OACE,2BACE,yBACE,wBACE,iBAAMJ,UAAU,oBAAmB,SAChCG,EAAa,aAIpB,yBACE,iBAAMH,UAAU,KAAI,SACjB1C,EAAU4C,OAAOC,EAAe,eAV9BC,EAeb,gBAMV,SAAC,KAAI,CAACL,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,yBACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,SACrBnB,EAAUL,KAAI,SAAC6B,EAAU3B,GACxB,OACE,iCACE,4BACE,yBACE,wBAAK2B,EAAiB,cAI1B,2BACGb,OAAOD,KAAKI,GAAgBnB,KAC3B,SAACyB,EAAKvB,GACJ,OACE,2BACE,yBACE,wBACE,iBAAMsB,UAAU,oBAAmB,SAE/BR,OAAOE,OAAOC,GACZjB,UAMV,yBACE,iBAAMsB,UAAU,KAAI,SAGZ,gBAFLR,OAAOD,KAAKI,GACXjB,GAEE4B,OAAOD,EAASJ,IAChB3C,EAAU4C,OAAOG,EAASJ,UAlB3BvB,EAuBb,QAKV,eAOd,SA7IC,SAAC,KAAQ,CAAC6B,MAAM,QAkJ3B,C","sources":["pages/Account.js"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../Model/tr7-trading-bot.js\";\nimport {\n  CSpinner,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n} from \"@coreui/react\";\n/**\n * {   \n    \"feeTier\": 0,       // account commission tier \n    \"canTrade\": true,   // if can trade\n    \"canDeposit\": true,     // if can transfer in asset\n    \"canWithdraw\": true,    // if can transfer out asset\n    \"updateTime\": 0,        // reserved property, please ignore \n    \"multiAssetsMargin\": true,\n    \"tradeGroupId\": -1,\n    \"totalInitialMargin\": \"0.00000000\",    // the sum of USD value of all cross positions/open order initial margin\n    \"totalMaintMargin\": \"0.00000000\",     // the sum of USD value of all cross positions maintenance margin\n    \"totalWalletBalance\": \"126.72469206\",     // total wallet balance in USD\n    \"totalUnrealizedProfit\": \"0.00000000\",   // total unrealized profit in USD\n    \"totalMarginBalance\": \"126.72469206\",     // total margin balance in USD\n    \"totalPositionInitialMargin\": \"0.00000000\",    // the sum of USD value of all cross positions initial margin\n    \"totalOpenOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price in USD\n    \"totalCrossWalletBalance\": \"126.72469206\",      // crossed wallet balance in USD\n    \"totalCrossUnPnl\": \"0.00000000\",      // unrealized profit of crossed positions in USD\n    \"availableBalance\": \"126.72469206\",       // available balance in USD\n    \"maxWithdrawAmount\": \"126.72469206\"     // maximum virtual amount for transfer out in USD\n    \"assets\": [\n        {\n            \"asset\": \"USDT\",            // asset name\n            \"walletBalance\": \"23.72469206\",      // wallet balance\n            \"unrealizedProfit\": \"0.00000000\",    // unrealized profit\n            \"marginBalance\": \"23.72469206\",      // margin balance\n            \"maintMargin\": \"0.00000000\",        // maintenance margin required\n            \"initialMargin\": \"0.00000000\",    // total initial margin required with current mark price \n            \"positionInitialMargin\": \"0.00000000\",    //initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price\n            \"crossWalletBalance\": \"23.72469206\",      // crossed wallet balance\n            \"crossUnPnl\": \"0.00000000\"       // unrealized profit of crossed positions\n            \"availableBalance\": \"126.72469206\",       // available balance\n            \"maxWithdrawAmount\": \"23.72469206\",     // maximum amount for transfer out\n            \"marginAvailable\": true,    // whether the asset can be used as margin in Multi-Assets mode\n            \"updateTime\": 1625474304765 // last update time \n        },\n        {\n            \"asset\": \"BUSD\",            // asset name\n            \"walletBalance\": \"103.12345678\",      // wallet balance\n            \"unrealizedProfit\": \"0.00000000\",    // unrealized profit\n            \"marginBalance\": \"103.12345678\",      // margin balance\n            \"maintMargin\": \"0.00000000\",        // maintenance margin required\n            \"initialMargin\": \"0.00000000\",    // total initial margin required with current mark price \n            \"positionInitialMargin\": \"0.00000000\",    //initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price\n            \"crossWalletBalance\": \"103.12345678\",      // crossed wallet balance\n            \"crossUnPnl\": \"0.00000000\"       // unrealized profit of crossed positions\n            \"availableBalance\": \"126.72469206\",       // available balance\n            \"maxWithdrawAmount\": \"103.12345678\",     // maximum amount for transfer out\n            \"marginAvailable\": true,    // whether the asset can be used as margin in Multi-Assets mode\n            \"updateTime\": 1625474304765 // last update time\n        }\n    ],\n    \"positions\": [  // positions of all symbols in the market are returned\n        // only \"BOTH\" positions will be returned with One-way mode\n        // only \"LONG\" and \"SHORT\" positions will be returned with Hedge mode\n        {\n            \"symbol\": \"BTCUSDT\",    // symbol name\n            \"initialMargin\": \"0\",   // initial margin required with current mark price \n            \"maintMargin\": \"0\",     // maintenance margin required\n            \"unrealizedProfit\": \"0.00000000\",  // unrealized profit\n            \"positionInitialMargin\": \"0\",      // initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0\",     // initial margin required for open orders with current mark price\n            \"leverage\": \"100\",      // current initial leverage\n            \"isolated\": true,       // if the position is isolated\n            \"entryPrice\": \"0.00000\",    // average entry price\n            \"breakEvenPrice\": \"0.0\",    // average entry price\n            \"maxNotional\": \"250000\",    // maximum available notional with current leverage\n            \"bidNotional\": \"0\",  // bids notional, ignore\n            \"askNotional\": \"0\",  // ask notional, ignore\n            \"positionSide\": \"BOTH\",     // position side\n            \"positionAmt\": \"0\",         // position amount\n            \"updateTime\": 0           // last update time\n        }\n    ]\n}\n */\n\n// Create our number formatter.\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n\n  // These options are needed to round to whole numbers if that's what you want.\n  //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n  //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});\n\nconst TR7BotAccount = (props) => {\n  const [message, $message] = useState(null);\n  async function fetchSomeBotData() {\n    const response = await tr7TradingBot.fetchAccountInfo();\n    return response;\n  }\n  useEffect(() => {\n    fetchSomeBotData().then((response) => $message(response));\n    const id = setInterval(() => {\n      fetchSomeBotData().then((response) => $message(response));\n    }, 1500);\n\n    return () => clearInterval(id);\n  }, []);\n\n  if (!message) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        {/* <h1>Account Information</h1> */}\n        <CRow>\n          {message.accounts.map((account, index) => {\n            console.log(account);\n            const positions = account.positions;\n            const assets = account.assets;\n            const fields = {\n              totalWalletBalance: \"wallet balance\",\n              totalUnrealizedProfit: \"unrealized profit\",\n              totalMarginBalance: \"margin balance\",\n              totalCrossWalletBalance: \"crossed wallet balance\",\n              totalCrossUnPnl: \"unrealized profit of crossed positions\",\n              availableBalance: \"available balance\",\n              maxWithdrawAmount: \"maximum amount for withdraw\",\n            };\n            const keys = Object.keys(fields);\n            const fieldValues = Object.values(fields);\n\n            const positionFields = {\n              positionAmt: \"position amount\",\n              entryPrice: \"average entry price\",\n              unrealizedProfit: \"unrealized profit\",\n            };\n\n            return (\n              <>\n                <CCol xl={4}>\n                  <CCard className=\"mb-4\">\n                    <CCardHeader>Information</CCardHeader>\n                    <CCardBody>\n                      <table className=\"table\">\n                        <tbody>\n                          {keys.map((key, index) => {\n                            return (\n                              <tr key={index}>\n                                <td>\n                                  <p>\n                                    <code className=\"highlighter-rouge\">\n                                      {fieldValues[index]}\n                                    </code>\n                                  </p>\n                                </td>\n                                <td>\n                                  <span className=\"h6\">\n                                    {formatter.format(account[key])}\n                                  </span>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </CCardBody>\n                  </CCard>\n                </CCol>\n                <CCol xl={4}>\n                  <CCard className=\"mb-4\">\n                    <CCardHeader>Assets</CCardHeader>\n                    <CCardBody>\n                      <table className=\"table\">\n                        <tbody>\n                          {assets.map((asset, idx) => {\n                            return (\n                              <tr key={idx}>\n                                <td>\n                                  <p>\n                                    <code className=\"highlighter-rouge\">\n                                      {asset[\"asset\"]}\n                                    </code>\n                                  </p>\n                                </td>\n                                <td>\n                                  <span className=\"h6\">\n                                    {formatter.format(asset[\"balance\"])}\n                                  </span>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </CCardBody>\n                  </CCard>\n                </CCol>\n                <CCol xl={4}>\n                  <CCard className=\"mb-4\">\n                    <CCardHeader>Positions</CCardHeader>\n                    <CCardBody>\n                      <table className=\"table\">\n                        {positions.map((position, index) => {\n                          return (\n                            <>\n                              <thead>\n                                <tr>\n                                  <th>{position[\"symbol\"]}</th>\n                                  {/* <th>Value</th> */}\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {Object.keys(positionFields).map(\n                                  (key, index) => {\n                                    return (\n                                      <tr key={index}>\n                                        <td>\n                                          <p>\n                                            <code className=\"highlighter-rouge\">\n                                              {\n                                                Object.values(positionFields)[\n                                                  index\n                                                ]\n                                              }\n                                            </code>\n                                          </p>\n                                        </td>\n                                        <td>\n                                          <span className=\"h6\">\n                                            {Object.keys(positionFields)[\n                                              index\n                                            ] === \"positionAmt\"\n                                              ? Number(position[key])\n                                              : formatter.format(position[key])}\n                                          </span>\n                                        </td>\n                                      </tr>\n                                    );\n                                  }\n                                )}\n                              </tbody>\n                            </>\n                          );\n                        })}\n                      </table>\n                    </CCardBody>\n                  </CCard>\n                </CCol>\n              </>\n            );\n          })}\n        </CRow>\n      </>\n    );\n  }\n};\n\nexport default TR7BotAccount;\n"],"names":["formatter","Intl","NumberFormat","style","currency","props","useState","message","$message","fetchSomeBotData","tr7TradingBot","response","useEffect","then","id","setInterval","clearInterval","accounts","map","account","index","console","log","positions","assets","fields","totalWalletBalance","totalUnrealizedProfit","totalMarginBalance","totalCrossWalletBalance","totalCrossUnPnl","availableBalance","maxWithdrawAmount","keys","Object","fieldValues","values","positionFields","positionAmt","entryPrice","unrealizedProfit","xl","className","key","format","asset","idx","position","Number","color"],"sourceRoot":""}