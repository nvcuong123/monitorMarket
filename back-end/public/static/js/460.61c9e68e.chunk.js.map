{"version":3,"file":"static/js/460.61c9e68e.chunk.js","mappings":"iOAmHMA,EAAY,IAAIC,KAAKC,aAAa,QAAS,CAC/CC,MAAO,WACPC,SAAU,QAMNC,EAAqB,SAACC,GAAW,IAAD,EAC9BC,EAAUD,EAAMC,QAEtB,OACE,8BACGC,MAAMC,QAAQF,EAAQG,YACL,QADc,EAC9BH,EAAQG,gBAAQ,aAAhB,EAAkBC,KAAI,SAACC,EAASC,GAC9B,IAAMC,EAAYF,EAAQE,UACpBC,EAASH,EAAQG,OACjBC,EAAS,CACbC,mBAAoB,iBACpBC,sBAAuB,oBACvBC,mBAAoB,iBACpBC,wBAAyB,yBACzBC,gBAAiB,yCACjBC,iBAAkB,oBAClBC,kBAAmB,+BAEfC,EAAOC,OAAOD,KAAKR,GACnBU,EAAcD,OAAOE,OAAOX,GAE5BY,EAAiB,CACrBC,YAAa,kBACbC,WAAY,sBACZC,iBAAkB,qBAGpB,OACE,iCACE,SAAC,KAAI,CAACC,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,2BACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,UACtB,2BACGT,EAAKb,KAAI,SAACuB,EAAKrB,GACd,OACE,2BACE,yBACE,wBACE,iBAAMoB,UAAU,oBAAmB,SAChCP,EAAYb,UAInB,yBACE,iBAAMoB,UAAU,KAAI,SACjBjC,EAAUmC,OAAOvB,EAAQsB,UAVvBrB,EAeb,gBAMV,SAAC,KAAI,CAACmB,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,sBACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,UACtB,2BACGlB,EAAOJ,KAAI,SAACyB,EAAOC,GAClB,OACE,2BACE,yBACE,wBACE,iBAAMJ,UAAU,oBAAmB,SAChCG,EAAa,aAIpB,yBACE,iBAAMH,UAAU,KAAI,SACjBjC,EAAUmC,OAAOC,EAAe,eAV9BC,EAeb,gBAMV,SAAC,KAAI,CAACL,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,yBACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,SACrBnB,EAAUH,KAAI,SAAC2B,EAAUzB,GACxB,OACE,iCACE,4BACE,yBACE,wBAAKyB,EAAiB,UADfzB,MAKX,2BACGY,OAAOD,KAAKI,GAAgBjB,KAAI,SAACuB,EAAKrB,GACrC,OACE,2BACE,yBACE,wBACE,iBAAMoB,UAAU,oBAAmB,SAChCR,OAAOE,OAAOC,GAAgBf,UAIrC,yBACE,iBAAMoB,UAAU,KAAI,SAElB,gBADCR,OAAOD,KAAKI,GAAgBf,GAEzB0B,OAAOD,EAASJ,IAChBlC,EAAUmC,OAAOG,EAASJ,UAb3BrB,EAkBb,QAIR,eAOd,MAGR,EACM2B,EAAoB,SAAClC,GACzB,IAAMI,EAAWJ,EAAMC,QAAQG,SAC/B,IAAI+B,IAAAA,QAAU/B,GAAd,CAIA,IAAMK,EAAS,GACX2B,EAAS,CAAC,EAKd,OAJAA,EAAc,MAAIhC,EAASN,SAC3BsC,EAAgB,QAAIhC,EAASiC,MAC7B5B,EAAO6B,KAAKF,IAGV,+BACE,SAAC,KAAI,CAACV,GAAI,EAAE,UACV,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,sBACZ,SAAC,KAAS,WACR,kBAAOA,UAAU,QAAO,UACtB,2BACGlB,EAAOJ,KAAI,SAACyB,EAAOC,GAClB,OACE,2BACE,yBACE,wBACE,iBAAMJ,UAAU,oBAAmB,SAChCG,EAAa,aAIpB,yBACE,iBAAMH,UAAU,KAAI,SACjBjC,EAAUmC,OAAOC,EAAe,eAV9BC,EAeb,gBAjCd,CAyCF,EACMQ,EAAmB,SAACvC,GACxB,OAAO,mDACT,EAwFA,UAtFsB,SAACA,GACrB,OASIwC,EAAAA,EAAAA,MAJFC,GAJO,EAAPC,QACU,EAAVC,WACgB,EAAhBC,iBACe,EAAfC,gBACW,EAAXJ,aAGAK,GAFS,EAATC,UACc,EAAdC,eACY,EAAZF,cAGF,GAA4BG,EAAAA,EAAAA,UAAS,MAAK,eAAnChD,EAAO,KAAEiD,EAAQ,KAAmB,SAC5BC,EAAiB,GAAD,4CAG9B,OAH8B,0BAA/B,WAAgCC,GAAQ,4FACfC,EAAAA,GAAAA,iBAA+BD,GAAU,KAAD,EAAjD,OAARE,EAAQ,yBACPA,GAAQ,4CAChB,sBAUD,SAASC,EAAsBH,GAC7BN,EAAaU,EAAAA,GAAcJ,EAC7B,CAEA,OAbAK,EAAAA,EAAAA,YAAU,WACRP,EAAS,MACTC,EAAiBV,GAAaiB,MAAK,SAACJ,GAAQ,OAAKJ,EAASI,EAAS,IACnE,IAAMK,EAAKC,aAAY,WACrBT,EAAiBV,GAAaiB,MAAK,SAACJ,GAAQ,OAAKJ,EAASI,EAAS,GACrE,GAAG,MAEH,OAAO,kBAAMO,cAAcF,EAAI,CACjC,GAAG,CAAClB,IAKAN,IAAAA,QAAUlC,IACL,SAAC,KAAQ,CAAC6D,MAAM,UAGrB,iCACE,UAAC,KAAY,CAACC,KAAK,QAAQpC,UAAU,YAAW,WAC9C,SAAC,KAAU,CACTqC,KAAK,QACLC,OAAQ,CAAEH,MAAO,UAAWI,QAAS,WACrCC,KAAK,YACLR,GAAG,aACHS,aAAa,MACbC,MAAM,UACNC,eAAgB7B,IAAgB8B,EAAAA,GAChCC,QAAS,WAEPjB,EAAsBgB,EAAAA,GACxB,KAEF,SAAC,KAAU,CACTP,KAAK,QACLC,OAAQ,CAAEH,MAAO,UAAWI,QAAS,WACrCC,KAAK,YACLR,GAAG,aACHS,aAAa,MACbC,MAAM,SACNC,eAAgB7B,IAAgBgC,EAAAA,GAChCD,QAAS,kBAAMjB,EAAsBkB,EAAAA,GAAgB,KAEvD,SAAC,KAAU,CACTT,KAAK,QACLC,OAAQ,CAAEH,MAAO,UAAWI,QAAS,WACrCC,KAAK,YACLR,GAAG,aACHS,aAAa,MACbC,MAAM,QACNC,eAAgB7B,IAAgBiC,EAAAA,GAChCF,QAAS,kBAAMjB,EAAsBmB,EAAAA,GAAe,QAGxD,UAAC,KAAI,WACFjC,IAAgB8B,EAAAA,KACf,SAACxE,EAAkB,CAACE,QAASA,IAE9BwC,IAAgBgC,EAAAA,KACf,SAACvC,EAAiB,CAACjC,QAASA,IAE7BwC,IAAgBiC,EAAAA,KACf,SAACnC,EAAgB,CAACtC,QAASA,SAMvC,C","sources":["pages/Account.js"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot, {\n  EXCHANGE_BINANCE,\n  EXCHANGE_GATEIO,\n  EXCHANGE_BYBIT,\n} from \"../Model/tr7-trading-bot.js\";\nimport {\n  CSpinner,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n  CButtonGroup,\n  CFormCheck,\n} from \"@coreui/react\";\nimport _ from \"lodash\";\nimport {\n  useFuturesOrderInfo,\n  CUR_EXCHANGE,\n  CUR_SYMBOL,\n  MODE,\n  LEVERAGE,\n  DIRECTION,\n  TYPE,\n  PRICE,\n  AMOUNT,\n  TAKE_PROFIT,\n  STOP_LOSS,\n  DEFAULT_SYMBOL,\n  DEFAULT_SYMBOL_GATEIO,\n  DEFAULT_SYMBOL_BYBIT,\n} from \"../Provider/FuturesOrderInfo.js\";\n\n/**\n * {   \n    \"feeTier\": 0,       // account commission tier \n    \"canTrade\": true,   // if can trade\n    \"canDeposit\": true,     // if can transfer in asset\n    \"canWithdraw\": true,    // if can transfer out asset\n    \"updateTime\": 0,        // reserved property, please ignore \n    \"multiAssetsMargin\": true,\n    \"tradeGroupId\": -1,\n    \"totalInitialMargin\": \"0.00000000\",    // the sum of USD value of all cross positions/open order initial margin\n    \"totalMaintMargin\": \"0.00000000\",     // the sum of USD value of all cross positions maintenance margin\n    \"totalWalletBalance\": \"126.72469206\",     // total wallet balance in USD\n    \"totalUnrealizedProfit\": \"0.00000000\",   // total unrealized profit in USD\n    \"totalMarginBalance\": \"126.72469206\",     // total margin balance in USD\n    \"totalPositionInitialMargin\": \"0.00000000\",    // the sum of USD value of all cross positions initial margin\n    \"totalOpenOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price in USD\n    \"totalCrossWalletBalance\": \"126.72469206\",      // crossed wallet balance in USD\n    \"totalCrossUnPnl\": \"0.00000000\",      // unrealized profit of crossed positions in USD\n    \"availableBalance\": \"126.72469206\",       // available balance in USD\n    \"maxWithdrawAmount\": \"126.72469206\"     // maximum virtual amount for transfer out in USD\n    \"assets\": [\n        {\n            \"asset\": \"USDT\",            // asset name\n            \"walletBalance\": \"23.72469206\",      // wallet balance\n            \"unrealizedProfit\": \"0.00000000\",    // unrealized profit\n            \"marginBalance\": \"23.72469206\",      // margin balance\n            \"maintMargin\": \"0.00000000\",        // maintenance margin required\n            \"initialMargin\": \"0.00000000\",    // total initial margin required with current mark price \n            \"positionInitialMargin\": \"0.00000000\",    //initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price\n            \"crossWalletBalance\": \"23.72469206\",      // crossed wallet balance\n            \"crossUnPnl\": \"0.00000000\"       // unrealized profit of crossed positions\n            \"availableBalance\": \"126.72469206\",       // available balance\n            \"maxWithdrawAmount\": \"23.72469206\",     // maximum amount for transfer out\n            \"marginAvailable\": true,    // whether the asset can be used as margin in Multi-Assets mode\n            \"updateTime\": 1625474304765 // last update time \n        },\n        {\n            \"asset\": \"BUSD\",            // asset name\n            \"walletBalance\": \"103.12345678\",      // wallet balance\n            \"unrealizedProfit\": \"0.00000000\",    // unrealized profit\n            \"marginBalance\": \"103.12345678\",      // margin balance\n            \"maintMargin\": \"0.00000000\",        // maintenance margin required\n            \"initialMargin\": \"0.00000000\",    // total initial margin required with current mark price \n            \"positionInitialMargin\": \"0.00000000\",    //initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0.00000000\",   // initial margin required for open orders with current mark price\n            \"crossWalletBalance\": \"103.12345678\",      // crossed wallet balance\n            \"crossUnPnl\": \"0.00000000\"       // unrealized profit of crossed positions\n            \"availableBalance\": \"126.72469206\",       // available balance\n            \"maxWithdrawAmount\": \"103.12345678\",     // maximum amount for transfer out\n            \"marginAvailable\": true,    // whether the asset can be used as margin in Multi-Assets mode\n            \"updateTime\": 1625474304765 // last update time\n        }\n    ],\n    \"positions\": [  // positions of all symbols in the market are returned\n        // only \"BOTH\" positions will be returned with One-way mode\n        // only \"LONG\" and \"SHORT\" positions will be returned with Hedge mode\n        {\n            \"symbol\": \"BTCUSDT\",    // symbol name\n            \"initialMargin\": \"0\",   // initial margin required with current mark price \n            \"maintMargin\": \"0\",     // maintenance margin required\n            \"unrealizedProfit\": \"0.00000000\",  // unrealized profit\n            \"positionInitialMargin\": \"0\",      // initial margin required for positions with current mark price\n            \"openOrderInitialMargin\": \"0\",     // initial margin required for open orders with current mark price\n            \"leverage\": \"100\",      // current initial leverage\n            \"isolated\": true,       // if the position is isolated\n            \"entryPrice\": \"0.00000\",    // average entry price\n            \"breakEvenPrice\": \"0.0\",    // average entry price\n            \"maxNotional\": \"250000\",    // maximum available notional with current leverage\n            \"bidNotional\": \"0\",  // bids notional, ignore\n            \"askNotional\": \"0\",  // ask notional, ignore\n            \"positionSide\": \"BOTH\",     // position side\n            \"positionAmt\": \"0\",         // position amount\n            \"updateTime\": 0           // last update time\n        }\n    ]\n}\n */\n\n// Create our number formatter.\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n\n  // These options are needed to round to whole numbers if that's what you want.\n  //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n  //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});\nconst BinanceAccountInfo = (props) => {\n  const message = props.message;\n\n  return (\n    <>\n      {Array.isArray(message.accounts) &&\n        message.accounts?.map((account, index) => {\n          const positions = account.positions;\n          const assets = account.assets;\n          const fields = {\n            totalWalletBalance: \"wallet balance\",\n            totalUnrealizedProfit: \"unrealized profit\",\n            totalMarginBalance: \"margin balance\",\n            totalCrossWalletBalance: \"crossed wallet balance\",\n            totalCrossUnPnl: \"unrealized profit of crossed positions\",\n            availableBalance: \"available balance\",\n            maxWithdrawAmount: \"maximum amount for withdraw\",\n          };\n          const keys = Object.keys(fields);\n          const fieldValues = Object.values(fields);\n\n          const positionFields = {\n            positionAmt: \"position amount\",\n            entryPrice: \"average entry price\",\n            unrealizedProfit: \"unrealized profit\",\n          };\n\n          return (\n            <>\n              <CCol xl={4}>\n                <CCard className=\"mb-4\">\n                  <CCardHeader>Information</CCardHeader>\n                  <CCardBody>\n                    <table className=\"table\">\n                      <tbody>\n                        {keys.map((key, index) => {\n                          return (\n                            <tr key={index}>\n                              <td>\n                                <p>\n                                  <code className=\"highlighter-rouge\">\n                                    {fieldValues[index]}\n                                  </code>\n                                </p>\n                              </td>\n                              <td>\n                                <span className=\"h6\">\n                                  {formatter.format(account[key])}\n                                </span>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n              <CCol xl={4}>\n                <CCard className=\"mb-4\">\n                  <CCardHeader>Assets</CCardHeader>\n                  <CCardBody>\n                    <table className=\"table\">\n                      <tbody>\n                        {assets.map((asset, idx) => {\n                          return (\n                            <tr key={idx}>\n                              <td>\n                                <p>\n                                  <code className=\"highlighter-rouge\">\n                                    {asset[\"asset\"]}\n                                  </code>\n                                </p>\n                              </td>\n                              <td>\n                                <span className=\"h6\">\n                                  {formatter.format(asset[\"balance\"])}\n                                </span>\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </table>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n              <CCol xl={4}>\n                <CCard className=\"mb-4\">\n                  <CCardHeader>Positions</CCardHeader>\n                  <CCardBody>\n                    <table className=\"table\">\n                      {positions.map((position, index) => {\n                        return (\n                          <>\n                            <thead>\n                              <tr key={index}>\n                                <th>{position[\"symbol\"]}</th>\n                                {/* <th>Value</th> */}\n                              </tr>\n                            </thead>\n                            <tbody>\n                              {Object.keys(positionFields).map((key, index) => {\n                                return (\n                                  <tr key={index}>\n                                    <td>\n                                      <p>\n                                        <code className=\"highlighter-rouge\">\n                                          {Object.values(positionFields)[index]}\n                                        </code>\n                                      </p>\n                                    </td>\n                                    <td>\n                                      <span className=\"h6\">\n                                        {Object.keys(positionFields)[index] ===\n                                        \"positionAmt\"\n                                          ? Number(position[key])\n                                          : formatter.format(position[key])}\n                                      </span>\n                                    </td>\n                                  </tr>\n                                );\n                              })}\n                            </tbody>\n                          </>\n                        );\n                      })}\n                    </table>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n            </>\n          );\n        })}\n    </>\n  );\n};\nconst GateIOAccountInfo = (props) => {\n  const accounts = props.message.accounts;\n  if (_.isEmpty(accounts)) {\n    return;\n  }\n\n  const assets = [];\n  let asset1 = {};\n  asset1[\"asset\"] = accounts.currency;\n  asset1[\"balance\"] = accounts.total;\n  assets.push(asset1);\n\n  return (\n    <>\n      <CCol xl={4}>\n        <CCard className=\"mb-4\">\n          <CCardHeader>Assets</CCardHeader>\n          <CCardBody>\n            <table className=\"table\">\n              <tbody>\n                {assets.map((asset, idx) => {\n                  return (\n                    <tr key={idx}>\n                      <td>\n                        <p>\n                          <code className=\"highlighter-rouge\">\n                            {asset[\"asset\"]}\n                          </code>\n                        </p>\n                      </td>\n                      <td>\n                        <span className=\"h6\">\n                          {formatter.format(asset[\"balance\"])}\n                        </span>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </CCardBody>\n        </CCard>\n      </CCol>\n    </>\n  );\n};\nconst ByBitAccountInfo = (props) => {\n  return <>Not supported yet</>;\n};\n\nconst TR7BotAccount = (props) => {\n  const {\n    loading,\n    symbolList,\n    symbolListGateIO,\n    symbolListByBit,\n    curExchange,\n    curSymbol,\n    userOrderParam,\n    setOrderInfo,\n  } = useFuturesOrderInfo();\n  // const [exchange, $exchange] = useState(EXCHANGE_BINANCE);\n  const [message, $message] = useState(null);\n  async function fetchSomeBotData(exchange) {\n    const response = await tr7TradingBot.fetchAccountInfo(exchange);\n    return response;\n  }\n  useEffect(() => {\n    $message(null);\n    fetchSomeBotData(curExchange).then((response) => $message(response));\n    const id = setInterval(() => {\n      fetchSomeBotData(curExchange).then((response) => $message(response));\n    }, 3500);\n\n    return () => clearInterval(id);\n  }, [curExchange]);\n  function exchangeChangeHandler(exchange) {\n    setOrderInfo(CUR_EXCHANGE, exchange);\n  }\n\n  if (_.isEmpty(message)) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CButtonGroup role=\"group\" className=\"mt-2 mb-4\">\n          <CFormCheck\n            type=\"radio\"\n            button={{ color: \"primary\", variant: \"outline\" }}\n            name=\"vbtnradio\"\n            id=\"vbtnradio0\"\n            autoComplete=\"off\"\n            label=\"Binance\"\n            defaultChecked={curExchange === EXCHANGE_BINANCE}\n            onClick={() => {\n              // console.log(\"exchange:\", EXCHANGE_BINANCE);\n              exchangeChangeHandler(EXCHANGE_BINANCE);\n            }}\n          />\n          <CFormCheck\n            type=\"radio\"\n            button={{ color: \"primary\", variant: \"outline\" }}\n            name=\"vbtnradio\"\n            id=\"vbtnradio1\"\n            autoComplete=\"off\"\n            label=\"GateIO\"\n            defaultChecked={curExchange === EXCHANGE_GATEIO}\n            onClick={() => exchangeChangeHandler(EXCHANGE_GATEIO)}\n          />\n          <CFormCheck\n            type=\"radio\"\n            button={{ color: \"primary\", variant: \"outline\" }}\n            name=\"vbtnradio\"\n            id=\"vbtnradio2\"\n            autoComplete=\"off\"\n            label=\"ByBit\"\n            defaultChecked={curExchange === EXCHANGE_BYBIT}\n            onClick={() => exchangeChangeHandler(EXCHANGE_BYBIT)}\n          />\n        </CButtonGroup>\n        <CRow>\n          {curExchange === EXCHANGE_BINANCE && (\n            <BinanceAccountInfo message={message} />\n          )}\n          {curExchange === EXCHANGE_GATEIO && (\n            <GateIOAccountInfo message={message} />\n          )}\n          {curExchange === EXCHANGE_BYBIT && (\n            <ByBitAccountInfo message={message} />\n          )}\n        </CRow>\n      </>\n    );\n  }\n};\n\nexport default TR7BotAccount;\n"],"names":["formatter","Intl","NumberFormat","style","currency","BinanceAccountInfo","props","message","Array","isArray","accounts","map","account","index","positions","assets","fields","totalWalletBalance","totalUnrealizedProfit","totalMarginBalance","totalCrossWalletBalance","totalCrossUnPnl","availableBalance","maxWithdrawAmount","keys","Object","fieldValues","values","positionFields","positionAmt","entryPrice","unrealizedProfit","xl","className","key","format","asset","idx","position","Number","GateIOAccountInfo","_","asset1","total","push","ByBitAccountInfo","useFuturesOrderInfo","curExchange","loading","symbolList","symbolListGateIO","symbolListByBit","setOrderInfo","curSymbol","userOrderParam","useState","$message","fetchSomeBotData","exchange","tr7TradingBot","response","exchangeChangeHandler","CUR_EXCHANGE","useEffect","then","id","setInterval","clearInterval","color","role","type","button","variant","name","autoComplete","label","defaultChecked","EXCHANGE_BINANCE","onClick","EXCHANGE_GATEIO","EXCHANGE_BYBIT"],"sourceRoot":""}