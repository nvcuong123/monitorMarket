"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[350],{27350:function(e,n,r){r.r(n);var t=r(93433),l=r(74165),s=r(15861),a=r(29439),i=r(72791),c=r(55230),u=r(78983),o=r(80184),d="Short",m="Isolated",f=function(e){var n=e.onCloseHandler,r=(e.onSubmitHandler,(0,i.useRef)(null)),f=(0,i.useState)([]),h=(0,a.Z)(f,2),p=h[0],x=h[1],j=(0,i.useRef)(d),b=((0,i.useRef)("30"),(0,i.useRef)("5")),v=(0,i.useRef)(m),g=(0,i.useRef)("1000"),w=(0,i.useState)("BTCUSDT"),y=(0,a.Z)(w,2),N=y[0],Z=y[1],S=(0,i.useState)(5),V=(0,a.Z)(S,2),k=V[0],C=V[1],L=(0,i.useState)(Array(5)),R=(0,a.Z)(L,2),F=R[0],T=R[1],Y=(0,i.useState)(Array(5)),P=(0,a.Z)(Y,2),A=P[0],M=P[1],I=(0,i.useState)(null),O=(0,a.Z)(I,2),_=O[0],D=O[1],E=(0,i.useState)(null),B=(0,a.Z)(E,2),G=B[0],H=B[1],X=(0,i.useState)("---"),z=(0,a.Z)(X,2),U=z[0],Q=z[1],q=(0,i.useState)("---"),J=(0,a.Z)(q,2),K=J[0],W=J[1],$=(0,i.useRef)(null),ee=(0,i.useRef)(null);function ne(e){var n=Number(e.target.id.replace("price",""));T((function(r){var l=(0,t.Z)(r);return l[n]=Number(e.target.value),l}))}function re(e){var n=Number(e.target.id.replace("amount",""));M((function(r){var l=(0,t.Z)(r);return l[n]=Number(e.target.value),l}))}return(0,i.useEffect)((function(){(function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.getSymbolList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbols.sort();x(n)}))}),[]),(0,i.useEffect)((function(){function e(){(function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.getSymbolMarketInfo(N);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbolMarketInfo;Q(n.markPrice),W(n.lastPrice)}))}if(e(),N){var n=setInterval(e,2e3);return function(){return clearInterval(n)}}}),[N]),(0,i.useEffect)((function(){var e,n=0,r=0;F.slice(0,k).forEach((function(e,t){var l=A[t];void 0!==e&&void 0!==l&&(n+=l,r+=e*l)})),e=(r/n).toFixed(2),H(e),D(n)}),[F,A,k]),(0,o.jsxs)(u.lx,{ref:r,onSubmit:function(e){e.preventDefault(),function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=F.map((function(e,n){return[e,A[n]]})),r={symbol:N,mode:v.current.value.toLowerCase(),direction:j.current.value.toLowerCase(),leverage:Number(b.current.value),maxBalance:Number(g.current.value),levels:(0,t.Z)(n),takeProfit:{trigger:"mark",type:"market",percent:Number($.current.value)},stopLoss:{trigger:"last",type:"limit",percent:Number(ee.current.value)}},e.next=4,c.Z.placeGridOrder(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log(e)}))},children:[(0,o.jsx)(u.p0,{children:(0,o.jsx)(u.fl,{children:"New Trade"})}),(0,o.jsx)(u.sD,{children:(0,o.jsxs)(u.rb,{className:"d-flex d-flex-row justify-content-around",children:[(0,o.jsxs)(u.b7,{xs:10,lg:5,children:[(0,o.jsxs)(u.YR,{className:"mb-2",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputSymbol",className:"",children:"Symbol"}),(0,o.jsx)(u.LX,{id:"inputSymbol",onChange:function(e){Z(e.target.value),C(5),T(new Array(5)),M(new Array(5))},value:N,children:p.map((function(e,n){return(0,o.jsx)("option",{children:e},n)}))})]}),(0,o.jsxs)(u.YR,{className:"mb-2",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputMode",children:"Mode"}),(0,o.jsxs)(u.LX,{ref:v,id:"inputMode",defaultValue:m,children:[(0,o.jsx)("option",{children:"Isolated"}),(0,o.jsx)("option",{children:"Cross"})]})]}),(0,o.jsxs)(u.YR,{className:"mb-2",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputSide",children:"Direction"}),(0,o.jsxs)(u.LX,{id:"inputSide",ref:j,defaultValue:d,children:[(0,o.jsx)("option",{children:"Long"}),(0,o.jsx)("option",{children:"Short"})]})]}),(0,o.jsxs)(u.YR,{className:"mb-2",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputLeverage",children:"Leverage"}),(0,o.jsx)(u.jO,{ref:b,type:"number","aria-label":"profit target",className:"col-4",defaultValue:"5",id:"inputLeverage"}),(0,o.jsx)(u.wV,{component:"label",children:"x"})]}),(0,o.jsxs)(u.YR,{className:"mb-2",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputInitialMargin",children:"Max Balance"}),(0,o.jsx)(u.jO,{ref:g,type:"number",placeholder:"100","aria-label":"profit target",className:"col-4",defaultValue:1e3,id:"inputInitialMargin"}),(0,o.jsx)(u.wV,{component:"label",children:"USDT"})]})]}),(0,o.jsxs)(u.b7,{xs:10,lg:6,children:[(0,o.jsxs)(u.rb,{children:[(0,o.jsx)(u.b7,{children:(0,o.jsxs)(u.C_,{color:"info",children:["Mark Price: ",Number(U).toFixed(2)]})}),(0,o.jsx)(u.b7,{children:(0,o.jsxs)(u.C_,{color:"warning",children:["Last Price: ",Number(K).toFixed(2)]})})]}),(0,o.jsxs)(u.YR,{className:"mt-1 mb-2 md-col-4",children:[(0,o.jsxs)(u.YR,{className:"mb-0",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputLevels",children:"Number Levels"}),(0,o.jsx)(u.jO,{type:"number",placeholder:k,"aria-label":"",value:k,id:"inputLevels",onChange:function(e){C(e.target.value)}})]}),!!k&&Array.from({length:k}).map((function(e,n){return(0,o.jsxs)(u.YR,{className:"mb-0",size:"sm",children:[(0,o.jsxs)(u.wV,{component:"label",htmlFor:"price"+n,children:["Price ",n+1]}),(0,o.jsx)(u.jO,{type:"number",placeholder:"","aria-label":"price",value:F[n],id:"price"+n,onChange:ne}),(0,o.jsxs)(u.wV,{component:"label",htmlFor:"amout"+n,children:["Amt ",n+1]}),(0,o.jsx)(u.jO,{type:"number",placeholder:"","aria-label":"amount",defaultValue:"",id:"amount"+n,onChange:re})]},n)})),(0,o.jsxs)(u.rb,{children:[(0,o.jsx)(u.b7,{children:(0,o.jsxs)(u.C_,{color:"danger",children:["Average Price: ",G]})}),(0,o.jsx)(u.b7,{children:(0,o.jsxs)(u.C_,{color:"warning",children:["Total Amount: ",_]})})]})]}),(0,o.jsxs)(u.YR,{className:"my-2",children:[(0,o.jsxs)(u.YR,{className:"mb-1",children:[(0,o.jsx)(u.wV,{component:"label",htmlFor:"inputTP",children:"Take Profit (option)"}),(0,o.jsx)(u.jO,{ref:$,type:"number",placeholder:"","aria-label":"Take Profit",defaultValue:"",id:"inputTP"}),(0,o.jsx)(u.wV,{component:"label",children:"%"})]}),(0,o.jsxs)(u.YR,{className:"mb-1",children:[(0,o.jsx)(u.wV,{className:"",component:"label",htmlFor:"inputSL",children:"Stop Loss (option)"}),(0,o.jsx)(u.jO,{ref:ee,type:"number",placeholder:"","aria-label":"stoploss percent",defaultValue:"",id:"inputSL"}),(0,o.jsx)(u.wV,{component:"label",children:"%"})]})]})]})]})}),(0,o.jsxs)(u.Ym,{children:[(0,o.jsx)(u.u5,{color:"secondary",onClick:function(){return n},children:"Close"}),(0,o.jsx)(u.u5,{color:"primary",type:"submit",children:"Submit"})]})]})},h=function(){return(0,o.jsx)(o.Fragment,{children:"List of current running grid tradings"})};n.default=function(){var e=(0,i.useState)(null),n=(0,a.Z)(e,2),r=n[0],t=n[1],c=(0,i.useState)(!1),d=(0,a.Z)(c,2),m=d[0],p=d[1];function x(){return(x=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){return t(e)}))}),[]),r?!1===r.success?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"Auto Grid Trade"}),(0,o.jsx)("p",{children:r.message})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,o.jsx)("h1",{children:"Auto Grid Trade"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:function(e){p(!0)},className:"btn btn-warning",children:"New Trade"}),(0,o.jsx)(u.Tk,{size:"lg",alignment:"center",visible:m,onClose:function(){return p(!1)},children:(0,o.jsx)(f,{onCloseHandler:function(){return p(!1)}})})]})]}),(0,o.jsx)(h,{})]}):(0,o.jsx)(u.LQ,{color:"info"})}}}]);
//# sourceMappingURL=350.aee36ee3.chunk.js.map