{"version":3,"file":"static/js/263.f19853fb.chunk.js","mappings":";0IA4BA,IAzBc,SAACA,EAAQC,GACrB,OACE,SAAC,KAAM,CAACC,MAAM,YAAW,UACvB,4BACE,UAAC,KAAY,CAACC,aAAW,aACvB,gBACEC,UAAU,eACVC,MAAM,KACNC,OAAO,KACPC,MAAM,6BACNC,oBAAoB,iBACpBC,UAAU,QACVC,KAAK,MAAK,UAEV,iBAAML,MAAM,OAAOC,OAAO,OAAOK,KAAK,eAExC,gBAAKP,UAAU,kBAAiB,SAAEJ,QAGpC,SAAC,KAAU,UAAEC,QAIrB,+KCDMW,EAAgB,WAChBC,EAAe,UACfC,EAAeF,EAEfG,EAAkB,QAClBC,EAAoBD,EACpBE,EAAc,SACdC,EAAa,QACbC,EAAeF,EA4TrB,EAxTiB,SAAH,GAA6C,IAAvCG,EAAc,EAAdA,eAClB,GADiD,EAAfC,iBACNC,EAAAA,EAAAA,WAAS,IAAK,eAAnCC,EAAO,KAAEC,EAAQ,KACxB,GAA0BF,EAAAA,EAAAA,UAAS,GAAE,eAA9BG,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACbC,GAAUD,EAAAA,EAAAA,QAAO,MACvB,GAAkCN,EAAAA,EAAAA,UAAS,IAAG,eAAvCQ,EAAU,KAAEC,EAAW,KACxBC,GAAeJ,EAAAA,EAAAA,QAAOZ,GAEtBiB,IADkBL,EAAAA,EAAAA,QArBI,OAsBRA,EAAAA,EAAAA,QArBG,MAsBjBM,GAAUN,EAAAA,EAAAA,QAAOd,GACvB,GAAgCQ,EAAAA,EAAAA,UAzBX,WAyBmC,eAAjDa,EAAS,KAAEC,EAAU,KAC5B,GAAsBd,EAAAA,EAAAA,UAASH,GAAa,eAArCkB,EAAI,KAAEC,EAAK,KAClB,GAAwBhB,EAAAA,EAAAA,YAAU,eAA3BiB,EAAK,KAAEC,EAAM,KACpB,GAA0BlB,EAAAA,EAAAA,YAAU,eAA7BmB,EAAM,KAAEC,EAAO,KACtB,GAAkDpB,EAAAA,EAAAA,UAAS,OAAM,eAA1DqB,EAAkB,KAAEC,GAAmB,KAC9C,IAAkDtB,EAAAA,EAAAA,UAAS,OAAM,iBAA1DuB,GAAkB,MAAEC,GAAmB,MACxCC,IAAgBnB,EAAAA,EAAAA,QAAO,MACvBoB,IAAcpB,EAAAA,EAAAA,QAAO,MA0G3B,OAzFAqB,EAAAA,EAAAA,YAAU,YACR,yCAAC,mGACcC,EAAAA,EAAAA,gBAA8B,KAAD,8EADb,OAE9B,WAF8B,iCAA/B,KAEKC,MAAK,SAACC,GACT,IAAMC,EAAcD,EAAIE,QAAQC,OAChCxB,EAAYsB,EACd,GACF,GAAG,KAEHJ,EAAAA,EAAAA,YAAU,WACR,SAASO,KACP,yCAAC,mGACcN,EAAAA,EAAAA,oBAAkCf,GAAW,KAAD,8EADtB,OAEpC,WAFoC,iCAArC,KAEKgB,MAAK,SAACC,GACT,IAAMK,EAAaL,EAAIM,iBACvBd,GAAoBa,EAAWE,WAC/Bb,GAAoBW,EAAWG,UACjC,GACF,CA7BF,IAAyBC,EAkCvB,GAJAL,IA9BuBK,EA+BP1B,EA9BhB,yCAAC,mGACce,EAAAA,EAAAA,cAA4BW,GAAQ,KAAD,8EADrB,OAE5B,WAF4B,gCAA7B,KAEKV,MAAK,SAACC,GACT,IAAMU,EAAaV,EAAIK,WACvBvB,EAAQ6B,QAAQC,OACU,IAAxBF,EAAWG,SAAoBrD,EAAgBC,EACjDoB,EAAY8B,QAAQC,MAAQF,EAAWI,QACzC,IAwBA1C,GAAS,GAEHW,EAAW,CACf,IAAMgC,EAAKC,YAAYZ,EAAuB,KAC9C,OAAO,kBAAMa,cAAcF,EAAI,CACjC,CACF,GAAG,CAAChC,IA8DAZ,GACK,SAAC,KAAQ,CAACrB,MAAM,UAGrB,iCACE,SAAC,KAAQ,CAACoE,IAAK3C,EAAY4C,KAAM9C,EAAO+C,UAAU,aAClD,UAAC,KAAK,CAACF,IAAKzC,EAAS4C,SAlE3B,SAA+BC,GAC7BA,EAAMC,iBAGFtC,IAASnB,GAAeqB,GAoB5Bb,GAASkD,EAAAA,EAAAA,GAAM,cAAc,wBAC7B,yCAAC,yFAWE,OAVGC,EAAQ,CACVhB,OAAQ1B,EACR2C,KAAM5C,EAAQ6B,QAAQC,MACtBe,KAAM/C,EAAa+B,QAAQC,MAC3BE,SAAUjC,EAAY8B,QAAQC,MAC9B3B,KAAMA,EACNI,OAAQA,EACRF,MAAOA,EACPyC,GAAIjC,GAAcgB,QAAQC,MAC1BiB,GAAIjC,GAAYe,QAAQC,OACxB,EAAD,OAEYd,EAAAA,EAAAA,cAA4B2B,GAAO,KAAD,8EAbtB,OAc1B,WAd0B,gCAA3B,KAcK1B,MAAK,SAACC,GACT1B,GAASkD,EAAAA,EAAAA,GAAM,cAAeM,KAAKC,UAAU/B,KAC7ChC,GACF,KArCEM,GAASkD,EAAAA,EAAAA,GAAM,cAAe,0CAsClC,EAuB2D,WACnD,SAAC,KAAY,WACX,SAAC,KAAW,2BAEd,SAAC,KAAU,WACT,UAAC,KAAI,CAACxE,UAAU,2CAA0C,WACxD,UAAC,KAAI,CAACgF,GAAI,GAAIC,GAAI,EAAE,WAClB,UAAC,KAAW,CAACjF,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdkF,UAAU,QACVC,QAAQ,cACRnF,UAAU,GAAE,qBAId,SAAC,KAAW,CACV+D,GAAG,cACHqB,SAtClB,SAA6BC,GAC3BrD,EAAWqD,EAAEC,OAAO1B,OAzFpBxB,EAAO,IACPE,EAAQ,GA0FV,EAoCkBsB,MAAO7B,EAAU,SAEhBL,EAAW6D,KAAI,SAAC9B,EAAQ+B,GACvB,OAAO,4BAAqB/B,GAAR+B,EACtB,UAGJ,UAAC,KAAW,CAACxF,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVjB,IAAKpC,EACLiC,GAAG,YACH0B,aAAc/E,EAAa,WAE3B,4BAASF,KACT,4BAASC,WAIb,UAAC,KAAW,CAACT,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,gBAAe,uBAG1D,SAAC,KAAU,CACTjB,IAAKrC,EACLI,KAAK,SACL,aAAW,gBACXjC,UAAU,QACVyF,aA9LK,IA+LL1B,GAAG,mBAEL,SAAC,KAAe,CAACmB,UAAU,QAAO,sBAGtC,UAAC,KAAI,CAACF,GAAI,GAAIC,GAAI,EAAE,WAClB,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAM,CAACnF,MAAM,OAAM,yBACL4F,OAAOnD,GAAoBoD,QAAQ,SAGpD,SAAC,KAAI,WACH,UAAC,KAAM,CAAC7F,MAAM,UAAS,yBACR4F,OAAOjD,IAAoBkD,QAAQ,YAItD,UAAC,KAAW,CAAC3F,UAAU,qBAAoB,WAEzC,SAAC,KAAI,CAACgF,GAAI,EAAGC,GAAI,EAAGjF,UAAU,OAAM,UAClC,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,YAAW,wBAGtD,UAAC,KAAW,CACVpB,GAAG,YACHG,IAAKtC,EACL6D,aAAc7E,EAAkB,WAEhC,4BAzND,UA0NC,4BAASD,aAIf,SAAC,KAAI,CAACqE,GAAI,EAAGC,GAAI,EAAE,UACjB,UAAC,KAAW,CAACjF,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVpB,GAAG,YACHH,MAAO3B,EACPmD,SAtGtB,SAA2BC,GACzBnD,EAAMmD,EAAEC,OAAO1B,MACjB,EAoGkD,WAE5B,4BAAS9C,KACT,4BAASD,aAMf,UAAC,KAAW,CAACb,UAAU,OAAO4F,KAAK,KAAI,WACrC,SAAC,KAAe,CAACV,UAAU,QAAQC,QAAS,QAAQ,oBAGpD,SAAC,KAAU,CACTlD,KAAK,SACL4D,YAAY,GACZ,aAAW,QACXjC,MAAOzB,EACP4B,GAAI,QACJqB,SA/HpB,SAAiCC,GAC/BjD,EAAOsD,OAAOL,EAAEC,OAAO1B,OACzB,EA8HoBkC,SAAU7D,IAASpB,KAGrB,SAAC,KAAe,CAACqE,UAAU,QAAQC,QAAS,QAAQ,qBAGpD,SAAC,KAAU,CACTlD,KAAK,SACL4D,YAAY,GACZ,aAAW,SACXJ,aAAa,GACb1B,GAAI,SACJqB,SAzIpB,SAAkCC,GAChC/C,EAAQoD,OAAOL,EAAEC,OAAO1B,OAC1B,WA2Ic,UAAC,KAAW,CAAC5D,UAAU,OAAM,WAC3B,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,UAAS,mCAGpD,SAAC,KAAU,CACTjB,IAAKvB,GACLV,KAAK,SACL4D,YAAY,GACZ,aAAW,cAEXJ,aAAa,GACb1B,GAAG,UACH+B,SAAU7D,IAASnB,KAErB,SAAC,KAAe,CAACoE,UAAU,QAAO,mBAEpC,UAAC,KAAW,CAAClF,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdA,UAAU,GACVkF,UAAU,QACVC,QAAQ,UAAS,iCAInB,SAAC,KAAU,CACTjB,IAAKtB,GACLX,KAAK,SACL4D,YAAY,GACZ,aAAW,mBAEXJ,aAAa,GACb1B,GAAG,UACH+B,SAAU7D,IAASnB,KAErB,SAAC,KAAe,CAACoE,UAAU,QAAO,8BAM5C,UAAC,KAAY,YACX,SAAC,KAAO,CAACpF,MAAM,YAAYiG,QAAS,kBAAM/E,GAAgB,EAAC,oBAG3D,SAAC,KAAO,CAAClB,MAAM,UAAUmC,KAAK,SAAQ,4BAQlD,YChUMzB,EAAgB,WAChBC,EAAe,UACfC,EAAeF,EAEfG,EAAkB,QAClBC,EAAoBD,EAua1B,EAhasB,SAAH,GAA6C,IAAvCK,EAAc,EAAdA,eACvB,GADsD,EAAfC,iBACXC,EAAAA,EAAAA,WAAS,IAAK,eAAnCC,EAAO,KAAEC,EAAQ,KACxB,GAA0BF,EAAAA,EAAAA,UAAS,GAAE,eAA9BG,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACbC,GAAUD,EAAAA,EAAAA,QAAO,MACvB,GAAkCN,EAAAA,EAAAA,UAAS,IAAG,eAAvCQ,EAAU,KAAEC,EAAW,KACxBC,GAAeJ,EAAAA,EAAAA,QAAOZ,GAEtBiB,IADkBL,EAAAA,EAAAA,QArBI,OAsBRA,EAAAA,EAAAA,QArBG,MAsBjBM,GAAUN,EAAAA,EAAAA,QAAOd,GACjBsF,GAAgBxE,EAAAA,EAAAA,QA3BI,QA4B1B,GAAgCN,EAAAA,EAAAA,UA1BX,WA0BmC,eAAjDa,EAAS,KAAEC,EAAU,KAC5B,GAAsCd,EAAAA,EAAAA,UA5Bf,GA4ByC,eAAzD+E,EAAY,KAAEC,EAAa,KAClC,GAA0BhF,EAAAA,EAAAA,UAASiF,MA7BZ,IA6BoC,eAApDC,EAAM,KAAEC,EAAO,KACtB,GAA4BnF,EAAAA,EAAAA,UAASiF,MA9Bd,IA8BsC,eAAtDG,EAAO,KAAEC,EAAQ,KACxB,GAAoCrF,EAAAA,EAAAA,UAAS,MAAK,eAA3CsF,EAAW,KAAEC,EAAY,KAChC,IAAsCvF,EAAAA,EAAAA,UAAS,MAAK,iBAA7CwF,GAAY,MAAEC,GAAa,MAClC,IAAkDzF,EAAAA,EAAAA,UAAS,OAAM,iBAA1DqB,GAAkB,MAAEC,GAAmB,MAC9C,IAAkDtB,EAAAA,EAAAA,UAAS,OAAM,iBAA1DuB,GAAkB,MAAEC,GAAmB,MAC9C,IAA4DxB,EAAAA,EAAAA,UAAS,GAAE,iBAAhE0F,GAAuB,MAAEC,GAAwB,MAClDlE,IAAgBnB,EAAAA,EAAAA,QAAO,MACvBoB,IAAcpB,EAAAA,EAAAA,QAAO,MA8H3B,SAASsF,GAAwBzB,GAC/B,IAAMG,EAAQE,OAAOL,EAAEC,OAAOvB,GAAGgD,QAAQ,QAAS,KAClDV,GAAQ,SAACW,GACP,IAAMC,GAAU,OAAOD,GAEvB,OADAC,EAAWzB,GAASE,OAAOL,EAAEC,OAAO1B,OAC7BqD,CACT,GACF,CACA,SAASC,GAAyB7B,GAChC,IAAMG,EAAQE,OAAOL,EAAEC,OAAOvB,GAAGgD,QAAQ,SAAU,KACnDR,GAAS,SAACY,GACR,IAAMC,GAAW,OAAOD,GAExB,OADAC,EAAY5B,GAASE,OAAOL,EAAEC,OAAO1B,OAC9BwD,CACT,GACF,CAEA,OA7HAvE,EAAAA,EAAAA,YAAU,YACR,yCAAC,mGACcC,EAAAA,EAAAA,gBAA8B,KAAD,8EADb,OAE9B,WAF8B,iCAA/B,KAEKC,MAAK,SAACC,GACT,IAAMC,EAAcD,EAAIE,QAAQC,OAChCxB,EAAYsB,EACd,GACF,GAAG,KAEHJ,EAAAA,EAAAA,YAAU,WACR,SAASO,KACP,yCAAC,mGACcN,EAAAA,EAAAA,oBAAkCf,GAAW,KAAD,8EAD5B,OAE9B,WAF8B,iCAA/B,KAEKgB,MAAK,SAACC,GACT,IAAMK,EAAaL,EAAIM,iBACvBd,GAAoBa,EAAWE,WAC/Bb,GAAoBW,EAAWG,WAC/B6D,QAAQC,IAAIjE,EAAWkE,gBACvBV,GACExD,EAAWkE,eAAiB,IAAMlE,EAAWkE,eAAiB,EAElE,GACF,CAjCF,IAAyB9D,EAsCvB,GAJAL,IAlCuBK,EAmCP1B,EAlChB,yCAAC,mGACce,EAAAA,EAAAA,cAA4BW,GAAQ,KAAD,8EADrB,OAE5B,WAF4B,gCAA7B,KAEKV,MAAK,SAACC,GACT,IAAMU,EAAaV,EAAIK,WACvBvB,EAAQ6B,QAAQC,OACU,IAAxBF,EAAWG,SAAoBrD,EAAgBC,EACjDoB,EAAY8B,QAAQC,MAAQF,EAAWI,QACzC,IA4BA1C,GAAS,GAEHW,EAAW,CACf,IAAMgC,EAAKC,YAAYZ,EAAuB,KAC9C,OAAO,kBAAMa,cAAcF,EAAI,CACjC,CACF,GAAG,CAAChC,KAGJc,EAAAA,EAAAA,YAAU,WACR,IAAI2E,EACAhB,EAAc,EACdiB,EAAmB,EACVrB,EAAOsB,MAAM,EAAGzB,GACxB0B,SAAQ,SAACxF,EAAOqD,GACnB,IAAMnD,EAASiE,EAAQd,GACnBrD,EAAQ,GAAKE,EAAS,IACxBmE,GAAenE,EACfoF,GAAoBtF,EAAQE,EAEhC,IACAmF,GAAYC,EAAmBjB,GAAab,QAC1CiB,IAEFD,GAAca,GACdf,EAAaD,EACf,GAAG,CAACJ,EAAQE,EAASL,IA0EjB9E,GACK,SAAC,KAAQ,CAACrB,MAAM,UAGrB,iCACE,SAAC,KAAQ,CAACoE,IAAK3C,EAAY4C,KAAM9C,EAAO+C,UAAU,aAClD,UAAC,KAAK,CAACF,IAAKzC,EAAS4C,SA9E3B,SAA+BC,GAC7BA,EAAMC,iBASNjD,GAASkD,EAAAA,EAAAA,GAAM,cAAc,wBAC7B,yCAAC,2FA0BE,OAzBKoD,EAAS,GACIxB,EAAOsB,MAAM,EAAGzB,GACxB0B,SAAQ,SAACxF,EAAOqD,GACzB,IAAMnD,EAASiE,EAAQd,GACnBrD,EAAQ,GAAKE,EAAS,GACxBuF,EAAOzD,KAAK,CAAChC,EAAOE,GAExB,IACMwF,EAAY,CAChBpE,OAAQ1B,EACR2C,KAAM5C,EAAQ6B,QAAQC,MACtBkE,UAAWlG,EAAa+B,QAAQC,MAChCE,SAAUjC,EAAY8B,QAAQC,MAC9BmE,WAAY/B,EAAcrC,QAAQC,MAClCgE,OAAO,GAAD,OAAMA,GACZI,WAAY,CACVC,QAAS,OACThG,KAAM,SACNiG,QAASvF,GAAcgB,QAAQC,OAEjCuE,SAAU,CACRF,QAAS,OACThG,KAAM,QACNiG,QAAStF,GAAYe,QAAQC,QAE/B,EAAD,OAEYd,EAAAA,EAAAA,eAA6B+E,GAAW,KAAD,8EA5BvB,OA6B9B,WA7B8B,gCAA/B,KA6BK9E,MAAK,SAACC,GACTqE,QAAQC,IAAItE,GACZ1B,GAASkD,EAAAA,EAAAA,GAAM,cAAeM,KAAKC,UAAU/B,KAC7ChC,GACF,GACF,EAiC2D,WACnD,SAAC,KAAY,WACX,SAAC,KAAW,gCAEd,SAAC,KAAU,WACT,UAAC,KAAI,CAAChB,UAAU,2CAA0C,WACxD,UAAC,KAAI,CAACgF,GAAI,GAAIC,GAAI,EAAE,WAClB,UAAC,KAAW,CAACjF,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdkF,UAAU,QACVC,QAAQ,cACRnF,UAAU,GAAE,qBAId,SAAC,KAAW,CACV+D,GAAG,cACHqB,SAhDlB,SAA6BC,GAC3BrD,EAAWqD,EAAEC,OAAO1B,OApHpBsC,EAxCqB,GAyCrBG,EAAQ,IAAIF,MAzCS,IA0CrBI,EAAS,IAAIJ,MA1CQ,GA8JvB,EA8CkBvC,MAAO7B,EAAU,SAEhBL,EAAW6D,KAAI,SAAC9B,EAAQ+B,GACvB,OACE,4BAIG/B,GAHI+B,EAMX,UAGJ,UAAC,KAAW,CAACxF,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVjB,IAAKpC,EACLiC,GAAG,YACH0B,aAAc/E,EAAa,WAE3B,4BAASF,KACT,4BAASC,WAGb,UAAC,KAAW,CAACT,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,gBAAe,uBAG1D,SAAC,KAAU,CACTjB,IAAKrC,EACLI,KAAK,SAEL,aAAW,gBACXjC,UAAU,QACVyF,aA9OK,IA+OL1B,GAAG,mBAEL,SAAC,KAAe,CAACmB,UAAU,QAAO,mBAEpC,UAAC,KAAW,CAAClF,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,YAAW,wBAGtD,UAAC,KAAW,CACVpB,GAAG,YACHG,IAAKtC,EACL6D,aAAc7E,EAAkB,WAEhC,4BAxPG,UAyPH,4BAASD,WAkBb,UAAC,KAAW,CAACX,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdkF,UAAU,QACVC,QAAQ,qBAAoB,0BAI9B,SAAC,KAAU,CACTjB,IAAK8B,EACL/D,KAAK,SACL4D,YAAY,MACZ,aAAW,gBACX7F,UAAU,QACVyF,aAAc,IACd1B,GAAG,wBAEL,SAAC,KAAe,CAACmB,UAAU,QAAO,yBAGtC,UAAC,KAAI,CAACF,GAAI,GAAIC,GAAI,EAAE,WAClB,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAM,CAACnF,MAAM,OAAM,wBACN,IACX4F,OAAOnD,IAAoBoD,QAC1BiB,UAIN,SAAC,KAAI,WACH,UAAC,KAAM,CAAC9G,MAAM,UAAS,wBACT,IACX4F,OAAOjD,IAAoBkD,QAC1BiB,aAKR,UAAC,KAAW,CAAC5G,UAAU,qBAAoB,WACzC,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,cAAa,4BAGxD,SAAC,KAAU,CACTlD,KAAK,SACL4D,YAAaI,EACb,aAAW,GAEXrC,MAAOqC,EACPlC,GAAG,cACHqB,SArKpB,SAAkCC,GAChCa,EAAcb,EAAEC,OAAO1B,MACzB,SAsKmBqC,GACDE,MAAMiC,KAAK,CAAEC,OAAQpC,IAAgBV,KAAI,SAAC+C,EAAO9C,GAC/C,OACE,UAAC,KAAW,CAACxF,UAAU,OAAmB4F,KAAK,KAAI,WACjD,UAAC,KAAe,CACdV,UAAU,QACVC,QAAS,QAAUK,EAAM,mBAElBA,EAAQ,MAEjB,SAAC,KAAU,CACTvD,KAAK,SACLsG,KAAK,MACL1C,YAAY,GACZ,aAAW,QACXJ,aAAa,GAEb1B,GAAI,QAAUyB,EACdJ,SAAU0B,MAGZ,UAAC,KAAe,CACd5B,UAAU,QACVC,QAAS,QAAUK,EAAM,iBAEpBA,EAAQ,MAEf,SAAC,KAAU,CACTvD,KAAK,SACLsG,KAAK,MACL1C,YAAY,GACZ,aAAW,SACXJ,aAAa,GACb1B,GAAI,SAAWyB,EACfJ,SAAU8B,OA/BqB1B,EAmCvC,KACF,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAM,CAAC1F,MAAM,SAAQ,4BACJ4G,SAGpB,SAAC,KAAI,WACH,UAAC,KAAM,CAAC5G,MAAM,UAAS,2BACN0G,cAKvB,UAAC,KAAW,CAACxG,UAAU,OAAM,WAC3B,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACkF,UAAU,QAAQC,QAAQ,UAAS,mCAGpD,SAAC,KAAU,CACTjB,IAAKvB,GACLV,KAAK,SACL4D,YAAY,GACZ,aAAW,cAEXJ,aAAa,GACb1B,GAAG,aAEL,SAAC,KAAe,CAACmB,UAAU,QAAO,mBAEpC,UAAC,KAAW,CAAClF,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdA,UAAU,GACVkF,UAAU,QACVC,QAAQ,UAAS,iCAInB,SAAC,KAAU,CACTjB,IAAKtB,GACLX,KAAK,SACL4D,YAAY,GACZ,aAAW,mBAEXJ,aAAa,GACb1B,GAAG,aAEL,SAAC,KAAe,CAACmB,UAAU,QAAO,8BAM5C,UAAC,KAAY,YACX,SAAC,KAAO,CAACpF,MAAM,YAAYiG,QAAS,kBAAM/E,CAAc,EAAC,oBAGzD,SAAC,KAAO,CAAClB,MAAM,UAAUmC,KAAK,SAAQ,4BAQlD,ECjWA,EA5EmB,WACjB,OAA8Bf,EAAAA,EAAAA,UAAS,MAAK,eAArCsH,EAAQ,KAAEC,EAAS,KAC1B,GAA4CvH,EAAAA,EAAAA,WAAS,GAAM,eAApDwH,EAAe,KAAEC,EAAgB,KACxC,GAAsDzH,EAAAA,EAAAA,WAAS,GAAM,eAA9D0H,EAAoB,KAAEC,EAAqB,KAElD,SACeC,IAAgB,4CAG9B,OAH8B,0BAA/B,yGACyBhG,EAAAA,EAAAA,eAA6B,KAAD,EAArC,OAAR0F,EAAQ,yBACPA,GAAQ,2CAChB,wBAiBD,OAhBA3F,EAAAA,EAAAA,YAAU,WACRiG,IAAmB/F,MAAK,SAACgG,GAAI,OAAKN,EAAUM,EAAK,IACjD,IAAMhF,EAAKC,aAAY,WACrB8E,IAAmB/F,MAAK,SAACgG,GAAI,OAAKN,EAAUM,EAAK,GACnD,GAAG,KAEH,OAAO,kBAAM9E,cAAcF,EAAI,CACjC,GAAG,IASEyE,GAE2B,IAArBA,EAASQ,SAEhB,iCACE,0CACA,uBAAIR,EAASS,cAKf,iCACE,iBAAKjJ,UAAU,6DAA4D,WACzE,0CACA,iBAAKA,UAAU,2DAA0D,WACvE,mBAAQ+F,QAtBlB,SAAyBV,GACvBsD,GAAiB,EACnB,EAoB4C3I,UAAU,kBAAiB,wBAG7D,SAAC,KAAM,CACL4F,KAAK,KACLsD,UAAU,SACVC,QAAST,EACTU,QAAS,kBAAMT,GAAiB,EAAM,EAAC,UAEvC,SAAC,EAAQ,CAAC3H,eAAgB,kBAAM2H,GAAiB,EAAM,OAEzD,mBACE5C,QA/BZ,SAAmCV,GACjCwD,GAAsB,EACxB,EA8BY7I,UAAU,uBAAsB,oCAIlC,SAAC,KAAM,CACL4F,KAAK,KACLsD,UAAU,SACVC,QAASP,EACTQ,QAAS,kBAAMP,GAAsB,EAAM,EAAC,UAE5C,SAAC,EAAa,CACZ7H,eAAgB,kBAAM6H,GAAsB,EAAM,aAK1D,SAACQ,EAAA,EAAS,CAACC,UAAWd,EAASc,UAAWC,SAAS,QA3ChD,SAAC,KAAQ,CAACzJ,MAAM,QA+C3B,2KCmBA,EAvGiB,SAAH,GAMP,IALL0J,EAAQ,EAARA,SACAhE,EAAK,EAALA,MACA+D,EAAO,EAAPA,QACAE,EAAY,EAAZA,aACAC,EAAiB,EAAjBA,kBAEA,GAAkCxI,EAAAA,EAAAA,UAAS,IAAG,eAAvCyI,EAAU,KAAEC,EAAW,KAW9B,IAAI9J,EAAQ0J,EAASK,YAAc,EAAI,OAAS,SAC5CC,EAAaN,EAASO,IAAM,EAAI,UAAY,SAChD,OACE,+BACE,UAAC,KAAS,CAAa/J,UAAU,GAAE,WACjC,UAAC,KAAc,CAACA,UAAU,eAAc,WACtC,SAAC,KAAM,CAACF,MAAOA,EAAM,SAAE0J,EAAS/F,UAChC,2BACE,UAAC,KAAO,CAACuG,QAAQ,QAAQlK,MAAM,UAAU8F,KAAK,KAAI,UAC/C4D,EAAS1F,SAAQ,aAIxB,SAAC,KACC,CACA9D,UAAWiK,IAAW,CACpB,YAAaT,EAAS5D,KAAO,EAC7B,cAAe4D,EAAS5D,KAAO,EAC/B,gBAAgB,IACf,SAEF4D,EAAS5D,QAEZ,SAAC,KAAc,CAAC5F,UAAU,eAAc,SACrCwJ,EAASU,cAEZ,SAAC,KAAc,CAAClK,UAAU,eAAc,SACrCwJ,EAASjG,aAEZ,SAAC,KAAc,CAACvD,UAAU,4BAA2B,SAClDwJ,EAASW,oBAEZ,SAAC,KAAc,CAACnK,UAAU,eAAc,SACrCwJ,EAASY,cAEZ,UAAC,KAAc,CACbpK,UAAWiK,IAAW,CACpB,eAAgBT,EAASO,IAAM,EAC/B,cAAeP,EAASO,IAAM,EAC9B,gBAAgB,IACf,UAEFP,EAASO,IAAG,KAAIP,EAASa,IAAG,QAE9Bd,IACC,SAAC,KAAc,CAACvJ,UAAU,eAAc,UACtC,iBAAKA,UAAU,qFAAoF,WACjG,SAAC,KAAO,CACNF,MAAOgK,EACPE,QAAQ,QACRpG,MAAO4F,EACPzD,QA1Dd,SAA8BV,GAC5BoE,EAAaD,EACf,EAyDc5D,KAAK,KAAI,qBAIX,gBAAK5F,UAAU,qBACf,SAAC,KAAO,CACNF,MAAOgK,EACPE,QAAQ,QACRpG,MAAO4F,EACPzD,QAjEd,SAAqCV,GACnCqE,EAAkBF,EAAUG,GAC5BC,EAAY,GACd,EA+DchE,KAAK,KAAI,oBAIX,gBAAK5F,UAAU,QAAO,UACpB,SAAC,KAAU,CACTiC,KAAK,SACL2D,KAAK,KACLC,YAAY,QACZjC,MAAO+F,EACP5F,GAAG,cACHqB,SAAU,SAACC,GAAC,OAAKuE,EAAYvE,EAAEC,OAAO1B,MAAM,aArExC4B,IA+EtB,YCwDA,EAxJkB,SAAH,GAAgC,IAA1B8D,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAC9B,GAA0BrI,EAAAA,EAAAA,UAAS,GAAE,eAA9BG,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UAAS,SAEb8I,EAAoB,EAAD,iDAGjC,OAHiC,0BAAlC,WAAmCd,EAAUvH,EAAME,GAAK,4FACnCW,EAAAA,EAAAA,cAA4B0G,EAAUvH,EAAME,GAAO,KAAD,EAA3D,OAAJ4G,EAAI,yBACHA,GAAI,4CACZ,sBACD,SAASwB,EAAqBf,GAC5BlI,GAASkD,EAAAA,EAAAA,GAAM,iBAAkB,wBACjC8F,EAAoBd,EAAU,SAAU,GAAGzG,MAAK,SAACgG,GAC/CzH,GAASkD,EAAAA,EAAAA,GAAM,iBAAkBuE,EAAKE,SACxC,GACF,CACA,SAASuB,EAA0BhB,EAAUG,GAC3C,IAAMc,EAAWjB,EAASjG,UAAkC,GAArBiG,EAASjG,UAAkB,IAC5DmH,EAAgC,IAArBlB,EAASjG,UACtBoG,GAAcc,GAAYd,GAAce,GAC1CpJ,GAASkD,EAAAA,EAAAA,GAAM,iBAAkB,wBACjC8F,EAAoBd,EAAU,QAASG,GAAY5G,MAAK,SAACgG,GACvDzH,GAASkD,EAAAA,EAAAA,GAAM,iBAAkBuE,EAAKE,SACxC,KAEA3H,GACEkD,EAAAA,EAAAA,GACE,iBACA,oEAIR,CACA,SAASmG,IACPrJ,GAASkD,EAAAA,EAAAA,GAAM,sBAAuB,wBACtC,yCAAC,yGACoB1B,EAAAA,EAAAA,iBAA+B,KAAD,EACK,OADhDiG,EAAI,OACVzH,GAASkD,EAAAA,EAAAA,GAAM,sBAAsB,GAAD,OAAKuE,EAAK6B,OAAQ,kBAC/C7B,GAAI,2CAHuB,OAInC,WAJmC,gCAApC,IAKF,CAIA,IAAM8B,EAAevB,EAAU/D,KAAI,SAACiE,EAAUhE,GAC5C,IACE/B,EASE+F,EATF/F,OACAyG,EAQEV,EARFU,WACAY,EAOEtB,EAPFsB,iBACAjB,EAMEL,EANFK,YAEAtG,GAIEiG,EALFuB,eAKEvB,EAJFjG,WACA4G,EAGEX,EAHFW,iBACAa,EAEExB,EAFFwB,eACAlH,EACE0F,EADF1F,SAGI8B,EAAOiE,EAAcK,EACrBG,EAA0B,IAAnBS,GAA2BG,KAAKC,IAAItF,GAAQ9B,GACzD,MAAO,CACLL,OAAAA,EACAoG,YAAAA,EACAjE,KAAMF,OAAOE,GAAMD,QAAQ,GAC3BuE,WAAYxE,OAAOwE,GAAYvE,QAAQ,GACvCpC,UAAWmC,OAAOnC,GAAWoC,QAAQ,GACrCwE,iBAAkBzE,OAAOyE,GAAkBxE,QAAQ,GACnDyE,WAAY1E,OAAOsF,GAAgBrF,QAAQ,GAC3CoE,IAAKrE,OAAOoF,GAAkBnF,QAAQ,GACtC0E,IAAK3E,OAAO2E,GAAK1E,QAAQ,GACzB7B,SAAAA,EAEJ,IACIqH,EAAkB,CACpB,SACA,OACA,cACA,aACA,YACA,SACA,cAMF,OAJI5B,GACF4B,EAAgBhH,KAAK,wBAIrB,iCACE,SAAC,KAAI,WACH,SAAC,KAAI,CAACiH,GAAI,GAAG,UACX,UAAC,KAAK,CAACpL,UAAU,OAAM,WACrB,UAAC,KAAW,yBAAa6K,EAAaxC,OAAM,QAC5C,SAAC,KAAS,WACR,mBAAOrI,UAAU,QAAO,WACtB,kBAAOA,UAAU,GAAE,UACjB,wBACGmL,EAAgB5F,KAAI,SAAC8F,EAAK7F,GACzB,MAAY,wBAAR6F,GAEA,yBACE,0BACE,SAAC,KAAQ,CACPC,QAAQ,sCACRlH,UAAU,MAAK,UAEf,SAAC,KAAO,CACN4F,QAAQ,QACRlK,MAAM,UACNiG,QAAS4E,EAAyB,SAEjCU,SAXA7F,IAkBN,wBAAiB6F,GAAR7F,EAClB,SAGJ,SAAC,KAAU,UACRqF,EAAatF,KAAI,SAACiE,EAAUhE,GAC3B,OACE,SAAC,EAAQ,CACPgE,SAAUA,EAEVD,QAASA,EACTE,aAAcc,EACdb,kBAAmBc,GAHdhF,EAMX,mBAOZ,SAAC,KAAQ,CAACtB,IAAK3C,EAAY4C,KAAM9C,EAAO+C,UAAU,cAcxD,sBCzKA,OAOC,WACA,aAEA,IAAImH,EAAS,CAAC,EAAEC,eAGhB,SAASvB,IAGR,IAFA,IAAIwB,EAAU,GAELC,EAAI,EAAGA,EAAIC,UAAUtD,OAAQqD,IAAK,CAC1C,IAAIE,EAAMD,UAAUD,GACpB,GAAKE,EAAL,CAEA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC3BJ,EAAQtH,KAAKyH,QACP,GAAIzF,MAAM2F,QAAQF,IACxB,GAAIA,EAAIvD,OAAQ,CACf,IAAI0D,EAAQ9B,EAAW+B,MAAM,KAAMJ,GAC/BG,GACHN,EAAQtH,KAAK4H,EAEf,OACM,GAAgB,WAAZF,EAAsB,CAChC,GAAID,EAAIK,WAAaC,OAAOC,UAAUF,WAAaL,EAAIK,SAASA,WAAWG,SAAS,iBAAkB,CACrGX,EAAQtH,KAAKyH,EAAIK,YACjB,QACD,CAEA,IAAK,IAAIZ,KAAOO,EACXL,EAAOc,KAAKT,EAAKP,IAAQO,EAAIP,IAChCI,EAAQtH,KAAKkH,EAGhB,CAxBkB,CAyBnB,CAEA,OAAOI,EAAQa,KAAK,IACrB,CAEqCC,EAAOC,SAC3CvC,EAAWwC,QAAUxC,EACrBsC,EAAOC,QAAUvC,QAKhB,KAFwB,EAAF,WACtB,OAAOA,CACP,UAFoB,OAEpB,YAIF,CApDA","sources":["components/Toast.js","components/Trade/NewOrder.js","components/Trade/NewMultiLevelOrder.js","pages/Manual/ManualPositions.js","components/Trade/Position.js","pages/Manual/Positions.js","../node_modules/classnames/index.js"],"sourcesContent":["import React from \"react\";\nimport { CToast, CToastHeader, CToastBody } from \"@coreui/react\";\n\nconst Toast = (header, body) => {\n  return (\n    <CToast color=\"secondary\">\n      <div>\n        <CToastHeader closeButton>\n          <svg\n            className=\"rounded me-2\"\n            width=\"20\"\n            height=\"20\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            preserveAspectRatio=\"xMidYMid slice\"\n            focusable=\"false\"\n            role=\"img\"\n          >\n            <rect width=\"100%\" height=\"100%\" fill=\"#007aff\"></rect>\n          </svg>\n          <div className=\"fw-bold me-auto\">{header}</div>\n          {/* <small>7 min ago</small> */}\n        </CToastHeader>\n        <CToastBody>{body}</CToastBody>\n      </div>\n    </CToast>\n  );\n};\n\nexport default Toast;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n  CSpinner,\n  CToaster,\n} from \"@coreui/react\";\nimport Toast from \"../Toast.js\";\n\nconst DEFAULT_SYMBOL = \"BTCUSDT\";\nconst DEFAULT_PROFIT_TARGET = \"30\";\nconst DEFAULT_LEVERAGE = \"5\";\nconst MODE_ISOLATED = \"Isolated\";\nconst MODE_CROSSED = \"Crossed\";\nconst DEFAULT_MODE = MODE_ISOLATED;\nconst DIRECTION_LONG = \"Long\";\nconst DIRECTION_SHORT = \"Short\";\nconst DEFAULT_DIRECTION = DIRECTION_SHORT;\nconst TYPE_MARKET = \"Market\";\nconst TYPE_LIMIT = \"Limit\";\nconst DEFAULT_TYPE = TYPE_MARKET;\nconst TP_THRESHOLD = 1;\nconst SL_THRESHOLD = 1;\n\nconst NewOrder = ({ onCloseHandler, onSubmitHandler }) => {\n  const [loading, $loading] = useState(true);\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const refForm = useRef(null);\n  const [symbolList, $symbolList] = useState([]);\n  const directionRef = useRef(DEFAULT_DIRECTION);\n  const profitTargetRef = useRef(DEFAULT_PROFIT_TARGET);\n  const leverageRef = useRef(DEFAULT_LEVERAGE);\n  const modeRef = useRef(DEFAULT_MODE);\n  const [curSymbol, $curSymbol] = useState(DEFAULT_SYMBOL);\n  const [type, $type] = useState(DEFAULT_TYPE);\n  const [price, $price] = useState();\n  const [amount, $amount] = useState();\n  const [curSymbolMarkPrice, $curSymbolMarkPrice] = useState(\"---\");\n  const [curSymbolLastPrice, $curSymbolLastPrice] = useState(\"---\");\n  const takeProfitRef = useRef(null);\n  const stoplossRef = useRef(null);\n\n  function resetDefaultFormData() {\n    $price(\"\");\n    $amount(\"\");\n  }\n  function fetchSymbolInfo(symbol) {\n    (async function getSymbolInfo() {\n      return await tr7TradingBot.getSymbolInfo(symbol);\n    })().then((res) => {\n      const accSymInfo = res.symbolInfo;\n      modeRef.current.value =\n        accSymInfo.isolated === true ? MODE_ISOLATED : MODE_CROSSED;\n      leverageRef.current.value = accSymInfo.leverage;\n    });\n  }\n  // get futures symbol list\n  useEffect(() => {\n    (async function fetchSymbolList() {\n      return await tr7TradingBot.getSymbolList();\n    })().then((res) => {\n      const sortSymbols = res.symbols.sort();\n      $symbolList(sortSymbols);\n    });\n  }, []);\n\n  useEffect(() => {\n    function fetchSymbolInfoInvoke() {\n      (async function fetchSymbolMarketInfo() {\n        return await tr7TradingBot.getSymbolMarketInfo(curSymbol);\n      })().then((res) => {\n        const symbolInfo = res.symbolMarketInfo;\n        $curSymbolMarkPrice(symbolInfo.markPrice);\n        $curSymbolLastPrice(symbolInfo.lastPrice);\n      });\n    }\n    fetchSymbolInfoInvoke();\n    fetchSymbolInfo(curSymbol);\n    $loading(false);\n\n    if (!!curSymbol) {\n      const id = setInterval(fetchSymbolInfoInvoke, 2000);\n      return () => clearInterval(id);\n    }\n  }, [curSymbol]);\n\n  function newOrderSubmitHandler(event) {\n    event.preventDefault();\n\n    // validate form data\n    if (type === TYPE_LIMIT && !price) {\n      addToast(Toast(\"Type: Limit\", \"Price should be set (larger than zero)\"));\n      return;\n    }\n    // if (takeProfitRef.current.value < TP_THRESHOLD) {\n    //   addToast(\n    //     Toast(\n    //       \"TAKE PROFIT\",\n    //       `Profit percent should be at least ${TP_THRESHOLD}%`\n    //     )\n    //   );\n    // }\n    // if (takeProfitRef.current.value < SL_THRESHOLD) {\n    //   addToast(\n    //     Toast(\"STOP LOSS\", `Profit percent should be at least ${SL_THRESHOLD}%`)\n    //   );\n    // }\n\n    // submit form data to server to place orders\n\n    addToast(Toast(\"PLACE ORDER\", `submitting order...`));\n    (async function submitOrder() {\n      let order = {\n        symbol: curSymbol,\n        mode: modeRef.current.value,\n        side: directionRef.current.value,\n        leverage: leverageRef.current.value,\n        type: type,\n        amount: amount,\n        price: price,\n        tp: takeProfitRef.current.value,\n        sl: stoplossRef.current.value,\n      };\n\n      return await tr7TradingBot.placeNewOrder(order);\n    })().then((res) => {\n      addToast(Toast(\"PLACE ORDER\", JSON.stringify(res)));\n      onCloseHandler();\n    });\n  }\n\n  function symbolChangeHandler(e) {\n    $curSymbol(e.target.value);\n    resetDefaultFormData();\n  }\n\n  function levelPriceChangeHandler(e) {\n    $price(Number(e.target.value));\n  }\n  function levelAmountChangeHandler(e) {\n    $amount(Number(e.target.value));\n  }\n  function typeChangeHandler(e) {\n    $type(e.target.value);\n  }\n\n  if (loading) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CForm ref={refForm} onSubmit={newOrderSubmitHandler}>\n          <CModalHeader>\n            <CModalTitle>New Trade</CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className=\"d-flex d-flex-row justify-content-around\">\n              <CCol xs={10} lg={4}>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputSymbol\"\n                    className=\"\"\n                  >\n                    Symbol\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSymbol\"\n                    onChange={symbolChangeHandler}\n                    value={curSymbol}\n                  >\n                    {symbolList.map((symbol, index) => {\n                      return <option key={index}>{symbol}</option>;\n                    })}\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputMode\">\n                    Mode\n                  </CInputGroupText>\n                  <CFormSelect\n                    ref={modeRef}\n                    id=\"inputMode\"\n                    defaultValue={DEFAULT_MODE}\n                  >\n                    <option>{MODE_ISOLATED}</option>\n                    <option>{MODE_CROSSED}</option>\n                  </CFormSelect>\n                </CInputGroup>\n\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputLeverage\">\n                    Leverage\n                  </CInputGroupText>\n                  <CFormInput\n                    ref={leverageRef}\n                    type=\"number\"\n                    aria-label=\"profit target\"\n                    className=\"col-4\"\n                    defaultValue={DEFAULT_LEVERAGE}\n                    id=\"inputLeverage\"\n                  />\n                  <CInputGroupText component=\"label\">x</CInputGroupText>\n                </CInputGroup>\n              </CCol>\n              <CCol xs={10} lg={7}>\n                <CRow>\n                  <CCol>\n                    <CBadge color=\"info\">\n                      Mark Price: {Number(curSymbolMarkPrice).toFixed(2)}\n                    </CBadge>\n                  </CCol>\n                  <CCol>\n                    <CBadge color=\"warning\">\n                      Last Price: {Number(curSymbolLastPrice).toFixed(2)}\n                    </CBadge>\n                  </CCol>\n                </CRow>\n                <CInputGroup className=\"mt-1 mb-2 md-col-4\">\n                  {/* <CRow> */}\n                  <CCol xs={7} lg={6} className=\"mr-2\">\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Direction\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputSide\"\n                        ref={directionRef}\n                        defaultValue={DEFAULT_DIRECTION}\n                      >\n                        <option>{DIRECTION_LONG}</option>\n                        <option>{DIRECTION_SHORT}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={7} lg={5}>\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Type\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputType\"\n                        value={type}\n                        onChange={typeChangeHandler}\n                      >\n                        <option>{TYPE_LIMIT}</option>\n                        <option>{TYPE_MARKET}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                  {/* </CRow> */}\n\n                  <CInputGroup className=\"mb-0\" size=\"md\">\n                    <CInputGroupText component=\"label\" htmlFor={\"price\"}>\n                      Price\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"price\"\n                      value={price}\n                      id={\"price\"}\n                      onChange={levelPriceChangeHandler}\n                      disabled={type === TYPE_MARKET}\n                    />\n\n                    <CInputGroupText component=\"label\" htmlFor={\"amout\"}>\n                      Amount\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"amount\"\n                      defaultValue=\"\"\n                      id={\"amount\"}\n                      onChange={levelAmountChangeHandler}\n                    />\n                  </CInputGroup>\n                </CInputGroup>\n                <CInputGroup className=\"my-2\">\n                  <CInputGroup className=\"mb-1\">\n                    <CInputGroupText component=\"label\" htmlFor=\"inputTP\">\n                      Take Profit (option)\n                    </CInputGroupText>\n                    <CFormInput\n                      ref={takeProfitRef}\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"Take Profit\"\n                      // className=\"col-4\"\n                      defaultValue=\"\"\n                      id=\"inputTP\"\n                      disabled={type === TYPE_LIMIT}\n                    />\n                    <CInputGroupText component=\"label\">%</CInputGroupText>\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-1\">\n                    <CInputGroupText\n                      className=\"\"\n                      component=\"label\"\n                      htmlFor=\"inputSL\"\n                    >\n                      Stop Loss (option)\n                    </CInputGroupText>\n                    <CFormInput\n                      ref={stoplossRef}\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"stoploss percent\"\n                      // className=\"col-4\"\n                      defaultValue=\"\"\n                      id=\"inputSL\"\n                      disabled={type === TYPE_LIMIT}\n                    />\n                    <CInputGroupText component=\"label\">%</CInputGroupText>\n                  </CInputGroup>\n                </CInputGroup>\n              </CCol>\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <CButton color=\"secondary\" onClick={() => onCloseHandler()}>\n              Close\n            </CButton>\n            <CButton color=\"primary\" type=\"submit\">\n              Submit\n            </CButton>\n          </CModalFooter>\n        </CForm>\n      </>\n    );\n  }\n};\n\nexport default NewOrder;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport Toast from \"../Toast.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n  CSpinner,\n  CToaster,\n} from \"@coreui/react\";\n\nconst DEFAULT_MAX_BALANCE = \"1000\";\nconst DEFAULT_NO_LEVEL = 5;\nconst DEFAULT_SYMBOL = \"BTCUSDT\";\nconst DEFAULT_PROFIT_TARGET = \"30\";\nconst DEFAULT_LEVERAGE = \"5\";\nconst MODE_ISOLATED = \"Isolated\";\nconst MODE_CROSSED = \"Crossed\";\nconst DEFAULT_MODE = MODE_ISOLATED;\nconst DIRECTION_LONG = \"Long\";\nconst DIRECTION_SHORT = \"Short\";\nconst DEFAULT_DIRECTION = DIRECTION_SHORT;\nconst TYPE_MARKET = \"Market\";\nconst TYPE_LIMIT = \"Limit\";\nconst DEFAULT_TYPE = TYPE_MARKET;\nconst TP_THRESHOLD = 1;\nconst SL_THRESHOLD = 1;\n\nconst NewMultiOrder = ({ onCloseHandler, onSubmitHandler }) => {\n  const [loading, $loading] = useState(true);\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const refForm = useRef(null);\n  const [symbolList, $symbolList] = useState([]);\n  const directionRef = useRef(DEFAULT_DIRECTION);\n  const profitTargetRef = useRef(DEFAULT_PROFIT_TARGET);\n  const leverageRef = useRef(DEFAULT_LEVERAGE);\n  const modeRef = useRef(DEFAULT_MODE);\n  const maxBalanceRef = useRef(DEFAULT_MAX_BALANCE);\n  const [curSymbol, $curSymbol] = useState(DEFAULT_SYMBOL);\n  const [numberLevels, $numberLevels] = useState(DEFAULT_NO_LEVEL);\n  const [prices, $prices] = useState(Array(DEFAULT_NO_LEVEL));\n  const [amounts, $amounts] = useState(Array(DEFAULT_NO_LEVEL));\n  const [totalAmount, $totalAmount] = useState(null);\n  const [averagePrice, $averagePrice] = useState(null);\n  const [curSymbolMarkPrice, $curSymbolMarkPrice] = useState(\"---\");\n  const [curSymbolLastPrice, $curSymbolLastPrice] = useState(\"---\");\n  const [curSymbolPricePrecision, $curSymbolPricePrecision] = useState(0);\n  const takeProfitRef = useRef(null);\n  const stoplossRef = useRef(null);\n\n  function resetDefaultFormData() {\n    $numberLevels(DEFAULT_NO_LEVEL);\n    $prices(new Array(DEFAULT_NO_LEVEL));\n    $amounts(new Array(DEFAULT_NO_LEVEL));\n  }\n  function fetchSymbolInfo(symbol) {\n    (async function getSymbolInfo() {\n      return await tr7TradingBot.getSymbolInfo(symbol);\n    })().then((res) => {\n      const accSymInfo = res.symbolInfo;\n      modeRef.current.value =\n        accSymInfo.isolated === true ? MODE_ISOLATED : MODE_CROSSED;\n      leverageRef.current.value = accSymInfo.leverage;\n    });\n  }\n  // get futures symbol list\n  useEffect(() => {\n    (async function fetchSymbolList() {\n      return await tr7TradingBot.getSymbolList();\n    })().then((res) => {\n      const sortSymbols = res.symbols.sort();\n      $symbolList(sortSymbols);\n    });\n  }, []);\n\n  useEffect(() => {\n    function fetchSymbolInfoInvoke() {\n      (async function fetchSymbolInfo() {\n        return await tr7TradingBot.getSymbolMarketInfo(curSymbol);\n      })().then((res) => {\n        const symbolInfo = res.symbolMarketInfo;\n        $curSymbolMarkPrice(symbolInfo.markPrice);\n        $curSymbolLastPrice(symbolInfo.lastPrice);\n        console.log(symbolInfo.pricePrecision);\n        $curSymbolPricePrecision(\n          symbolInfo.pricePrecision < 100 ? symbolInfo.pricePrecision : 0\n        );\n      });\n    }\n    fetchSymbolInfoInvoke();\n    fetchSymbolInfo(curSymbol);\n    $loading(false);\n\n    if (!!curSymbol) {\n      const id = setInterval(fetchSymbolInfoInvoke, 2000);\n      return () => clearInterval(id);\n    }\n  }, [curSymbol]);\n\n  // calculate again average price, if both level price and amount are present\n  useEffect(() => {\n    let avgPrice = 0;\n    let totalAmount = 0;\n    let totalBalanceSize = 0;\n    const list = prices.slice(0, numberLevels);\n    list.forEach((price, index) => {\n      const amount = amounts[index];\n      if (price > 0 && amount > 0) {\n        totalAmount += amount;\n        totalBalanceSize += price * amount;\n      }\n    });\n    avgPrice = (totalBalanceSize / totalAmount).toFixed(\n      curSymbolPricePrecision\n    );\n    $averagePrice(avgPrice);\n    $totalAmount(totalAmount);\n  }, [prices, amounts, numberLevels]);\n\n  function submitNewTradeHandler(event) {\n    event.preventDefault();\n    // validate form data\n    // console.log(curSymbol);\n    // console.log(directionRef.current.value, profitTargetRef.current.value);\n    // console.log(modeRef.current.value, leverageRef.current.value);\n    // console.log(maxBalanceRef.current.value, numberLevels);\n    // console.log(prices, amounts);\n    // console.log(takeProfitRef.current.value, stoplossRef.current.value);\n    // submit form data to server to place orders\n    addToast(Toast(\"PLACE ORDER\", `submitting order...`));\n    (async function submitGridOrder() {\n      const levels = [];\n      const listPrices = prices.slice(0, numberLevels);\n      listPrices.forEach((price, index) => {\n        const amount = amounts[index];\n        if (price > 0 && amount > 0) {\n          levels.push([price, amount]);\n        }\n      });\n      const gridOrder = {\n        symbol: curSymbol,\n        mode: modeRef.current.value,\n        direction: directionRef.current.value,\n        leverage: leverageRef.current.value,\n        maxBalance: maxBalanceRef.current.value,\n        levels: [...levels],\n        takeProfit: {\n          trigger: \"mark\",\n          type: \"market\",\n          percent: takeProfitRef.current.value,\n        },\n        stopLoss: {\n          trigger: \"last\",\n          type: \"limit\",\n          percent: stoplossRef.current.value,\n        },\n      };\n\n      return await tr7TradingBot.placeGridOrder(gridOrder);\n    })().then((res) => {\n      console.log(res);\n      addToast(Toast(\"PLACE ORDER\", JSON.stringify(res)));\n      onCloseHandler();\n    });\n  }\n\n  function symbolChangeHandler(e) {\n    $curSymbol(e.target.value);\n    resetDefaultFormData();\n  }\n  function inputLevelsChangeHandler(e) {\n    $numberLevels(e.target.value);\n  }\n\n  function levelPriceChangeHandler(e) {\n    const index = Number(e.target.id.replace(\"price\", \"\"));\n    $prices((curPrices) => {\n      const tempPrices = [...curPrices];\n      tempPrices[index] = Number(e.target.value);\n      return tempPrices;\n    });\n  }\n  function levelAmountChangeHandler(e) {\n    const index = Number(e.target.id.replace(\"amount\", \"\"));\n    $amounts((curAmounts) => {\n      const tempAmounts = [...curAmounts];\n      tempAmounts[index] = Number(e.target.value);\n      return tempAmounts;\n    });\n  }\n\n  if (loading) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CForm ref={refForm} onSubmit={submitNewTradeHandler}>\n          <CModalHeader>\n            <CModalTitle>New Grid Order</CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className=\"d-flex d-flex-row justify-content-around\">\n              <CCol xs={10} lg={5}>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputSymbol\"\n                    className=\"\"\n                  >\n                    Symbol\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSymbol\"\n                    onChange={symbolChangeHandler}\n                    value={curSymbol}\n                  >\n                    {symbolList.map((symbol, index) => {\n                      return (\n                        <option\n                          key={index}\n                          // selected={symbol === DEFAULT_SYMBOL ? true : false}\n                        >\n                          {symbol}\n                        </option>\n                      );\n                    })}\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputMode\">\n                    Mode\n                  </CInputGroupText>\n                  <CFormSelect\n                    ref={modeRef}\n                    id=\"inputMode\"\n                    defaultValue={DEFAULT_MODE}\n                  >\n                    <option>{MODE_ISOLATED}</option>\n                    <option>{MODE_CROSSED}</option>\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputLeverage\">\n                    Leverage\n                  </CInputGroupText>\n                  <CFormInput\n                    ref={leverageRef}\n                    type=\"number\"\n                    // placeholder=\"5\"\n                    aria-label=\"profit target\"\n                    className=\"col-4\"\n                    defaultValue={DEFAULT_LEVERAGE}\n                    id=\"inputLeverage\"\n                  />\n                  <CInputGroupText component=\"label\">x</CInputGroupText>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                    Direction\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSide\"\n                    ref={directionRef}\n                    defaultValue={DEFAULT_DIRECTION}\n                  >\n                    <option>{DIRECTION_LONG}</option>\n                    <option>{DIRECTION_SHORT}</option>\n                  </CFormSelect>\n                </CInputGroup>\n                {/* <CInputGroup className=\"mb-2\">\n              <CInputGroupText component=\"label\" htmlFor=\"inputTargetProfit\">\n                Profit Target\n              </CInputGroupText>\n              <CFormInput\n                ref={profitTargetRef}\n                type=\"number\"\n                // placeholder=\"10\"\n                aria-label=\"profit target\"\n                className=\"col-4\"\n                defaultValue={DEFAULT_PROFIT_TARGET}\n                id=\"inputTargetProfit\"\n              />\n              <CInputGroupText component=\"label\">%</CInputGroupText>\n            </CInputGroup> */}\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputInitialMargin\"\n                  >\n                    Max Balance\n                  </CInputGroupText>\n                  <CFormInput\n                    ref={maxBalanceRef}\n                    type=\"number\"\n                    placeholder=\"100\"\n                    aria-label=\"profit target\"\n                    className=\"col-4\"\n                    defaultValue={1000}\n                    id=\"inputInitialMargin\"\n                  />\n                  <CInputGroupText component=\"label\">USDT</CInputGroupText>\n                </CInputGroup>\n              </CCol>\n              <CCol xs={10} lg={6}>\n                <CRow>\n                  <CCol>\n                    <CBadge color=\"info\">\n                      Mark Price:{\" \"}\n                      {Number(curSymbolMarkPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                  <CCol>\n                    <CBadge color=\"warning\">\n                      Last Price:{\" \"}\n                      {Number(curSymbolLastPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                </CRow>\n                <CInputGroup className=\"mt-1 mb-2 md-col-4\">\n                  <CInputGroup className=\"mb-0\">\n                    <CInputGroupText component=\"label\" htmlFor=\"inputLevels\">\n                      Number Levels\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      placeholder={numberLevels}\n                      aria-label=\"\"\n                      // defaultValue={numberLevels}\n                      value={numberLevels}\n                      id=\"inputLevels\"\n                      onChange={inputLevelsChangeHandler}\n                    />\n                  </CInputGroup>\n                  {!!numberLevels &&\n                    Array.from({ length: numberLevels }).map((level, index) => {\n                      return (\n                        <CInputGroup className=\"mb-0\" key={index} size=\"sm\">\n                          <CInputGroupText\n                            component=\"label\"\n                            htmlFor={\"price\" + index}\n                          >\n                            Price {index + 1}\n                          </CInputGroupText>\n                          <CFormInput\n                            type=\"number\"\n                            step=\"any\"\n                            placeholder=\"\"\n                            aria-label=\"price\"\n                            defaultValue=\"\"\n                            // value={prices[index]}\n                            id={\"price\" + index}\n                            onChange={levelPriceChangeHandler}\n                          />\n\n                          <CInputGroupText\n                            component=\"label\"\n                            htmlFor={\"amout\" + index}\n                          >\n                            Amt {index + 1}\n                          </CInputGroupText>\n                          <CFormInput\n                            type=\"number\"\n                            step=\"any\"\n                            placeholder=\"\"\n                            aria-label=\"amount\"\n                            defaultValue=\"\"\n                            id={\"amount\" + index}\n                            onChange={levelAmountChangeHandler}\n                          />\n                        </CInputGroup>\n                      );\n                    })}\n                  <CRow>\n                    <CCol>\n                      <CBadge color=\"danger\">\n                        Average Price: {averagePrice}\n                      </CBadge>\n                    </CCol>\n                    <CCol>\n                      <CBadge color=\"warning\">\n                        Total Amount: {totalAmount}\n                      </CBadge>\n                    </CCol>\n                  </CRow>\n                </CInputGroup>\n                <CInputGroup className=\"my-2\">\n                  <CInputGroup className=\"mb-1\">\n                    <CInputGroupText component=\"label\" htmlFor=\"inputTP\">\n                      Take Profit (option)\n                    </CInputGroupText>\n                    <CFormInput\n                      ref={takeProfitRef}\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"Take Profit\"\n                      // className=\"col-4\"\n                      defaultValue=\"\"\n                      id=\"inputTP\"\n                    />\n                    <CInputGroupText component=\"label\">%</CInputGroupText>\n                  </CInputGroup>\n                  <CInputGroup className=\"mb-1\">\n                    <CInputGroupText\n                      className=\"\"\n                      component=\"label\"\n                      htmlFor=\"inputSL\"\n                    >\n                      Stop Loss (option)\n                    </CInputGroupText>\n                    <CFormInput\n                      ref={stoplossRef}\n                      type=\"number\"\n                      placeholder=\"\"\n                      aria-label=\"stoploss percent\"\n                      // className=\"col-4\"\n                      defaultValue=\"\"\n                      id=\"inputSL\"\n                    />\n                    <CInputGroupText component=\"label\">%</CInputGroupText>\n                  </CInputGroup>\n                </CInputGroup>\n              </CCol>\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <CButton color=\"secondary\" onClick={() => onCloseHandler}>\n              Close\n            </CButton>\n            <CButton color=\"primary\" type=\"submit\">\n              Submit\n            </CButton>\n          </CModalFooter>\n        </CForm>\n      </>\n    );\n  }\n};\n\nexport default NewMultiOrder;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CSpinner,\n  CModal,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n} from \"@coreui/react\";\nimport Positions from \"./Positions.js\";\nimport NewOrder from \"../../components/Trade/NewOrder.js\";\nimport NewMultiOrder from \"../../components/Trade/NewMultiLevelOrder.js\";\n\nconst ManualGrid = () => {\n  const [response, $response] = useState(null);\n  const [newTradeVisible, $newTradeVisible] = useState(false);\n  const [newMultiOrderVisible, $newMultiOrderVisible] = useState(false);\n\n  // pull all current trades, then laying out as separated as symbol with the button to close position\n  async function fetchSomeBotData() {\n    const response = await tr7TradingBot.getPositions();\n    return response;\n  }\n  useEffect(() => {\n    fetchSomeBotData().then((resp) => $response(resp));\n    const id = setInterval(() => {\n      fetchSomeBotData().then((resp) => $response(resp));\n    }, 2000);\n\n    return () => clearInterval(id);\n  }, []);\n\n  function newTradeHandler(e) {\n    $newTradeVisible(true);\n  }\n  function newMultiLevelOrderHandler(e) {\n    $newMultiOrderVisible(true);\n  }\n\n  if (!response) {\n    return <CSpinner color=\"info\" />;\n  } else if (response.success === false) {\n    return (\n      <>\n        <h1>Manual Trade</h1>\n        <p>{response.message}</p>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <div className=\"d-flex flex-row justify-content-between align-items-center\">\n          <h1>Manual Trade</h1>\n          <div className=\"d-inline-flex justify-content-between align-items-center\">\n            <button onClick={newTradeHandler} className=\"btn btn-warning\">\n              New Order\n            </button>\n            <CModal\n              size=\"lg\"\n              alignment=\"center\"\n              visible={newTradeVisible}\n              onClose={() => $newTradeVisible(false)}\n            >\n              <NewOrder onCloseHandler={() => $newTradeVisible(false)} />\n            </CModal>\n            <button\n              onClick={newMultiLevelOrderHandler}\n              className=\"btn btn-warning mx-2\"\n            >\n              New Multi-Level Order\n            </button>\n            <CModal\n              size=\"lg\"\n              alignment=\"center\"\n              visible={newMultiOrderVisible}\n              onClose={() => $newMultiOrderVisible(false)}\n            >\n              <NewMultiOrder\n                onCloseHandler={() => $newMultiOrderVisible(false)}\n              />\n            </CModal>\n          </div>\n        </div>\n        <Positions positions={response.positions} isClose={true} />\n      </>\n    );\n  }\n};\n\nexport default ManualGrid;\n","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport classNames from \"classnames\";\nimport {\n  CBadge,\n  CButton,\n  CTableRow,\n  CTableDataCell,\n  CInputGroup,\n  CFormInput,\n  CCol,\n} from \"@coreui/react\";\n\nconst Position = ({\n  position,\n  index,\n  isClose,\n  closeHandler,\n  closeLimitHandler,\n}) => {\n  const [limitPrice, $limitPrice] = useState(\"\");\n  // useEffect(() => {\n  //   console.log(position.markPrice);\n  // }, [position.markPrice]);\n  function closePositionHandler(e) {\n    closeHandler(position);\n  }\n  function closePositionAsLimitHandler(e) {\n    closeLimitHandler(position, limitPrice);\n    $limitPrice(\"\");\n  }\n  let color = position.positionAmt > 0 ? \"info\" : \"danger\";\n  let closeColor = position.pnl > 0 ? \"success\" : \"danger\";\n  return (\n    <>\n      <CTableRow key={index} className=\"\">\n        <CTableDataCell className=\"align-middle\">\n          <CBadge color={color}>{position.symbol}</CBadge>\n          <span>\n            <CButton variant=\"ghost\" color=\"warning\" size=\"sm\">\n              {position.leverage}x\n            </CButton>\n          </span>\n        </CTableDataCell>\n        <CTableDataCell\n          // color={color}\n          className={classNames({\n            \"text-info\": position.size > 0,\n            \"text-danger\": position.size < 0,\n            \"align-middle\": true,\n          })}\n        >\n          {position.size}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.entryPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.markPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle text-warning\">\n          {position.liquidationPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.marginSize}\n        </CTableDataCell>\n        <CTableDataCell\n          className={classNames({\n            \"text-success\": position.pnl > 0,\n            \"text-danger\": position.pnl < 0,\n            \"align-middle\": true,\n          })}\n        >\n          {position.pnl} ({position.roe}%)\n        </CTableDataCell>\n        {isClose && (\n          <CTableDataCell className=\"align-middle\">\n            <div className=\"d-inline-flex justify-content-start align-items-center align-self-center flex-fill\">\n              <CButton\n                color={closeColor}\n                variant=\"ghost\"\n                value={position}\n                onClick={closePositionHandler}\n                size=\"sm\"\n              >\n                Market\n              </CButton>\n              <div className=\"vr align-middle\" />\n              <CButton\n                color={closeColor}\n                variant=\"ghost\"\n                value={position}\n                onClick={closePositionAsLimitHandler}\n                size=\"sm\"\n              >\n                Limit\n              </CButton>\n              <div className=\"col-4\">\n                <CFormInput\n                  type=\"number\"\n                  size=\"sm\"\n                  placeholder=\"price\"\n                  value={limitPrice}\n                  id=\"limit-price\"\n                  onChange={(e) => $limitPrice(e.target.value)}\n                  // className=\"col-5\"\n                />\n              </div>\n            </div>\n          </CTableDataCell>\n        )}\n      </CTableRow>\n    </>\n  );\n};\n\nexport default Position;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../Provider/Auth\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport classNames from \"classnames\";\nimport {\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n  CButton,\n  CTableBody,\n  CToaster,\n  CTooltip,\n} from \"@coreui/react\";\nimport Position from \"../../components/Trade/Position\";\nimport Toast from \"../../components/Toast\";\n\nconst Positions = ({ positions, isClose }) => {\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n\n  async function submitClosePosition(position, type, price) {\n    const resp = await tr7TradingBot.closePosition(position, type, price);\n    return resp;\n  }\n  function closePositionHandler(position) {\n    addToast(Toast(\"Close Position\", \"submitting order...\"));\n    submitClosePosition(position, \"market\", 0).then((resp) => {\n      addToast(Toast(\"Close Position\", resp.message));\n    });\n  }\n  function closePositionLimitHandler(position, limitPrice) {\n    const minPrice = position.markPrice - (position.markPrice * 50) / 100;\n    const maxPrice = position.markPrice * 1.5;\n    if (limitPrice >= minPrice && limitPrice <= maxPrice) {\n      addToast(Toast(\"Close Position\", \"submitting order...\"));\n      submitClosePosition(position, \"limit\", limitPrice).then((resp) => {\n        addToast(Toast(\"Close Position\", resp.message));\n      });\n    } else {\n      addToast(\n        Toast(\n          \"Close Position\",\n          \"price should be larger or smaller than mark price maximum of 50%\"\n        )\n      );\n    }\n  }\n  function closeAllPositionsHandler() {\n    addToast(Toast(\"Close All Positions\", \"submitting order...\"));\n    (async function submitClosePositions() {\n      const resp = await tr7TradingBot.clearPositions();\n      addToast(Toast(\"Close All Positions\", `${resp.msg}`));\n      return resp;\n    })();\n  }\n  /** [\"Symbol\", \"Size\", \"Entry Price\", \"Mark Price\", \"Liq.Price\", \"Margin\", \"PNL\"]\n   *\n   */\n  const curPositions = positions.map((position, index) => {\n    const {\n      symbol,\n      entryPrice,\n      unRealizedProfit,\n      positionAmt,\n      isolatedMargin,\n      markPrice,\n      liquidationPrice,\n      isolatedWallet,\n      leverage,\n    } = position;\n    // NOTE: on binance site, this size is calculated as positionAmt * last price\n    const size = positionAmt * entryPrice;\n    const roe = (unRealizedProfit * 100) / (Math.abs(size) / leverage);\n    return {\n      symbol,\n      positionAmt,\n      size: Number(size).toFixed(2),\n      entryPrice: Number(entryPrice).toFixed(2),\n      markPrice: Number(markPrice).toFixed(2),\n      liquidationPrice: Number(liquidationPrice).toFixed(2),\n      marginSize: Number(isolatedWallet).toFixed(2),\n      pnl: Number(unRealizedProfit).toFixed(2),\n      roe: Number(roe).toFixed(2),\n      leverage,\n    };\n  });\n  let positionsHeader = [\n    \"Symbol\",\n    \"Size\",\n    \"Entry Price\",\n    \"Mark Price\",\n    \"Liq.Price\",\n    \"Margin\",\n    \"PNL (ROE%)\",\n  ];\n  if (isClose) {\n    positionsHeader.push(\"Close All Positions\");\n  }\n\n  return (\n    <>\n      <CRow>\n        <CCol xl={12}>\n          <CCard className=\"mb-4\">\n            <CCardHeader>Positions ({curPositions.length})</CCardHeader>\n            <CCardBody>\n              <table className=\"table\">\n                <thead className=\"\">\n                  <tr>\n                    {positionsHeader.map((key, index) => {\n                      if (key === \"Close All Positions\") {\n                        return (\n                          <th key={index}>\n                            <div>\n                              <CTooltip\n                                content=\"close all positions as market price\"\n                                placement=\"top\"\n                              >\n                                <CButton\n                                  variant=\"ghost\"\n                                  color=\"warning\"\n                                  onClick={closeAllPositionsHandler}\n                                >\n                                  {key}\n                                </CButton>\n                              </CTooltip>\n                            </div>\n                          </th>\n                        );\n                      }\n                      return <th key={index}>{key}</th>;\n                    })}\n                  </tr>\n                </thead>\n                <CTableBody>\n                  {curPositions.map((position, index) => {\n                    return (\n                      <Position\n                        position={position}\n                        key={index}\n                        isClose={isClose}\n                        closeHandler={closePositionHandler}\n                        closeLimitHandler={closePositionLimitHandler}\n                      />\n                    );\n                  })}\n                </CTableBody>\n              </table>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n      <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n      {/* <CModal\n        alignment=\"center\"\n        visible={visible}\n        onClose={() => setVisible(false)}\n      >\n        <ClosePositionModal\n          position={position}\n          response={respClose}\n          closeModalHandler={() => setVisible(false)}\n        />\n      </CModal> */}\n    </>\n  );\n};\n\nexport default Positions;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["header","body","color","closeButton","className","width","height","xmlns","preserveAspectRatio","focusable","role","fill","MODE_ISOLATED","MODE_CROSSED","DEFAULT_MODE","DIRECTION_SHORT","DEFAULT_DIRECTION","TYPE_MARKET","TYPE_LIMIT","DEFAULT_TYPE","onCloseHandler","onSubmitHandler","useState","loading","$loading","toast","addToast","toasterRef","useRef","refForm","symbolList","$symbolList","directionRef","leverageRef","modeRef","curSymbol","$curSymbol","type","$type","price","$price","amount","$amount","curSymbolMarkPrice","$curSymbolMarkPrice","curSymbolLastPrice","$curSymbolLastPrice","takeProfitRef","stoplossRef","useEffect","tr7TradingBot","then","res","sortSymbols","symbols","sort","fetchSymbolInfoInvoke","symbolInfo","symbolMarketInfo","markPrice","lastPrice","symbol","accSymInfo","current","value","isolated","leverage","id","setInterval","clearInterval","ref","push","placement","onSubmit","event","preventDefault","Toast","order","mode","side","tp","sl","JSON","stringify","xs","lg","component","htmlFor","onChange","e","target","map","index","defaultValue","Number","toFixed","size","placeholder","disabled","onClick","maxBalanceRef","numberLevels","$numberLevels","Array","prices","$prices","amounts","$amounts","totalAmount","$totalAmount","averagePrice","$averagePrice","curSymbolPricePrecision","$curSymbolPricePrecision","levelPriceChangeHandler","replace","curPrices","tempPrices","levelAmountChangeHandler","curAmounts","tempAmounts","console","log","pricePrecision","avgPrice","totalBalanceSize","slice","forEach","levels","gridOrder","direction","maxBalance","takeProfit","trigger","percent","stopLoss","from","length","level","step","response","$response","newTradeVisible","$newTradeVisible","newMultiOrderVisible","$newMultiOrderVisible","fetchSomeBotData","resp","success","message","alignment","visible","onClose","Positions","positions","isClose","position","closeHandler","closeLimitHandler","limitPrice","$limitPrice","positionAmt","closeColor","pnl","variant","classNames","entryPrice","liquidationPrice","marginSize","roe","submitClosePosition","closePositionHandler","closePositionLimitHandler","minPrice","maxPrice","closeAllPositionsHandler","msg","curPositions","unRealizedProfit","isolatedMargin","isolatedWallet","Math","abs","positionsHeader","xl","key","content","hasOwn","hasOwnProperty","classes","i","arguments","arg","argType","isArray","inner","apply","toString","Object","prototype","includes","call","join","module","exports","default"],"sourceRoot":""}