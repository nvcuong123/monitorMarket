{"version":3,"file":"static/js/954.f1155f2c.chunk.js","mappings":"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","sources":["Utils/index.js","components/Data/Symbol.js","pages/Analysis/Binance/BinanceAlerts.js"],"sourcesContent":["import dayjs from \"dayjs\";\nimport { sum } from \"lodash\";\n\nexport const CurrencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n\n  // These options are needed to round to whole numbers if that's what you want.\n  //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n  //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});\nexport const NumberFormatter = (number) => {\n  const retNumber = number.toLocaleString(\"en-US\", {\n    minimumFractionDigits: 2,\n  });\n  console.log(\"retNumber\", retNumber);\n  return retNumber;\n};\n\nexport const PercentFormatter = (number) => `${number.toFixed(2)}%`;\nexport const PercentChangeFormatter = (number) =>\n  `${Number(\n    new Intl.NumberFormat(\"en-US\", {\n      signDisplay: \"exceptZero\",\n    }).format(number)\n  ).toFixed(2)}%`;\n\nexport const DateNow = () => `${dayjs().format(\"DD/MM HH:mm:ss\")}`;\nexport const DateFormatter = (timestamp) =>\n  `${dayjs(timestamp).format(\"DD/MM HH:mm:ss\")}`;\nexport const TimeFormatter = (timestamp) =>\n  `${dayjs(timestamp).format(\"HH:mm:ss\")}`;\nexport const FundingRateFormat = (fundingRate) =>\n  `${Number(fundingRate).toFixed(4)}%`;\n\nexport const NumberShortFmt = (number) => {\n  if (number < 1000000) {\n    return `${Number(number).toFixed(3)}`;\n  } else if (number < 1000000000) {\n    return `${Number(number / 1000000).toFixed(2)}M`;\n  } else {\n    return `${Number(number / 1000000000).toFixed(2)}B`;\n  }\n};\n\nconst Utils = {\n  CurrencyFormatter,\n  PercentFormatter,\n};\n\nexport default Utils;\n","import { CButton, CBadge } from \"@coreui/react\";\n\nconst Symbol = (props) => {\n  const binanceUrl = `https://www.binance.com/en/futures/${props.symbol}`;\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <h5>\n      <CBadge\n        className=\"custom-link\"\n        color=\"warning\"\n        onClick={() => openInNewTab(binanceUrl)}\n      >\n        {props.symbol}\n      </CBadge>\n    </h5>\n  );\n};\n\nexport default Symbol;\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport { Alert, Toast, ToastContainer, Table } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport dayjs from \"dayjs\";\nimport {\n  CCol,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCardTitle,\n  CCardText,\n  CRow,\n  CTable,\n  CTableHead,\n  CTableHeaderCell,\n  CTableBody,\n  CTableRow,\n  CTableDataCell,\n  CBadge,\n  CCallout,\n} from \"@coreui/react\";\nimport {\n  CurrencyFormatter,\n  PercentChangeFormatter,\n  DateNow,\n  DateFormatter,\n  TimeFormatter,\n  FundingRateFormat,\n  NumberFormatter,\n} from \"../../../Utils\";\nimport Symbol from \"../../../components/Data/Symbol\";\n\nconst productionUrl = window.location.origin.replace(\"https\", \"wss\");\nconst socketUrl =\n  process.env.NODE_ENV === \"production\" ? productionUrl : \"ws://127.0.0.1:3000\";\nconsole.log(\"socketUrl\", socketUrl);\n\n/**{\n  time: 1696857471364,\n  alertType: 'PRICE_CHANGE',\n  timestamp: 1696857300000,\n  symbol: 'BNTUSDT',\n  timeframe: '5m',\n  price: '0.5228000',\n  priceChange: -2.0239880059969866\n} \n\n{\n  time: 1696860003596,\n  alertType: 'RSI',\n  timestamp: 1696860000000,\n  symbol: 'QTUMUSDT',\n  timeframe: '30m',\n  rsi: 19.39,\n  rsiType: 'RSI_OVERSOLD'\n}\n\n{\n  alertType: 'OI_CHANGE',\n  alertSubType: 'REALTIME_OI',\n  time: 1696862013746,\n  sumOpenInterest: '27621345',\n  sumOpenInterestValue: 6667792.683,\n  prevChange: 9.869097861511296,\n  timestamp: 1696860900000,\n  symbol: 'BNXUSDT',\n  timeframe: '15m'\n}\n*/\n/**ticker<xx>Last {\n * sFinal: false\n  price: \"0.9994000\"\n  priceChange: 0\n  quoteVolume: \"133.9196000\"\n  quoteVolumeChange: -23.863052008024187\n  timestamp: 1696945920000} \n*/\nconst AlertPrice = (props) => {\n  const tickers = props.tickers;\n  const ticker1mLast = _.last(tickers[\"1m\"]);\n  const ticker5mLast = _.last(tickers[\"5m\"]);\n  const ticker15mLast = _.last(tickers[\"15m\"]);\n  const ticker30mLast = _.last(tickers[\"30m\"]);\n  const ticker1hLast = _.last(tickers[\"1h\"]);\n\n  return (\n    <CCard color=\"\">\n      <CCardHeader>\n        <div className=\"d-flex d-flex-row justify-content-between smaller-text\">\n          <strong>Price</strong>\n          {/* <strong>{ticker1mLast.price}</strong> */}\n          <strong>{CurrencyFormatter.format(ticker1mLast.price)}</strong>\n        </div>\n      </CCardHeader>\n      <CCardBody className=\"smaller-text\">\n        <CTable stripedColumns hover color=\"light\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>1h</CTableHeaderCell>\n              <CTableHeaderCell>30m</CTableHeaderCell>\n              <CTableHeaderCell>15m</CTableHeaderCell>\n              <CTableHeaderCell>5m</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            <CTableRow>\n              <CTableDataCell>\n                {ticker1hLast &&\n                  PercentChangeFormatter(ticker1hLast.priceChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker30mLast &&\n                  PercentChangeFormatter(ticker30mLast.priceChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker15mLast &&\n                  PercentChangeFormatter(ticker15mLast.priceChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker5mLast &&\n                  PercentChangeFormatter(ticker5mLast.priceChange)}\n              </CTableDataCell>\n            </CTableRow>\n          </CTableBody>\n        </CTable>\n      </CCardBody>\n    </CCard>\n  );\n};\nconst AlertOI = (props) => {\n  const { openInterests } = props;\n  //\n  return (\n    <CCard color=\"\" className=\"smaller-text\">\n      <CCardHeader>\n        <div\n          className=\"d-flex d-flex-row justify-content-between\"\n          color=\"danger\"\n        >\n          <strong>OI (real)</strong>\n          <strong>\n            {openInterests &&\n              CurrencyFormatter.format(\n                openInterests[\"real\"].sumOpenInterestValue\n              )}\n            {/* {openInterests &&\n              NumberFormatter(openInterests[\"real\"].sumOpenInterest)} */}\n          </strong>\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        <CTable stripedColumns hover color=\"light\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>4h</CTableHeaderCell>\n              <CTableHeaderCell>1h</CTableHeaderCell>\n              <CTableHeaderCell>30m</CTableHeaderCell>\n              <CTableHeaderCell>15m</CTableHeaderCell>\n              <CTableHeaderCell>5m</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            <CTableRow>\n              <CTableDataCell color=\"\">\n                {openInterests &&\n                  PercentChangeFormatter(openInterests[\"4h\"].realTimeChange)}\n              </CTableDataCell>\n              <CTableDataCell color=\"\">\n                {openInterests &&\n                  PercentChangeFormatter(openInterests[\"1h\"].realTimeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {openInterests &&\n                  PercentChangeFormatter(openInterests[\"30m\"].realTimeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {openInterests &&\n                  PercentChangeFormatter(openInterests[\"15m\"].realTimeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {openInterests &&\n                  PercentChangeFormatter(openInterests[\"5m\"].realTimeChange)}\n              </CTableDataCell>\n            </CTableRow>\n          </CTableBody>\n        </CTable>\n      </CCardBody>\n    </CCard>\n  );\n};\nconst AlertVolume = (props) => {\n  const { tickers, change24h } = props;\n  const ticker1mLast = _.last(tickers[\"1m\"]);\n  const ticker5mLast = _.last(tickers[\"5m\"]);\n  const ticker15mLast = _.last(tickers[\"15m\"]);\n  const ticker30mLast = _.last(tickers[\"30m\"]);\n  const ticker1hLast = _.last(tickers[\"1h\"]);\n  //\n  return (\n    <CCard color=\"\">\n      <CCardHeader>\n        <div className=\"d-flex d-flex-row justify-content-between\">\n          <strong>Volume (24h)</strong>\n          <strong>{`${CurrencyFormatter.format(\n            change24h.quoteVolume\n          )} (${PercentChangeFormatter(change24h.percentChange)})`}</strong>\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        <CTable stripedColumns hover color=\"light\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>1h</CTableHeaderCell>\n              <CTableHeaderCell>30m</CTableHeaderCell>\n              <CTableHeaderCell>15m</CTableHeaderCell>\n              <CTableHeaderCell>5m</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            <CTableRow>\n              <CTableDataCell>\n                {ticker1hLast &&\n                  PercentChangeFormatter(ticker1hLast.quoteVolumeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker30mLast &&\n                  PercentChangeFormatter(ticker30mLast.quoteVolumeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker15mLast &&\n                  PercentChangeFormatter(ticker15mLast.quoteVolumeChange)}\n              </CTableDataCell>\n              <CTableDataCell>\n                {ticker5mLast &&\n                  PercentChangeFormatter(ticker5mLast.quoteVolumeChange)}\n              </CTableDataCell>\n            </CTableRow>\n          </CTableBody>\n        </CTable>\n      </CCardBody>\n    </CCard>\n  );\n};\nconst AlertRsi = (props) => {\n  const { rsi } = props;\n  //\n  return (\n    <CCard color=\"\">\n      <CCardHeader>\n        <div className=\"d-flex d-flex-row justify-content-between\">\n          <strong>RSI (1m)</strong>\n          <strong>{_.last(rsi[\"1m\"])}</strong>\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        <CTable stripedColumns hover color=\"light\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>4h</CTableHeaderCell>\n              <CTableHeaderCell>1h</CTableHeaderCell>\n              <CTableHeaderCell>30m</CTableHeaderCell>\n              <CTableHeaderCell>15m</CTableHeaderCell>\n              <CTableHeaderCell>5m</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            <CTableRow>\n              <CTableDataCell>{_.last(rsi[\"4h\"])}</CTableDataCell>\n              <CTableDataCell>{_.last(rsi[\"1h\"])}</CTableDataCell>\n              <CTableDataCell>{_.last(rsi[\"30m\"])}</CTableDataCell>\n              <CTableDataCell>{_.last(rsi[\"15m\"])}</CTableDataCell>\n              <CTableDataCell>{_.last(rsi[\"5m\"])}</CTableDataCell>\n            </CTableRow>\n          </CTableBody>\n        </CTable>\n      </CCardBody>\n    </CCard>\n  );\n};\nconst AlertFundingRate = (props) => {\n  const { fundingRates } = props;\n\n  //\n  return (\n    <CCard color=\"\">\n      <CCardHeader>\n        <div className=\"d-flex d-flex-row justify-content-between\">\n          <strong>Funding Rate (real)</strong>\n          <strong>\n            {fundingRates[\"real\"] &&\n              `${FundingRateFormat(fundingRates[\"real\"]?.fundingRate * 100)}`}\n          </strong>\n        </div>\n      </CCardHeader>\n      <CCardBody>\n        <CTable stripedColumns hover color=\"light\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              {_.map(fundingRates[\"hist\"], (frData) => {\n                return (\n                  <CTableHeaderCell>\n                    {DateFormatter(frData.fundingTime)}\n                  </CTableHeaderCell>\n                );\n              })}\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            <CTableRow>\n              {_.map(fundingRates[\"hist\"], (frData) => {\n                return (\n                  <CTableHeaderCell>\n                    {`${FundingRateFormat(frData.fundingRate * 100)}`}\n                  </CTableHeaderCell>\n                );\n              })}\n            </CTableRow>\n          </CTableBody>\n        </CTable>\n      </CCardBody>\n    </CCard>\n  );\n};\nconst AlertCard = (props) => {\n  const { symbol, timestamp, symbolData, binanceHeatmap } = props;\n  const { candles, fundingRates, openInterests, rsi, tickers } = symbolData;\n  //\n  return (\n    <CCard color=\"secondary\" className=\"mb-3 p-1\">\n      <div className=\"d-flex d-flex-row mx-2 justify-content-between\">\n        <CCard color=\"warning\">\n          <div>{DateFormatter(timestamp)}</div>\n          <div className=\"w-100\"></div>\n          <Symbol symbol={symbol} />\n        </CCard>\n        <AlertPrice tickers={tickers} />\n        <AlertOI openInterests={openInterests[\"tickers\"]} />\n        <AlertVolume\n          tickers={tickers}\n          // volume24h={}\n        />\n        <AlertRsi rsi={rsi} />\n        <AlertFundingRate fundingRate={fundingRates} />\n      </div>\n    </CCard>\n  );\n};\n\n/**\n *\n * @param {row of each symbol} props\n * @returns\n */\nconst AlertRow = (props) => {\n  const { symbol, alert, symbolData, binanceHeatmap } = props;\n  const { candles, fundingRates, openInterests, rsi, tickers } = symbolData;\n  const binanceUrl = `https://www.binance.com/en/futures/${symbol}`;\n  const change24h = _.find(\n    binanceHeatmap.tradingVol24H,\n    (contract, idx) => contract.symbol === symbol\n  );\n  // const volume24h = contract24hData?.quoteVolume || \"NA\";\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <CTableRow\n      color=\"\"\n      className=\"custom-link\"\n      onClick={() => openInNewTab(binanceUrl)}\n    >\n      <CTableDataCell className=\"\">\n        <h7>{DateFormatter(alert.time)}</h7>\n        <div className=\"w-100\"></div>\n        <h7>{alert.alertType}</h7>\n        <div className=\"w-100\"></div>\n        <Symbol symbol={symbol} />\n      </CTableDataCell>\n      <CTableDataCell>\n        <AlertPrice tickers={tickers} />\n        {/* </CTableDataCell>\n      <CTableDataCell> */}\n        <AlertVolume tickers={tickers} change24h={change24h} />\n      </CTableDataCell>\n      <CTableDataCell>\n        <AlertOI openInterests={openInterests[\"tickers\"]} />\n        {/* </CTableDataCell>\n      <CTableDataCell> */}\n        <AlertRsi rsi={rsi} />\n      </CTableDataCell>\n      <CTableDataCell>\n        <AlertFundingRate fundingRates={fundingRates} />\n      </CTableDataCell>\n    </CTableRow>\n  );\n};\n\nconst BotAlert = (props) => {\n  const alert = props.alert;\n  const binanceUrl = `https://www.binance.com/en/futures/${alert.symbol}`;\n  return (\n    <CCard\n      className=\"mx-3 mb-3\"\n      color=\"warning\"\n      textColor=\"white\"\n      style={{ maxWidth: \"24rem\" }}\n    >\n      <a\n        href={binanceUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"custom-link\"\n      >\n        <CCardHeader>\n          <div className=\"d-flex d-flex-row justify-content-between\">\n            <h5>\n              <strong>{alert.symbol}</strong>\n            </h5>\n            <div>{dayjs(alert.time).format(\"DD/MM HH:mm:ss\")}</div>\n          </div>\n        </CCardHeader>\n        <CCardBody>\n          {alert.alertType === \"PRICE_CHANGE\" && (\n            <>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>{alert.alertType}</div>\n                <div>{PercentChangeFormatter(alert.priceChange)}</div>\n              </div>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>Timeframe</div>\n                <div>{alert.timeframe}</div>\n              </div>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>Price</div>\n                <div>{CurrencyFormatter.format(alert.price)}</div>\n              </div>\n            </>\n          )}\n          {alert.alertType === \"RSI\" && (\n            <>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>{alert.rsiType}</div>\n                <div>{alert.rsi}</div>\n              </div>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>Timeframe</div>\n                <div>{alert.timeframe}</div>\n              </div>\n            </>\n          )}\n          {alert.alertType === \"OI_CHANGE\" && (\n            <>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>{alert.alertType}</div>\n                <div>{PercentChangeFormatter(alert.realTimeChange)}</div>\n              </div>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>Timeframe</div>\n                <div>{alert.timeframe}</div>\n              </div>\n              <div className=\"d-flex d-flex-row justify-content-between\">\n                <div>Open Interest</div>\n                <div>\n                  {CurrencyFormatter.format(alert.sumOpenInterestValue)}\n                </div>\n              </div>\n            </>\n          )}\n        </CCardBody>\n      </a>\n    </CCard>\n  );\n};\n\nconst StackingAlertToast = (props) => {\n  const { alertToasts, onCloseHandler } = props;\n  //\n  const closeAlert = (index) => {\n    console.log(\"closeAlert\", index);\n    onCloseHandler(index);\n    // $alertToats((prevToats) => _.pull(prevToats, prevToats[index]));\n  };\n  //\n  return (\n    <ToastContainer className=\"position-static\" position=\"bottom-end\">\n      {!_.isEmpty(alertToasts) &&\n        alertToasts.map((index) => {\n          return (\n            <Toast\n              className=\"my-2 mx-2\"\n              bg=\"warning\"\n              key={index}\n              onClose={() => closeAlert(index)}\n            >\n              <Toast.Header>\n                <img\n                  src=\"holder.js/20x20?text=%20\"\n                  className=\"rounded me-2\"\n                  alt=\"\"\n                />\n                <strong className=\"me-auto\">\n                  {`${index} symbol timeframe`}{\" \"}\n                </strong>\n                <small className=\"text-muted\">{DateNow()}</small>\n              </Toast.Header>\n              <Toast.Body className=\"text-black\">\n                <div>Price/OI/RSI:</div>\n                <div>Change:%</div>\n                <div>Just like this</div>\n              </Toast.Body>\n            </Toast>\n          );\n        })}\n    </ToastContainer>\n  );\n};\n\nconst BinanceAlerts = () => {\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    share: true,\n    retryOnError: true,\n    reconnectAttempts: 1000,\n    reconnectInterval: 3000,\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: () => true,\n    onOpen: (event) => console.log(\"opened ws\", event),\n    onClose: (closeEvent) => console.log(\"ws closed\", closeEvent),\n    onError: (errEvent) => console.log(\"error\", errEvent),\n    onReconnectStop: (numAttemp) => console.log(\"reconnect stopped\", numAttemp),\n  });\n  //\n  const [alertToasts, $alertToasts] = useState([]);\n  const [alertSymbList, $alertSymbList] = useState([]);\n  const [binanceAlerts, $binanceAlerts] = useState({});\n  const [alertDataList, $alertDataList] = useState([]);\n  const [binanceHeatmap, $binanceHeatmap] = useState({});\n  //\n  useEffect(() => {\n    if (lastMessage !== null) {\n      const json = JSON.parse(lastMessage.data);\n      /**\n       * const alertData = {\n    symbols: alertSymbList,\n    alertlist: binanceAlerts,\n    marketdata: alertDataList,\n  };\n       */\n      let respAlertList = json.alertData.alertlist;\n      _.reverse(respAlertList);\n      $binanceAlerts((prevAlerts) => respAlertList);\n      // $alertToasts((prevToasts) => _.takeRight(respAlertList, 5));\n      let respSymbList = json.alertData.symbols;\n      _.reverse(respSymbList);\n      $alertSymbList((prevList) => respSymbList);\n      const marketData = json.alertData.marketdata;\n      $alertDataList((prevList) => marketData);\n      $binanceHeatmap(json.binanceHeatmap);\n    }\n  }, [lastMessage]);\n  //\n  function alertToastClose(index) {\n    $alertToasts((prevAlerts) => {\n      const newAlerts = prevAlerts.splice(index, 1);\n      console.log(newAlerts, newAlerts);\n      return newAlerts;\n    });\n  }\n\n  return (\n    <>\n      {_.isEmpty(alertSymbList) && <div>No Alert Detected</div>}\n      {/* {!_.isEmpty(alertSymbList) && (\n        <>\n          {alertSymbList.map((symbol, index) => {\n            const alert = _.find(\n              binanceAlerts,\n              (alert) => alert.symbol === symbol\n            );\n            const symbolData = _.find(\n              alertDataList,\n              (obj) => obj.symbol === symbol\n            );\n            return (\n              <AlertCard\n                key={index}\n                symbol={symbol}\n                timestamp={alert.time}\n                symbolData={symbolData.data}\n              />\n            );\n          })}\n        </>\n      )} */}\n      {!_.isEmpty(alertSymbList) && (\n        <CTable striped hover responsive color=\"light\" className=\"smaller-text\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>Symbol</CTableHeaderCell>\n              <CTableHeaderCell>Price / Volume</CTableHeaderCell>\n              {/* <CTableHeaderCell>Volume</CTableHeaderCell> */}\n              <CTableHeaderCell>Open Interest / RSI</CTableHeaderCell>\n              {/* <CTableHeaderCell>RSI</CTableHeaderCell> */}\n              <CTableHeaderCell>Funding Rate</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            {alertSymbList.map((symbol, index) => {\n              const alert = _.find(\n                binanceAlerts,\n                (alert) => alert.symbol === symbol\n              );\n              const symbolData = _.find(\n                alertDataList,\n                (obj) => obj.symbol === symbol\n              );\n              return (\n                <AlertRow\n                  key={index}\n                  symbol={symbol}\n                  alert={alert}\n                  symbolData={symbolData.data}\n                  binanceHeatmap={binanceHeatmap}\n                />\n              );\n            })}\n          </CTableBody>\n        </CTable>\n      )}\n      <div className=\"d-flex flex-row flex-wrap justify-content-around align-content-around\">\n        {!_.isEmpty(binanceAlerts) &&\n          binanceAlerts.map((alert) => {\n            return (\n              <CCol sm={4}>\n                <BotAlert alert={alert} />\n              </CCol>\n            );\n          })}\n      </div>\n      {/* <StackingAlertToast\n        alertList={alertToasts}\n        onCloseHandler={alertToastClose}\n      /> */}\n    </>\n  );\n};\n\nexport default BinanceAlerts;\n"],"names":["CurrencyFormatter","Intl","NumberFormat","style","currency","PercentChangeFormatter","number","Number","signDisplay","format","toFixed","DateFormatter","timestamp","dayjs","FundingRateFormat","fundingRate","props","binanceUrl","symbol","className","color","onClick","url","newWindow","window","open","opener","openInNewTab","socketUrl","location","origin","replace","console","log","AlertPrice","tickers","ticker1mLast","_","ticker5mLast","ticker15mLast","ticker30mLast","ticker1hLast","price","stripedColumns","hover","priceChange","AlertOI","openInterests","sumOpenInterestValue","realTimeChange","AlertVolume","change24h","quoteVolume","percentChange","quoteVolumeChange","AlertRsi","rsi","AlertFundingRate","fundingRates","frData","fundingTime","AlertRow","alert","symbolData","binanceHeatmap","candles","tradingVol24H","contract","idx","time","alertType","BotAlert","textColor","maxWidth","href","target","rel","timeframe","rsiType","useWebSocket","share","retryOnError","reconnectAttempts","reconnectInterval","shouldReconnect","onOpen","event","onClose","closeEvent","onError","errEvent","onReconnectStop","numAttemp","lastMessage","sendMessage","readyState","useState","alertSymbList","$alertSymbList","binanceAlerts","$binanceAlerts","alertDataList","$alertDataList","$binanceHeatmap","useEffect","json","JSON","parse","data","respAlertList","alertData","alertlist","prevAlerts","respSymbList","symbols","prevList","marketData","marketdata","striped","responsive","map","index","obj","sm"],"sourceRoot":""}