"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[302],{53537:function(e,n,t){t.d(n,{CN:function(){return l},JK:function(){return o},Xz:function(){return s},eO:function(){return c},mX:function(){return i},rB:function(){return u}});var r=t(97892),a=t.n(r),o=(t(763),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})),i=function(e,n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n}).format(e)},c=function(e){return e.toLocaleString("en-US",{minimumFractionDigits:2})},s=function(e){return"".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(e)).toFixed(2),"%")},l=function(e){return"".concat(a()(e).format("DD/MM HH:mm:ss"))},u=function(e){return"".concat(Number(e).toFixed(4),"%")}},76302:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(29439),a=t(72791),o=t(19829),i=t(1413),c=t(74819),s=t(24689),l=t(43623),u=[{min:Number.NEGATIVE_INFINITY,max:-20,color:"#D73B51"},{min:-20,max:-10,color:"#F1475C"},{min:-10,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:10,color:"#48D69D"},{min:10,max:20,color:"#0FCB80"},{min:20,max:Number.POSITIVE_INFINITY,color:"#0EAF6F"}],d=[{min:-1/0,max:-.01,color:"#D73B51"},{min:-.01,max:-.005,color:"#F1475C"},{min:-.005,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:.005,color:"#48D69D"},{min:.005,max:.01,color:"#0FCB80"},{min:.01,max:1/0,color:"#0EAF6F"}],m=function(e,n){var t="#77808F",r=u;"Funding Rates"===n&&(r=d);var a=r.find((function(n){var t=Number(e);return t>=n.min&&t<n.max}));return a&&(t=a.color),t},f=t(80184);c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var p={animation:!1,plugins:{title:{display:!0,text:"Price Change 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.percentChange,r=(n.dataCoverage,n.price),a=n.lastFundingRate;return["Price : ".concat(r),"24h change: ".concat(Number(t).toFixed(2),"%"),"Funding Rate: ".concat(Number(a).toFixed(4),"%")]}}}},aspectRatio:1};function g(e){var n=(0,a.useState)(),t=(0,r.Z)(n,2),o=t[0],c=t[1];return(0,a.useEffect)((function(){var n=e.indicator,t=e.fundingRates,r=e.topRangeValue,a=e.pricePrecisions,o={datasets:[{tree:[],key:"absPricePercent",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(e.raw._data.percentChange)).toFixed(2),"%")]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},s=(0,i.Z)({},o),l=[];e.change24Hs.slice(0,r).forEach((function(e,r){var o=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),i=Number(100*(null===o||void 0===o?void 0:o.fundingRate)||0),c=a[e.symbol];c<0&&(c=0),l.push({name:e.symbol,price:"$".concat(Number(e.close).toFixed(c)),lastFundingRate:i,percentChange:e.percentChange,absPricePercent:Math.abs(e.percentChange),dataCoverage:"Funding Rates"===n?i:e.percentChange})})),s.datasets[0].tree=l,c(s)}),[e]),(0,f.jsx)(f.Fragment,{children:o&&(0,f.jsx)(l.kL,{type:"treemap",data:o,options:p})})}var x=t(53537);c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var h={animation:!1,plugins:{title:{display:!0,text:"Trading Volume 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.percentChange,r=n.quoteVolume,a=n.price,o=n.lastFundingRate;return["Price : ".concat(a),"Volume 24H: ".concat(x.JK.format(r)),"24h change: ".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(t)).toFixed(2),"%"),"Funding Rate: ".concat(Number(o).toFixed(4),"%")]}}}},aspectRatio:1};function y(e){var n=(0,a.useState)(),t=(0,r.Z)(n,2),o=t[0],c=t[1];return(0,a.useEffect)((function(){var n=e.indicator,t=e.fundingRates,r=e.topRangeValue,a=e.pricePrecisions,o={datasets:[{tree:[],key:"quoteVolume",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"Vol: ".concat(x.JK.format(e.raw._data.quoteVolume)),"".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(e.raw._data.percentChange)).toFixed(2),"%")]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},s=(0,i.Z)({},o),l=[];e.tradingVol24H.slice(0,r).forEach((function(e,r){var o=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),i=Number(100*(null===o||void 0===o?void 0:o.fundingRate)||0),c=a[e.symbol];c<0&&(c=0),l.push({name:e.symbol,price:"$".concat(Number(e.close).toFixed(c)),lastFundingRate:i,volume:e.volume,quoteVolume:e.quoteVolume,percentChange:e.percentChange,dataCoverage:"Funding Rates"===n?i:e.percentChange})})),s.datasets[0].tree=l,c(s)}),[e]),(0,f.jsx)(f.Fragment,{children:o&&(0,f.jsx)(l.kL,{type:"treemap",data:o,options:h})})}var v=t(29546),b=t(43880),F=t(13483),w=t(12576),N=window.location.origin.replace("https","wss")+"/heatmap";console.log("socketUrl",N);var j=function(e){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,f.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},C=function(e){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,f.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},R=["Performance 24h, %","Funding Rates"],S={"Top 10 coins":10,"Top 20 coins":20,"Top 30 coins":30,"Top 50 coins":50},k=function(e){var n="Funding Rates"===e.indicator?d:u;return(0,f.jsx)("div",{className:"mx-2 d-flex flex-row align-items-center",children:n.map((function(n,t){var r=n.min.toString(),a=n.max.toString();return"Funding Rates"!==e.indicator&&(n.min!==-1/0&&(r+="%"),n.max!==1/0&&(a+="%")),(0,f.jsx)(F.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,f.jsx)(w.Z,{id:t,children:n.min<0?"".concat(r," > ").concat(a):0===n.min&&0===n.max?"".concat(r):"".concat(r," < ").concat(a)}),children:(0,f.jsx)("div",{className:"color-pattern mx-1",style:{backgroundColor:n.color}})},t)}))})},D=function(){var e=(0,a.useState)(R[0]),n=(0,r.Z)(e,2),t=n[0],i=n[1],c=(0,a.useState)(Object.keys(S)[1]),s=(0,r.Z)(c,2),l=s[0],u=s[1];var d=(0,o.ZP)(N,{share:!0,retryOnError:!0,reconnectAttempts:1e3,reconnectInterval:3e3,shouldReconnect:function(){return!0},onOpen:function(e){return console.log("opened ws",e)},onClose:function(e){return console.log("ws closed",e)},onError:function(e){return console.log("error",e)},onReconnectStop:function(e){return console.log("reconnect stopped",e)}}),m=(d.sendMessage,d.lastMessage),p=d.readyState,x=(0,a.useState)({}),h=(0,r.Z)(x,2),v=h[0],b=h[1];return(0,a.useEffect)((function(){if(null!==m){var e=JSON.parse(m.data);b(e)}}),[m]),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,f.jsxs)("div",{className:"d-flex flex-row justify-content-start mb-1",children:[(0,f.jsx)("div",{className:"mx-2",children:(0,f.jsx)(C,{curType:l,typeList:Object.keys(S),typeListSelectHandler:function(e){u(e)}})}),(0,f.jsxs)("div",{className:"mx-2 d-flex flex-row justify-content-start",children:[(0,f.jsx)(j,{curType:t,typeList:R,typeListSelectHandler:function(e){i(e)}}),(0,f.jsx)(k,{indicator:t})]})]}),(0,f.jsx)("div",{className:"d-flex flex-row w-50 justify-content-end mb-1"})]}),(0,f.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-around align-content-around",children:[(0,f.jsx)("div",{className:"heatmap-chart",children:p&&v.change24Hs&&(0,f.jsx)(g,{change24Hs:v.change24Hs,pricePrecisions:v.pricePrecisions,indicator:t,topRangeValue:S[l],fundingRates:v.fundingRates})}),(0,f.jsx)("div",{className:"heatmap-chart",children:p&&v.change24Hs&&(0,f.jsx)(y,{tradingVol24H:v.tradingVol24H,pricePrecisions:v.pricePrecisions,indicator:t,topRangeValue:S[l],fundingRates:v.fundingRates})})]})]})}}}]);
//# sourceMappingURL=302.5a6a296a.chunk.js.map