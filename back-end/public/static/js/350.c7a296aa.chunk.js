"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[350],{27350:function(e,n,r){r.r(n);var t=r(93433),l=r(74165),s=r(15861),a=r(29439),i=r(72791),c=r(55230),u=r(78983),o=r(78392),d=r(80184),m="Short",f="Isolated",h=function(e){var n=e.onCloseHandler,r=(e.onSubmitHandler,(0,i.useRef)(null)),h=(0,i.useState)([]),p=(0,a.Z)(h,2),x=p[0],j=p[1],b=(0,i.useRef)(m),v=((0,i.useRef)("30"),(0,i.useRef)("5")),g=(0,i.useRef)(f),w=(0,i.useRef)("1000"),y=(0,i.useState)("BTCUSDT"),N=(0,a.Z)(y,2),Z=N[0],S=N[1],V=(0,i.useState)(5),k=(0,a.Z)(V,2),C=k[0],L=k[1],R=(0,i.useState)(Array(5)),F=(0,a.Z)(R,2),P=F[0],T=F[1],Y=(0,i.useState)(Array(5)),A=(0,a.Z)(Y,2),M=A[0],I=A[1],O=(0,i.useState)(null),_=(0,a.Z)(O,2),D=_[0],E=_[1],B=(0,i.useState)(null),G=(0,a.Z)(B,2),H=G[0],X=G[1],z=(0,i.useState)("---"),U=(0,a.Z)(z,2),W=U[0],Q=U[1],q=(0,i.useState)("---"),J=(0,a.Z)(q,2),K=J[0],$=J[1],ee=(0,i.useRef)(null),ne=(0,i.useRef)(null);function re(e){var n=Number(e.target.id.replace("price",""));T((function(r){var l=(0,t.Z)(r);return l[n]=Number(e.target.value),l}))}function te(e){var n=Number(e.target.id.replace("amount",""));I((function(r){var l=(0,t.Z)(r);return l[n]=Number(e.target.value),l}))}return(0,i.useEffect)((function(){(function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.getSymbolList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbols.sort();j(n)}))}),[]),(0,i.useEffect)((function(){function e(){(function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.getSymbolMarketInfo(Z);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbolMarketInfo;Q(n.markPrice),$(n.lastPrice)}))}if(e(),Z){var n=setInterval(e,o.W);return function(){return clearInterval(n)}}}),[Z]),(0,i.useEffect)((function(){var e,n=0,r=0;P.slice(0,C).forEach((function(e,t){var l=M[t];void 0!==e&&void 0!==l&&(n+=l,r+=e*l)})),e=(r/n).toFixed(2),X(e),E(n)}),[P,M,C]),(0,d.jsxs)(u.lx,{ref:r,onSubmit:function(e){e.preventDefault(),function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.map((function(e,n){return[e,M[n]]})),r={symbol:Z,mode:g.current.value.toLowerCase(),direction:b.current.value.toLowerCase(),leverage:Number(v.current.value),maxBalance:Number(w.current.value),levels:(0,t.Z)(n),takeProfit:{trigger:"mark",type:"market",percent:Number(ee.current.value)},stopLoss:{trigger:"last",type:"limit",percent:Number(ne.current.value)}},e.next=4,c.ZP.placeGridOrder(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log(e)}))},children:[(0,d.jsx)(u.p0,{children:(0,d.jsx)(u.fl,{children:"New Trade"})}),(0,d.jsx)(u.sD,{children:(0,d.jsxs)(u.rb,{className:"d-flex d-flex-row justify-content-around",children:[(0,d.jsxs)(u.b7,{xs:10,lg:5,children:[(0,d.jsxs)(u.YR,{className:"mb-2",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputSymbol",className:"",children:"Symbol"}),(0,d.jsx)(u.LX,{id:"inputSymbol",onChange:function(e){S(e.target.value),L(5),T(new Array(5)),I(new Array(5))},value:Z,children:x.map((function(e,n){return(0,d.jsx)("option",{children:e},n)}))})]}),(0,d.jsxs)(u.YR,{className:"mb-2",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputMode",children:"Mode"}),(0,d.jsxs)(u.LX,{ref:g,id:"inputMode",defaultValue:f,children:[(0,d.jsx)("option",{children:"Isolated"}),(0,d.jsx)("option",{children:"Cross"})]})]}),(0,d.jsxs)(u.YR,{className:"mb-2",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputSide",children:"Direction"}),(0,d.jsxs)(u.LX,{id:"inputSide",ref:b,defaultValue:m,children:[(0,d.jsx)("option",{children:"Long"}),(0,d.jsx)("option",{children:"Short"})]})]}),(0,d.jsxs)(u.YR,{className:"mb-2",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputLeverage",children:"Leverage"}),(0,d.jsx)(u.jO,{ref:v,type:"number","aria-label":"profit target",className:"col-4",defaultValue:"5",id:"inputLeverage"}),(0,d.jsx)(u.wV,{component:"label",children:"x"})]}),(0,d.jsxs)(u.YR,{className:"mb-2",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputInitialMargin",children:"Max Balance"}),(0,d.jsx)(u.jO,{ref:w,type:"number",placeholder:"100","aria-label":"profit target",className:"col-4",defaultValue:1e3,id:"inputInitialMargin"}),(0,d.jsx)(u.wV,{component:"label",children:"USDT"})]})]}),(0,d.jsxs)(u.b7,{xs:10,lg:6,children:[(0,d.jsxs)(u.rb,{children:[(0,d.jsx)(u.b7,{children:(0,d.jsxs)(u.C_,{color:"info",children:["Mark Price: ",Number(W).toFixed(2)]})}),(0,d.jsx)(u.b7,{children:(0,d.jsxs)(u.C_,{color:"warning",children:["Last Price: ",Number(K).toFixed(2)]})})]}),(0,d.jsxs)(u.YR,{className:"mt-1 mb-2 md-col-4",children:[(0,d.jsxs)(u.YR,{className:"mb-0",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputLevels",children:"Number Levels"}),(0,d.jsx)(u.jO,{type:"number",placeholder:C,"aria-label":"",value:C,id:"inputLevels",onChange:function(e){L(e.target.value)}})]}),!!C&&Array.from({length:C}).map((function(e,n){return(0,d.jsxs)(u.YR,{className:"mb-0",size:"sm",children:[(0,d.jsxs)(u.wV,{component:"label",htmlFor:"price"+n,children:["Price ",n+1]}),(0,d.jsx)(u.jO,{type:"number",placeholder:"","aria-label":"price",value:P[n],id:"price"+n,onChange:re}),(0,d.jsxs)(u.wV,{component:"label",htmlFor:"amout"+n,children:["Amt ",n+1]}),(0,d.jsx)(u.jO,{type:"number",placeholder:"","aria-label":"amount",defaultValue:"",id:"amount"+n,onChange:te})]},n)})),(0,d.jsxs)(u.rb,{children:[(0,d.jsx)(u.b7,{children:(0,d.jsxs)(u.C_,{color:"danger",children:["Average Price: ",H]})}),(0,d.jsx)(u.b7,{children:(0,d.jsxs)(u.C_,{color:"warning",children:["Total Amount: ",D]})})]})]}),(0,d.jsxs)(u.YR,{className:"my-2",children:[(0,d.jsxs)(u.YR,{className:"mb-1",children:[(0,d.jsx)(u.wV,{component:"label",htmlFor:"inputTP",children:"Take Profit (option)"}),(0,d.jsx)(u.jO,{ref:ee,type:"number",placeholder:"","aria-label":"Take Profit",defaultValue:"",id:"inputTP"}),(0,d.jsx)(u.wV,{component:"label",children:"%"})]}),(0,d.jsxs)(u.YR,{className:"mb-1",children:[(0,d.jsx)(u.wV,{className:"",component:"label",htmlFor:"inputSL",children:"Stop Loss (option)"}),(0,d.jsx)(u.jO,{ref:ne,type:"number",placeholder:"","aria-label":"stoploss percent",defaultValue:"",id:"inputSL"}),(0,d.jsx)(u.wV,{component:"label",children:"%"})]})]})]})]})}),(0,d.jsxs)(u.Ym,{children:[(0,d.jsx)(u.u5,{color:"secondary",onClick:function(){return n},children:"Close"}),(0,d.jsx)(u.u5,{color:"primary",type:"submit",children:"Submit"})]})]})},p=function(){return(0,d.jsx)(d.Fragment,{children:"List of current running grid tradings"})};n.default=function(){var e=(0,i.useState)(null),n=(0,a.Z)(e,2),r=n[0],t=n[1],c=(0,i.useState)(!1),o=(0,a.Z)(c,2),m=o[0],f=o[1];function x(){return(x=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){return t(e)}))}),[]),r?!1===r.success?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Auto Grid Trade"}),(0,d.jsx)("p",{children:r.message})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,d.jsx)("h1",{children:"Auto Grid Trade"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:function(e){f(!0)},className:"btn btn-warning",children:"New Trade"}),(0,d.jsx)(u.Tk,{size:"lg",alignment:"center",visible:m,onClose:function(){return f(!1)},children:(0,d.jsx)(h,{onCloseHandler:function(){return f(!1)}})})]})]}),(0,d.jsx)(p,{})]}):(0,d.jsx)(u.LQ,{color:"info"})}},78392:function(e,n,r){r.d(n,{W:function(){return t}});var t=2500}}]);
//# sourceMappingURL=350.c7a296aa.chunk.js.map