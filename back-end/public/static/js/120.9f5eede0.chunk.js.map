{"version":3,"file":"static/js/120.9f5eede0.chunk.js","mappings":"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","sources":["components/Data/Symbol.js","pages/Analysis/Binance/BinanceSignals.js"],"sourcesContent":["import { CButton, CBadge } from \"@coreui/react\";\n\nconst Symbol = (props) => {\n  const binanceUrl = `https://www.binance.com/en/futures/${props.symbol}`;\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <h5>\n      <CBadge\n        className=\"custom-link\"\n        color=\"warning\"\n        onClick={() => openInNewTab(binanceUrl)}\n      >\n        {props.symbol}\n      </CBadge>\n    </h5>\n  );\n};\n\nexport default Symbol;\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport _, { filter } from \"lodash\";\nimport dayjs from \"dayjs\";\nimport {\n  CTable,\n  CTableHead,\n  CTableHeaderCell,\n  CTableBody,\n  CTableRow,\n  CTableDataCell,\n  CSpinner,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CFormSelect,\n} from \"@coreui/react\";\nimport Symbol from \"../../../components/Data/Symbol\";\n\nconst productionUrl = window.location.origin.replace(\"https\", \"wss\");\nconst socketUrl =\n  (process.env.NODE_ENV === \"production\"\n    ? productionUrl\n    : \"ws://127.0.0.1:3000\") + \"/signals\";\n\nconst timeframeList = [\"all\", \"5m\", \"15m\"];\n\nconst BinanceSignals = () => {\n  const [curSymbol, $curSymbol] = useState(\"\");\n  const [curTimeframe, $curTimeframe] = useState(\"all\");\n  const [curType, $curType] = useState(\"\");\n  const [filterSymbols, $filterSymbols] = useState([]);\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    share: true,\n    retryOnError: true,\n    reconnectAttempts: 1000,\n    reconnectInterval: 3000,\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: () => true,\n    onOpen: (event) => console.log(\"opened ws\", event),\n    onClose: (closeEvent) => console.log(\"ws closed\", closeEvent),\n    onError: (errEvent) => console.log(\"error\", errEvent),\n    onReconnectStop: (numAttemp) => console.log(\"reconnect stopped\", numAttemp),\n  });\n  const [binanceSignals, $binanceSignals] = useState({});\n  useEffect(() => {\n    if (lastMessage !== null) {\n      const signals = JSON.parse(lastMessage.data);\n      const revertedSignals = _.reverse(signals);\n      $binanceSignals(revertedSignals);\n    }\n  }, [lastMessage]);\n\n  useEffect(() => {\n    if (!_.isEmpty(binanceSignals)) {\n      console.log(curSymbol, curTimeframe, curType);\n      const filterList = [];\n      _.forEach(binanceSignals, (signal) => {\n        if (\n          signal.symbol.includes(curSymbol) &&\n          (curTimeframe === \"all\" || signal.timeframe === curTimeframe) &&\n          signal.type.includes(curType)\n        ) {\n          filterList.push(signal);\n        }\n      });\n      // console.log(\"filterList\", filterList);\n      $filterSymbols(filterList);\n    }\n  }, [binanceSignals, curSymbol, curTimeframe, curType]);\n\n  return (\n    <div>\n      {_.isEmpty(binanceSignals) && (\n        <div>\n          <CSpinner color=\"info\" />\n          <div>There is no any signal. Server is detecting...</div>\n        </div>\n      )}\n      {!_.isEmpty(binanceSignals) && (\n        <>\n          <div className=\"d-flex d-flex-row my-2\" style={{ width: \"50vw\" }}>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Symbol\n              </CInputGroupText>\n              <CFormInput\n                type=\"text\"\n                aria-label=\"symbol\"\n                className=\"col-4\"\n                id=\"input-symbol\"\n                value={curSymbol}\n                onChange={(e) => {\n                  $curSymbol(e.target.value.toUpperCase());\n                }}\n              />\n            </CInputGroup>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Timeframe\n              </CInputGroupText>\n              <CFormSelect\n                id=\"inputTimeframe\"\n                onChange={(e) => {\n                  $curTimeframe(e.target.value);\n                }}\n                value={curTimeframe}\n              >\n                {timeframeList.map((symbol, index) => {\n                  return <option key={index}>{symbol}</option>;\n                })}\n              </CFormSelect>\n            </CInputGroup>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Type\n              </CInputGroupText>\n              <CFormInput\n                type=\"text\"\n                aria-label=\"type\"\n                className=\"col-4\"\n                id=\"input-type\"\n                value={curType}\n                onChange={(e) => {\n                  $curType(e.target.value.toUpperCase());\n                }}\n              />\n            </CInputGroup>\n          </div>\n          <CTable\n            striped\n            hover\n            responsive\n            color=\"light\"\n            className=\"smaller-text\"\n            // style={{ height: \"80vh\", display: \"flex\", flexDirection: \"column\" }}\n          >\n            <CTableHead color=\"dark\">\n              <CTableRow>\n                <CTableHeaderCell style={{ width: \"10%\" }}>\n                  Time\n                </CTableHeaderCell>\n                <CTableHeaderCell style={{ width: \"20%\" }}>\n                  Symbol\n                </CTableHeaderCell>\n                <CTableHeaderCell style={{ width: \"10%\" }}>\n                  Time Frame\n                </CTableHeaderCell>\n                <CTableHeaderCell style={{ width: \"15%\" }}>\n                  Candle Close\n                </CTableHeaderCell>\n                <CTableHeaderCell style={{ width: \"30%\" }}>\n                  Type\n                </CTableHeaderCell>\n                <CTableHeaderCell style={{ width: \"15%\" }}>\n                  RSI\n                </CTableHeaderCell>\n              </CTableRow>\n            </CTableHead>\n            <CTableBody style={{ overflowY: \"auto\" }}>\n              {filterSymbols.map((signal, index) => {\n                return (\n                  <CTableRow key={index}>\n                    <CTableDataCell style={{ width: \"10%\" }}>\n                      {dayjs(signal.time).format(\"DD/MM HH:mm:ss\")}\n                    </CTableDataCell>\n                    <CTableDataCell style={{ width: \"20%\" }}>\n                      <Symbol symbol={signal.symbol} />\n                    </CTableDataCell>\n                    <CTableDataCell style={{ width: \"10%\" }}>\n                      {signal.timeframe}\n                    </CTableDataCell>\n                    <CTableDataCell style={{ width: \"15%\" }}>\n                      {dayjs(signal.timestamp).format(\"DD/MM HH:mm:ss\")}\n                    </CTableDataCell>\n                    <CTableDataCell style={{ width: \"30%\" }}>\n                      {signal.type}\n                    </CTableDataCell>\n                    <CTableDataCell style={{ width: \"15%\" }}>\n                      {signal.rsi}\n                    </CTableDataCell>\n                  </CTableRow>\n                );\n              })}\n            </CTableBody>\n          </CTable>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default BinanceSignals;\n"],"names":["props","binanceUrl","symbol","className","color","onClick","url","newWindow","window","open","opener","openInNewTab","socketUrl","location","origin","replace","timeframeList","useState","curSymbol","$curSymbol","curTimeframe","$curTimeframe","curType","$curType","filterSymbols","$filterSymbols","useWebSocket","share","retryOnError","reconnectAttempts","reconnectInterval","shouldReconnect","onOpen","event","console","log","onClose","closeEvent","onError","errEvent","onReconnectStop","numAttemp","lastMessage","sendMessage","readyState","binanceSignals","$binanceSignals","useEffect","signals","JSON","parse","data","revertedSignals","_","filterList","signal","includes","timeframe","type","push","style","width","component","htmlFor","id","value","onChange","e","target","toUpperCase","map","index","striped","hover","responsive","overflowY","dayjs","time","format","timestamp","rsi"],"sourceRoot":""}