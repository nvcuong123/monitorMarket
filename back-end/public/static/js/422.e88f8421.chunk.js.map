{"version":3,"file":"static/js/422.e88f8421.chunk.js","mappings":"sIAwBA,IAtBe,SAACA,GACd,IAAMC,EAAU,6CAAyCD,EAAME,QAO/D,OACE,+BACE,SAAC,KAAM,CACLC,MAAO,CAAEC,QAAS,OAAQC,WAAY,UACtCC,UAAU,cACVC,MAAM,UACNC,QAAS,kBAXM,SAACC,GACpB,IAAMC,EAAYC,OAAOC,KAAKH,EAAK,SAAU,uBACzCC,IAAWA,EAAUG,OAAS,KACpC,CAQqBC,CAAab,EAAW,EAAC,SAEvCD,EAAME,UAIf,C,2DCKA,IAxBc,SAACa,EAAQC,GACrB,OACE,SAAC,KAAM,CAACT,MAAM,YAAW,UACvB,4BACE,SAAC,KAAY,CAACU,aAAW,YAYvB,gBAAKX,UAAU,kBAAiB,SAAES,OAEpC,SAAC,KAAU,UAAEC,QAIrB,C,0MCiBA,IAAME,EAAY,SAAClB,GACjB,IAAMmB,EAAcnB,EAAMmB,YACpBC,EAAapB,EAAMoB,WACnBlB,EAASkB,EAAW,GACpBC,EAAOD,EAAW,GAGxB,OACE,SAAC,KAAI,CAACE,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAE,UACzB,UAAC,KAAK,CAAClB,UAAU,YAAYC,MAAM,YAAYkB,UAAU,QAAO,WAC9D,SAAC,KAAW,WACV,iBAAKnB,UAAU,+DAA8D,WAC3E,SAACoB,EAAA,EAAM,CAACxB,OAAQA,KAChB,gBAAKI,UAAU,OAAOH,MAAO,CAAEwB,SAAU,WAAY,SAClDN,UAIP,SAAC,KAAS,WACR,SAAC,KAAM,CACLO,SAAO,EACPC,OAAK,EACLC,YAAU,EACVvB,MAAM,QACND,UAAU,oBACVH,MAAO,CAAE4B,MAAO,QAAS,UAEzB,SAAC,KAAU,CAAC5B,MAAO,CAAE6B,UAAW,QAAS,SACtCb,EAAYc,MAAM,EAAG,GAAGC,KAAI,SAACC,EAAMC,GAClC,OACE,UAAC,KAAS,YACR,SAAC,KAAgB,UAAED,KACnB,SAAC,KAAc,UAAEf,EAAWgB,EAAQ,OAG1C,cAOd,EAiGA,EA/Fe,SAAH,GAA2C,IAArCC,EAAU,EAAVA,WAAqBC,GAAF,EAAPC,QAAiB,EAARD,UAC/BE,EAAe,CACnB,OACA,SACA,OACA,OACA,QACA,SAEA,eAMIC,EAAY,GAsBlB,OAnBAJ,EAAWK,SAAQ,SAACC,GAElB,IAAMC,EAAY,GACZvB,EAAOwB,IAAMF,EAAMtB,MAAMyB,OAAO,kBACtCF,EAAUG,KAAK1B,GACfuB,EAAUG,KAAKJ,EAAMzC,QACrB0C,EAAUG,KAAKJ,EAAMK,MACrBJ,EAAUG,KAAKJ,EAAMM,MACrBL,EAAUG,KAAKJ,EAAMO,OACrBN,EAAUG,KAAK,GAAD,QAAKJ,EAAMO,MAAQP,EAAMQ,SAASC,QAAQ,KAExDR,EAAUG,KAAKJ,EAAMU,WAAa,MAAQ,MAM1CZ,EAAUM,KAAKH,EACjB,KAEE,+BACE,SAAC,KAAI,WACH,SAAC,KAAI,CAACpB,GAAI,GAAG,UACX,UAAC,KAAK,CAAClB,UAAU,OAAM,WACrB,UAAC,KAAW,WACTgC,IAAagB,EAAAA,GAAe,oCAEV,IAAG,IACpBjB,EAAWkB,OAAM,QAErB,SAAC,KAAS,UACPlB,EAAWkB,OAAS,IACnB,iCACE,gBAAKC,GAAG,cAAclD,UAAU,mBAAkB,SAC/CmC,EAAUP,KAAI,SAACS,EAAOP,GACrB,OACE,SAAClB,EAAS,CACRC,YAAaqB,EACbpB,WAAYuB,GAGlB,OAEF,UAAC,KAAM,CAACa,GAAG,eAAc,WACvB,SAAC,IAAU,WACT,wBACGhB,EAAaN,KAAI,SAACnB,EAAQqB,GACzB,OAAO,wBAAiBrB,GAARqB,EAClB,SAGJ,SAAC,KAAU,UACRK,EAAUP,KAAI,SAACS,EAAOP,GACrB,OACE,eAAIA,MAAOA,EAAM,SACdO,EAAMT,KAAI,SAACuB,EAAOC,GACjB,OACE,yBACE,iBAAMpD,UAAU,KAAI,SAAEmD,KAG5B,KAGN,sBAWtB,E,iCC3IME,EAAgB,WAGhBC,EAAiB,OAIjBC,EAAc,SACdC,EAAa,QAwYnB,EA/XuB,SAAH,GAAuD,IAAjDC,EAAc,EAAdA,eAAiCzB,GAAF,EAAf0B,gBAAyB,EAAR1B,UACzD,GAQI2B,EAAAA,EAAAA,MAPFC,EAAO,EAAPA,QACAC,EAAU,EAAVA,WACAC,EAAgB,EAAhBA,iBACAC,EAAe,EAAfA,gBACAC,EAAS,EAATA,UACAC,EAAc,EAAdA,eACAC,EAAY,EAAZA,aAGF,EASID,EAAeD,GARjBG,EAAO,EAAPA,QACAC,EAAY,EAAZA,aACAC,EAAW,EAAXA,YACA3B,EAAI,EAAJA,KACAE,EAAK,EAALA,MACA0B,EAAM,EAANA,OACAC,EAAa,EAAbA,cACAC,EAAW,EAAXA,YAGF,GAA0BC,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACbC,GAAUD,EAAAA,EAAAA,QAAO,MACvB,GAAsCJ,EAAAA,EAAAA,YAAU,eAAzCM,EAAY,KAAEC,EAAa,KAClC,GAAkDP,EAAAA,EAAAA,UAAS,OAAM,eAA1DQ,EAAkB,KAAEC,EAAmB,KAC9C,GAAkDT,EAAAA,EAAAA,UAAS,OAAM,eAA1DU,EAAkB,KAAEC,EAAmB,KAC9C,GAA4DX,EAAAA,EAAAA,UAAS,GAAE,eAAhEY,GAAuB,KAAEC,GAAwB,KACxD,IAAkCb,EAAAA,EAAAA,YAAU,iBAAzBc,IAAF,MAAa,OACxBC,GACJxD,IAAagB,EAAAA,GACTc,EACA9B,IAAayD,EAAAA,GACb1B,EACAF,EA4HN,OA1HA6B,EAAAA,EAAAA,YAAU,YAER,yCAAC,WAAgC1D,GAAQ,sFAE1B2D,EAAAA,GAAAA,iBAA+B3D,GAAU,KAAD,8EAFvB,OAG/B,SAHgC,GAAD,iCAAhC,GAGGA,GAAU4D,MAAK,SAACC,GACjB,GAAI7D,IAAa8D,EAAAA,GAAkB,CACjC,IAAMC,EAAUF,EAAIG,SAAS,GAC7BhB,EAAciB,OAAOF,EAAQG,kBAAkBpD,QAAQ,GACzD,MAAWd,IAAagB,EAAAA,IAEtBgC,EAAciB,OAAOJ,EAAIG,SAASG,WAAWrD,QAAQ,GAEzD,GACF,GAAG,CAACd,KAEJ0D,EAAAA,EAAAA,YAAU,WACR,SAASU,EAAsBpE,IAE7B,yCAAC,WAAqCA,GAAQ,sFAC/B2D,EAAAA,GAAAA,oBAAkC3B,EAAWhC,GAAU,KAAD,8EADhC,OAEpC,SAFqC,GAAD,iCAArC,GAEGA,GAAU4D,MAAK,SAACC,GACjB,IAAMQ,EAAaR,EAAIS,iBACvBpB,EAAoBmB,EAAWE,WAC/BnB,EAAoBiB,EAAWG,WAC/BlB,GACEe,EAAWI,eAAiB,IAAMJ,EAAWI,eAAiB,GAEhElB,GAAYc,EAEd,GACF,CAGA,GADAD,EAAsBpE,GAChBgC,EAAW,CACf,IAAMd,EAAKwD,aACT,kBAAMN,EAAsBpE,EAAS,GACrC2E,EAAAA,GAEF,OAAO,kBAAMC,cAAc1D,EAAI,CACjC,CACF,GAAG,CAACc,EAAWhC,IAiFX4B,GAAyC,OAA9BK,EAAeD,IACrB,SAAC,KAAQ,CAAC/D,MAAM,UAGrB,iCACE,SAAC,KAAQ,CAAC4G,IAAKjC,EAAYnC,KAAMiC,EAAOoC,UAAU,aAClD,UAAC,KAAK,CAACD,IAAK/B,EAASiC,SArF3B,SAA+BC,GAC7BA,EAAMC,iBAEFvE,IAASc,GAAeZ,EAM5B,yCAAC,6FAYG,GAXEP,EAAQ,CACVzC,OAAQoE,EACRkD,KAAM/C,EACNxB,KAAMyB,EACN+C,SAAU9C,EACV3B,KAAMA,EACN4B,OAAQA,EACR1B,MAAOA,EACPwE,GAAI7C,EACJ8C,GAAI7C,EACJ8C,gBAvGmB,GAyGjB5E,IAASc,IAAenB,EAAM+E,KAAM/E,EAAMgF,GAAG,iBA0BX,OAzB9BE,EAAS,IACR9E,KAAK,CAACG,EAAO0B,IACdkD,EAAY,CAChB5H,OAAQoE,EACRkD,KAAM/C,EACNsD,UAAWrD,EACX+C,SAAU9C,EACVqD,WAAY,EACZC,SAAU,MACVJ,OAAO,GAAD,OAAMA,GACZK,WAAY,CACVC,QAAS,OACTnF,KAAM,SACNoF,OAxHS,IAyHT3E,MAAOoB,EACPwD,YAzHe,GA2HjBC,SAAU,CACRH,QAAS,OACTnF,KAAM,QACNuF,OA/HS,IAgIT9E,MAAOqB,EACPuD,YAhIe,IAmInBG,QAAQC,IAAI,YAAaX,GAAW,SACvB7B,EAAAA,GAAAA,eAA6B6B,EAAWxF,GAAU,KAAD,EAEJ,KAAD,oCAFK,yBAEjD2D,EAAAA,GAAAA,cAA4BtD,EAAOL,GAAS,4CA1ClC,OA4C1B,WA5C0B,gCAA3B,KA4CK4D,MAAK,SAACC,GAOTpC,EAAeoC,EACjB,IAzDElB,GAASyD,EAAAA,EAAAA,GAAM,cAAe,0CA0DlC,EAuB2D,WACnD,SAAC,KAAY,WACX,UAAC,KAAW,YACV,wBAAKpG,IAAc,wBAGvB,SAAC,KAAU,WACT,UAAC,KAAI,CAAChC,UAAU,2CAA0C,WACxD,UAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,WAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdsI,UAAU,QACVC,QAAQ,cACRvI,UAAU,GAAE,qBAId,SAAC,KAAW,CACVkD,GAAG,cACHsF,SAxClB,SAA6BC,GAE3BvE,EAAawE,EAAAA,GAAYD,EAAEE,OAAOxF,MACpC,EAsCkBA,MAAOa,EAAU,SAEhBwB,GAAsB5D,KAAI,SAAChC,EAAQkC,GAClC,OAAO,4BAAqBlC,GAARkC,EACtB,UAGJ,UAAC,KAAW,CAAC9B,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVrF,GAAG,YACHC,MAAOgB,EACPqE,SAAU,SAACC,GACTP,QAAQC,IAAIM,EAAEE,OAAOxF,OACrBe,EAAa0E,EAAAA,GAAMH,EAAEE,OAAOxF,MAC9B,EAAE,WAEF,4BAASE,KACT,4BA7NC,mBAiOL,UAAC,KAAW,CAACrD,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,gBAAe,uBAG1D,SAAC,KAAU,CACT7F,KAAK,SACL,aAAW,WACX1C,UAAU,QACVkD,GAAG,gBACH2F,IAAK,EACLC,IAAK,GACL3F,MAAOkB,EACPmE,SAAU,SAACC,GAAC,OAAKvE,EAAa6E,EAAAA,GAAUN,EAAEE,OAAOxF,MAAM,KAEzD,SAAC,KAAe,CAACmF,UAAU,QAAO,mBAEpC,UAAC,KAAQ,CAACrI,MAAM,UAAS,WACvB,gDACA,gBAAKD,UAAU,eAAc,mBAAK+E,EAAY,kBAGlD,UAAC,KAAI,CAAC/D,GAAI,GAAIqH,GAAI,EAAE,WAClB,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAM,CAACpI,MAAM,OAAM,wBACN,IACXgG,OAAOhB,GAAoBnC,QAC1BuC,UAIN,SAAC,KAAI,WACH,UAAC,KAAM,CAACpF,MAAM,UAAS,wBACT,IACXgG,OAAOd,GAAoBrC,QAC1BuC,aAKR,UAAC,KAAI,CAACrF,UAAU,OAAM,WACpB,SAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,wBAGtD,UAAC,KAAW,CACVrF,GAAG,YACHC,MAAOiB,EACPoE,SAAU,SAACC,GACTvE,EAAa8E,EAAAA,GAAWP,EAAEE,OAAOxF,MACnC,EAAE,UAEDnB,IAAagB,EAAAA,KACZ,4BAASM,KAEX,4BAtRD,UAuRC,4BAtRA,mBA0RN,SAAC,KAAI,CAACtC,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVrF,GAAG,YACHC,MAAOT,EACP8F,SA3HtB,SAA2BC,GACzBvE,EAAa+E,EAAAA,GAAMR,EAAEE,OAAOxF,MAC9B,EAyHkD,UAE3BnB,IAAa8D,EAAAA,KACZ,4BAAStC,KAEX,4BAASD,gBAKjB,SAAC,KAAW,CAACvD,UAAU,qBAAoB,UACzC,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAS,QAAQ,oBAGpD,SAAC,KAAU,CACT7F,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,QACXhG,MAAOP,EACPM,GAAI,QACJsF,SAvJpB,SAAiCC,GAC/BvE,EAAakF,EAAAA,GAAOX,EAAEE,OAAOxF,MAC/B,EAsJoBkG,SAAU3G,IAASa,KAGrB,SAAC,KAAe,CAAC+E,UAAU,QAAQC,QAAS,QAAQ,qBAGpD,SAAC,KAAU,CACT7F,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,SACXhG,MAAOmB,EACPpB,GAAI,SACJsF,SAlKpB,SAAkCC,GAChCvE,EAAaoF,EAAAA,GAAQb,EAAEE,OAAOxF,MAChC,UAoKc,UAAC,KAAI,CAACnD,UAAU,OAAM,WACpB,SAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,UAAS,iBAGpD,SAAC,KAAU,CACT7F,KAAK,SACLyG,YAAY,GACZ,aAAW,cACXhG,MAAOoB,EACPiE,SAAU,SAACC,GAAC,OACVvE,EAAaqF,EAAAA,GAAad,EAAEE,OAAOxF,MAAM,EAE3CD,GAAG,aAGL,SAAC,KAAe,CAACoF,UAAU,QAAO,2BAKtC,SAAC,KAAI,CAACtH,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdA,UAAU,GACVsI,UAAU,QACVC,QAAQ,UAAS,iBAInB,SAAC,KAAU,CACT7F,KAAK,SACLyG,YAAY,GACZ,aAAW,mBACXhG,MAAOqB,EACPgE,SAAU,SAACC,GAAC,OACVvE,EAAasF,EAAAA,GAAWf,EAAEE,OAAOxF,MAAM,EAEzCD,GAAG,aAGL,SAAC,KAAe,CAACoF,UAAU,QAAO,sCAS9C,UAAC,KAAY,YACX,SAAC,KAAO,CAACrI,MAAM,YAAYC,QAAS,kBAAMuD,GAAgB,EAAC,oBAG3D,SAAC,KAAO,CAACxD,MAAM,UAAUyC,KAAK,SAAQ,4BAQlD,EC3ZMW,EAAgB,WAChBoG,EAAe,UACfC,EAAerG,EAEfsG,EAAkB,QAClBC,EAAoBD,EACpBpG,EAAc,SACdC,EAAa,QACbqG,EAAetG,EA+XrB,EAvXiB,SAAH,GAAuD,IAAjDE,EAAc,EAAdA,eAAiCzB,GAAF,EAAf0B,gBAAyB,EAAR1B,UACnD,GAA4ByC,EAAAA,EAAAA,WAAS,GAAK,eAAnCb,EAAO,KAAEkG,EAAQ,KACxB,GAA0BrF,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACbC,GAAUD,EAAAA,EAAAA,QAAO,MACvB,GAAkCJ,EAAAA,EAAAA,UAAS,IAAG,eAAvCZ,EAAU,KAAEkG,EAAW,KACxB3F,GAAeS,EAAAA,EAAAA,QAAO+E,GAE5B,IADwB/E,EAAAA,EAAAA,QAzBI,OA0BUJ,EAAAA,EAAAA,aAAU,eAAzCM,EAAY,KAAEC,EAAa,KAC5BX,GAAcQ,EAAAA,EAAAA,QA1BG,KA2BjBV,GAAUU,EAAAA,EAAAA,QAAO6E,GACvB,GAAgCjF,EAAAA,EAAAA,UA9BX,WA8BmC,eAAjDT,EAAS,KAAEgG,EAAU,KAC5B,GAAsBvF,EAAAA,EAAAA,UAASoF,GAAa,eAArCnH,EAAI,KAAEuH,EAAK,KAClB,GAAwBxF,EAAAA,EAAAA,YAAU,eAA3B7B,EAAK,KAAEsH,EAAM,KACpB,GAA0BzF,EAAAA,EAAAA,YAAU,gBAA7BH,GAAM,MAAE6F,GAAO,MACtB,IAAkD1F,EAAAA,EAAAA,UAAS,OAAM,iBAA1DQ,GAAkB,MAAEC,GAAmB,MAC9C,IAAkDT,EAAAA,EAAAA,UAAS,OAAM,iBAA1DU,GAAkB,MAAEC,GAAmB,MAC9C,IAA4DX,EAAAA,EAAAA,UAAS,GAAE,iBAAhEY,GAAuB,MAAEC,GAAwB,MAClDf,IAAgBM,EAAAA,EAAAA,QAAO,MACvBL,IAAcK,EAAAA,EAAAA,QAAO,MAkJ3B,OAjIAa,EAAAA,EAAAA,YAAU,YACR,yCAAC,mGACcC,EAAAA,GAAAA,gBAA8B,KAAD,8EADb,OAE9B,WAF8B,iCAA/B,KAEKC,MAAK,SAACC,GACT,IAAMuE,EAAcvE,EAAIwE,QAAQC,OAChCP,EAAYK,EACd,IAEA,yCAAC,mGACczE,EAAAA,GAAAA,mBAAiC,KAAD,8EADf,OAE/B,WAF+B,gCAAhC,KAEKC,MAAK,SAACC,GACT,IAAME,EAAUF,EAAIG,SAAS,GAC7BhB,EAAciB,OAAOF,EAAQG,kBAAkBpD,QAAQ,GACzD,GACF,GAAG,KAEH4C,EAAAA,EAAAA,YAAU,WACR,SAASU,KACP,yCAAC,mGACcT,EAAAA,GAAAA,oBAAkC3B,GAAW,KAAD,8EADtB,OAEpC,WAFoC,iCAArC,KAEK4B,MAAK,SAACC,GACT,IAAMQ,EAAaR,EAAIS,iBACvBpB,GAAoBmB,EAAWE,WAC/BnB,GAAoBiB,EAAWG,WAC/BlB,GACEe,EAAWI,eAAiB,IAAMJ,EAAWI,eAAiB,EAElE,GACF,CAvCF,IAAyB7G,EA4CvB,GAJAwG,IAxCuBxG,EAyCPoE,EAxChB,yCAAC,mGACc2B,EAAAA,GAAAA,cAA4B/F,GAAQ,KAAD,8EADrB,OAE5B,WAF4B,gCAA7B,KAEKgG,MAAK,SAACC,GACT,IAAM0E,EAAa1E,EAAIQ,WACvBlC,EAAQqG,QAAQrH,OACU,IAAxBoH,EAAWE,SAAoBpH,EAAgBoG,EACjDpF,EAAYmG,QAAQrH,MAAQoH,EAAWpD,QACzC,IAkCA2C,GAAS,GAEH9F,EAAW,CACf,IAAMd,EAAKwD,YAAYN,EAAuBO,EAAAA,GAC9C,OAAO,kBAAMC,cAAc1D,EAAI,CACjC,CACF,GAAG,CAACc,IA4FAJ,GACK,SAAC,KAAQ,CAAC3D,MAAM,UAGrB,iCACE,SAAC,KAAQ,CAAC4G,IAAKjC,EAAYnC,KAAMiC,EAAOoC,UAAU,aAClD,UAAC,KAAK,CAACD,IAAK/B,EAASiC,SAhG3B,SAA+BC,GAC7BA,EAAMC,iBAGFvE,IAASc,GAAeZ,EAqB5B,yCAAC,6FAYG,GAXEP,EAAQ,CACVzC,OAAQoE,EACRkD,KAAM/C,EAAQqG,QAAQrH,MACtBR,KAAMyB,EAAaoG,QAAQrH,MAC3BgE,SAAU9C,EAAYmG,QAAQrH,MAC9BT,KAAMA,EACN4B,OAAQA,GACR1B,MAAOA,EACPwE,GAAI7C,GAAciG,QAAQrH,MAC1BkE,GAAI7C,GAAYgG,QAAQrH,MACxBmE,gBAjHqB,GAmHnB5E,IAASc,IAAenB,EAAM+E,KAAM/E,EAAMgF,GAAG,iBA0BX,OAzB9BE,EAAS,IACR9E,KAAK,CAACG,EAAO0B,KACdkD,EAAY,CAChB5H,OAAQoE,EACRkD,KAAM/C,EAAQqG,QAAQrH,MACtBsE,UAAWrD,EAAaoG,QAAQrH,MAChCgE,SAAU9C,EAAYmG,QAAQrH,MAC9BuE,WAAY,EACZC,SAAU,MACVJ,OAAO,GAAD,OAAMA,GACZK,WAAY,CACVC,QAAS,OACTnF,KAAM,SACNoF,OAnIS,IAoIT3E,MAAOoB,GAAciG,QAAQrH,MAC7B4E,YAnIiB,GAqInBC,SAAU,CACRH,QAAS,OACTnF,KAAM,QACNuF,OA1IS,IA2IT9E,MAAOqB,GAAYgG,QAAQrH,MAC3B4E,YA1IiB,IA6IrBG,QAAQC,IAAI,YAAaX,GAAW,SACvB7B,EAAAA,GAAAA,eAA6B6B,EAAWxF,GAAU,KAAD,EAEJ,KAAD,oCAFK,yBAEjD2D,EAAAA,GAAAA,cAA4BtD,EAAOL,GAAS,4CA1ClC,OA4C1B,WA5C0B,gCAA3B,KA4CK4D,MAAK,SAACC,GACTlB,GAASyD,EAAAA,EAAAA,GAAM,cAAesC,KAAKC,UAAU9E,KAC7CpC,GACF,IAnEEkB,GAASyD,EAAAA,EAAAA,GAAM,cAAe,0CAoElC,EAuB2D,WACnD,SAAC,KAAY,WACX,SAAC,KAAW,2BAEd,SAAC,KAAU,WACT,UAAC,KAAI,CAACpI,UAAU,2CAA0C,WACxD,UAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,WAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdsI,UAAU,QACVC,QAAQ,cACRvI,UAAU,GAAE,qBAId,SAAC,KAAW,CACVkD,GAAG,cACHsF,SAtClB,SAA6BC,GAC3BuB,EAAWvB,EAAEE,OAAOxF,OAjIpB+G,EAAO,IACPC,GAAQ,GAkIV,EAoCkBhH,MAAOa,EAAU,SAEhBH,EAAWjC,KAAI,SAAChC,EAAQkC,GACvB,OAAO,4BAAqBlC,GAARkC,EACtB,UAGJ,UAAC,KAAW,CAAC9B,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACV1B,IAAK1C,EACLjB,GAAG,YACH0H,aAAclB,EAAa,WAE3B,4BAASrG,KACT,4BAASoG,WAIb,UAAC,KAAW,CAACzJ,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,gBAAe,uBAG1D,SAAC,KAAU,CACT1B,IAAKxC,EACL3B,KAAK,SACL,aAAW,gBACX1C,UAAU,QACV4K,aA5OK,IA6OL1H,GAAG,mBAEL,SAAC,KAAe,CAACoF,UAAU,QAAO,mBAEpC,UAAC,KAAQ,CAACrI,MAAM,UAAS,WACvB,gDACA,gBAAKD,UAAU,eAAc,mBAAK+E,EAAY,kBAGlD,UAAC,KAAI,CAAC/D,GAAI,GAAIqH,GAAI,EAAE,WAClB,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAM,CAACpI,MAAM,OAAM,wBACN,IACXgG,OAAOhB,IAAoBnC,QAC1BuC,UAIN,SAAC,KAAI,WACH,UAAC,KAAM,CAACpF,MAAM,UAAS,wBACT,IACXgG,OAAOd,IAAoBrC,QAC1BuC,aAKR,UAAC,KAAW,CAACrF,UAAU,qBAAoB,WAEzC,SAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAGrI,UAAU,OAAM,UACnC,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,wBAGtD,UAAC,KAAW,CACVrF,GAAG,YACH2D,IAAKzC,EACLwG,aAAchB,EAAkB,WAEhC,4BAjRD,UAkRC,4BAASD,aAIf,SAAC,KAAI,CAAC3I,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACVrF,GAAG,YACHC,MAAOT,EACP8F,SAhHtB,SAA2BC,GACzBwB,EAAMxB,EAAEE,OAAOxF,MACjB,EA8GkD,WAE5B,4BAASK,KACT,4BAASD,aAMf,UAAC,KAAW,CAACvD,UAAU,OAAO6K,KAAK,KAAI,WACrC,SAAC,KAAe,CAACvC,UAAU,QAAQC,QAAS,QAAQ,oBAGpD,SAAC,KAAU,CACT7F,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,QACXyB,aAAa,GAEb1H,GAAI,QACJsF,SA3IpB,SAAiCC,GAC/ByB,EAAOjE,OAAOwC,EAAEE,OAAOxF,OACzB,EA0IoBkG,SAAU3G,IAASa,KAGrB,SAAC,KAAe,CAAC+E,UAAU,QAAQC,QAAS,QAAQ,qBAGpD,SAAC,KAAU,CACT7F,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,SACXyB,aAAa,GACb1H,GAAI,SACJsF,SAtJpB,SAAkCC,GAChC0B,GAAQlE,OAAOwC,EAAEE,OAAOxF,OAC1B,WAwJc,UAAC,KAAI,CAACnD,UAAU,OAAM,WACpB,SAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,UAAS,iBAGpD,SAAC,KAAU,CACT1B,IAAKtC,GACL7B,KAAK,SACLyG,YAAY,GACZ,aAAW,cAEXyB,aAAa,GACb1H,GAAG,aAGL,SAAC,KAAe,CAACoF,UAAU,QAAO,2BAKtC,SAAC,KAAI,CAACtH,GAAI,GAAIqH,GAAI,EAAE,UAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdA,UAAU,GACVsI,UAAU,QACVC,QAAQ,UAAS,iBAInB,SAAC,KAAU,CACT1B,IAAKrC,GACL9B,KAAK,SACLyG,YAAY,GACZ,aAAW,mBAEXyB,aAAa,GACb1H,GAAG,aAGL,SAAC,KAAe,CAACoF,UAAU,QAAO,sCAS9C,UAAC,KAAY,YACX,SAAC,KAAO,CAACrI,MAAM,YAAYC,QAAS,kBAAMuD,GAAgB,EAAC,oBAG3D,SAAC,KAAO,CAACxD,MAAM,UAAUyC,KAAK,SAAQ,4BAQlD,E,WCtYMoI,EAAgB,MAGhBC,EAAe,IAUfC,EAAoBF,EACpBzH,EAAgB,WAChBoG,EAAe,UACfC,EAAerG,EAEfsG,EAAkB,QAClBC,EAAoBD,EAklB1B,EA3kBsB,SAAH,GAAuD,IAAjDlG,EAAc,EAAdA,eAAiCzB,GAAF,EAAf0B,gBAAyB,EAAR1B,UACxD,GAA4ByC,EAAAA,EAAAA,WAAS,GAAK,eAAnCb,EAAO,KAAEkG,EAAQ,KACxB,GAA0BrF,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACbC,GAAUD,EAAAA,EAAAA,QAAO,MACvB,GAAkCJ,EAAAA,EAAAA,UAAS,IAAG,eAAvCZ,EAAU,KAAEkG,EAAW,KACxB3F,GAAeS,EAAAA,EAAAA,QAAO+E,GAEtBvF,IADkBQ,EAAAA,EAAAA,QAtBI,OAuBRA,EAAAA,EAAAA,QAtBG,MAuBjBV,GAAUU,EAAAA,EAAAA,QAAO6E,GACvB,GAAsCjF,EAAAA,EAAAA,YAAU,eAAzCM,EAAY,KAAEC,EAAa,KAClC,GAAgCP,EAAAA,EAAAA,UA3BX,WA2BmC,eAAjDT,EAAS,KAAEgG,EAAU,KAC5B,GAAwCvF,EAAAA,EAAAA,YAAU,eAA3CwG,EAAa,KAAEC,EAAc,KACpC,GAAkCzG,EAAAA,EAAAA,UA/BR,GA+BqC,eAAxDiD,EAAU,KAAEyD,EAAW,KAC9B,IAAsC1G,EAAAA,EAAAA,UA/Bf,GA+ByC,iBAAzD2G,GAAY,MAAEC,GAAa,MAClC,IAA8B5G,EAAAA,EAAAA,UAASuG,GAAkB,iBAAlDrD,GAAQ,MAAE2D,GAAS,MAC1B,IAA0B7G,EAAAA,EAAAA,UAAS8G,MAjCZ,IAiCoC,iBAApDC,GAAM,MAAEC,GAAO,MACtB,IAAwBhH,EAAAA,EAAAA,UAAS8G,MAlCV,IAkCkC,iBAAlDG,GAAK,MAAEC,GAAM,MACpB,IAA4BlH,EAAAA,EAAAA,UAAS8G,MAnCd,IAmCsC,iBAAtDK,GAAO,MAAEC,GAAQ,MACxB,IAAgCpH,EAAAA,EAAAA,UAAS,MAAK,iBAAvCqH,GAAS,MAAEC,GAAU,MAC5B,IAAsCtH,EAAAA,EAAAA,UAAS,MAAK,iBAA7CuH,GAAY,MAAEC,GAAa,MAClC,IAAkDxH,EAAAA,EAAAA,UAAS,OAAM,iBAA1DQ,GAAkB,MAAEC,GAAmB,MAC9C,IAAkDT,EAAAA,EAAAA,UAAS,OAAM,iBAA1DU,GAAkB,MAAEC,GAAmB,MAC9C,IAA4DX,EAAAA,EAAAA,UAAS,GAAE,iBAAhEY,GAAuB,MAAEC,GAAwB,MACxD,IAAoDb,EAAAA,EAAAA,UAAS,MAAK,iBAA3DyH,GAAmB,MAAEC,GAAoB,MAChD,IAAsD1H,EAAAA,EAAAA,UAAS,MAAK,iBAA7D2H,GAAoB,MAAEC,GAAqB,MAClD,IAA0C5H,EAAAA,EAAAA,UAASsG,GAAa,iBAAzDuB,GAAc,MAAEC,GAAe,MAChChI,IAAgBM,EAAAA,EAAAA,QAAO,MAC7B,IAAsCJ,EAAAA,EAAAA,UAASsG,GAAa,iBAArDyB,GAAY,MAAEC,GAAa,MAC5BjI,IAAcK,EAAAA,EAAAA,QAAO,MAC3B,IAA4BJ,EAAAA,EAAAA,YAAU,iBAA/BiI,GAAO,MAAEC,GAAQ,MA6DxB,SAASC,GAAYC,EAAKC,GAExB,GAAI7G,OAAO8G,UAAUF,GAAM,OAAOA,EAElC,IAAMG,EAAYC,WAAWJ,GAAK/J,QAAQ,IACpCoK,EAAkBC,KAAKrE,IAAIgE,EAASM,QAAQ,KAAO,EAAG,GACtDC,EAAeL,EAAUI,QAAQ,KAKvC,OAJoBH,WAClBD,EAAUrL,MAAM,EAAG0L,EAAeH,EAAkB,GAIxD,CAqBA,SAASI,GAAgB1K,EAAO0B,GAC9B,GAAI1B,EAAQ,GAAK0B,EAAS,GAAK2G,EAAc6B,SAAU,CACrD,IAAIS,EAAMX,GAAYtI,EAAQ2G,EAAc6B,UACtCU,GAAWD,EAAM3K,GAAOE,QAAQuC,IACtC,MAAM,IAAN,OAAWkI,EAAG,YAAIC,EAAO,IAC3B,CACF,CA+HA,SAASC,GAAwBhF,GAC/B,IAAM3G,EAAQmE,OAAOwC,EAAEE,OAAOzF,GAAGwK,QAAQ,QAAS,KAClDjC,IAAQ,SAACkC,GACP,IAAMC,GAAU,OAAOD,GAEvB,OADAC,EAAW9L,GAASmE,OAAOwC,EAAEE,OAAOxF,OAC7ByK,CACT,GACF,CACA,SAASC,GAAyBpF,GAChC,IAAM3G,EAAQmE,OAAOwC,EAAEE,OAAOzF,GAAGwK,QAAQ,SAAU,KACnD/B,IAAO,SAACmC,GACN,IAAMC,GAAS,OAAOD,GAEtB,OADAC,EAAUjM,GAASmE,OAAOwC,EAAEE,OAAOxF,OAC5B4K,CACT,GACF,CAEA,OA3OArI,EAAAA,EAAAA,YAAU,YACR,yCAAC,2GACmBC,EAAAA,GAAAA,gBAA8B,KAAD,EAAzCE,EAAG,OACHuE,EAAcvE,EAAIwE,QAAQC,OAChCP,EAAYK,GAAa,2CAHI,OAI9B,WAJ8B,gCAA/B,KAMA,yCAAC,2GACmBzE,EAAAA,GAAAA,mBAAiC,KAAD,EAA5CE,EAAG,OACHE,EAAUF,EAAIG,SAAS,GAC7BhB,EAAciB,OAAOF,EAAQG,kBAAkBpD,QAAQ,IAAI,2CAH7B,OAI/B,WAJ+B,gCAAhC,IAKF,GAAG,KAEH4C,EAAAA,EAAAA,YAAU,WAYR,SAASU,KACP,uBAAC,2GACmBT,EAAAA,GAAAA,oBAAkC3B,GAAW,KAAD,EAAxD6B,EAAG,OAEHQ,EAAaR,EAAIS,iBACvBpB,GAAoBmB,EAAWE,WAC/BnB,GAAoBiB,EAAWG,WAE/BlB,GACEe,EAAWI,eAAiB,IAAMJ,EAAWI,eAAiB,GAC9D,0CATJ,EAWF,CAvBA,IAAyB7G,EA8BzB,GALAwG,IAzByBxG,EA0BToE,EAzBd,yCAAC,2GACmB2B,EAAAA,GAAAA,cAA4B/F,GAAQ,KAAD,EAA/CiG,EAAG,OACH0E,EAAa1E,EAAIQ,WAEvBlC,EAAQqG,QAAQrH,OACU,IAAxBoH,EAAWE,SAAoBpH,EAAgBoG,EACjDpF,EAAYmG,QAAQrH,MAAQoH,EAAWpD,SACvC+D,EAAeX,GAAY,2CAPA,OAQ5B,WAR4B,gCAA7B,KA2BFT,GAAS,GAEH9F,EAAW,CACf,IAAMd,EAAKwD,YAAYN,EAAuBO,EAAAA,GAE9C,OADAgG,GAASzJ,GACF,kBAAM0D,cAAc1D,EAAI,CACjC,CACF,GAAG,CAACc,KAeJ0B,EAAAA,EAAAA,YAAU,WACR,GAAKuF,EAAL,CAGA,IAAI3G,EAAS2G,EAAc+C,OAEvB7I,GAAqBb,EAAS2G,EAAcgD,cAC9C3J,EAAS2G,EAAcgD,YAAc9I,KAGvCb,EAASsI,GAAYtI,EAAQ2G,EAAc6B,WAC9B3H,GAAqB8F,EAAcgD,cAC9C3J,GAAU2I,WAAWhC,EAAc6B,WAIrCX,GADiB7H,EAASa,IAE1BkH,GAAsB/H,EAhBI,CAiB5B,GAAG,CAACa,GAAoB8F,KAWxBvF,EAAAA,EAAAA,YAAU,WACR,IAAIwI,EACAC,EAAc,EACdrC,EAAY,EACZsC,EAAmB,EACjBC,EAAO7C,GAAO7J,MAAM,EAAGyJ,IACzBQ,EAAU,GACdyC,EAAKjM,SAAQ,SAACQ,EAAOd,GACnB,IAAM+I,EAAOa,GAAM5J,GACnB,GAAIc,EAAQ,GAAKiI,EAAO,EAAG,CAEzB,IAAIyD,EAAazD,EACjB,GAAIlD,KAAamD,EAEfwD,EAAa1B,GADA/B,EAAOjI,EACaqI,EAAc6B,UAEjDlB,EAAQ9J,GAASwM,EAEjBxC,GAAawC,EAAa1L,EAC1BuL,GAAeG,EACfF,GAAoBE,EAAa1L,CACnC,CACF,IAEAkJ,EAAYA,EAAUhJ,QAAQuC,IAC9B6I,GAAYE,EAAmBD,GAAarL,QAC1CuC,IAEFwG,IAAS,SAAC0C,GAER,MADiB,UAAO3C,EAE1B,IACAK,GAAciC,GACdnC,GAAWD,EACb,GAAG,CAACN,GAAQE,GAAON,KA2GfxH,GACK,SAAC,KAAQ,CAAC3D,MAAM,UAGrB,iCACE,SAAC,KAAQ,CAAC4G,IAAKjC,EAAYnC,KAAMiC,EAAOoC,UAAU,aAClD,UAAC,KAAK,CAACD,IAAK/B,EAASiC,SA/G3B,SAA+BC,GAC7BA,EAAMC,iBAENL,cAAc8F,IASd,yCAAC,2FAiCC,OAhCMnF,EAAS,GACIiE,GAAO7J,MAAM,EAAGyJ,IACxBhJ,SAAQ,SAACQ,EAAOd,GACzB,IAAM+I,EAAOa,GAAM5J,GACbwC,EAASsH,GAAQ9J,GACnBc,EAAQ,GAAKiI,EAAO,GACtBtD,EAAO9E,KAAK,CAACG,EAAOiI,EAAMvG,GAE9B,IACMkD,EAAY,CAChB5H,OAAQoE,EACRkD,KAAM/C,EAAQqG,QAAQrH,MACtBsE,UAAWrD,EAAaoG,QAAQrH,MAChCgE,SAAU9C,EAAYmG,QAAQrH,MAC9BuE,WAAYA,EACZC,SAAUA,GACVJ,OAAO,GAAD,OAAMA,GACZK,WAAY,CACVC,QAAS,OACTnF,KAAM,SACNoF,OAAQwE,GACRnJ,MAAOoB,GAAciG,QAAQrH,MAC7B4E,YAjOmB,GAmOrBC,SAAU,CACRH,QAAS,OACTnF,KAAM,QACNuF,OAAQuE,GACRrJ,MAAOqB,GAAYgG,QAAQrH,MAC3B4E,YAxOmB,IA2OvB,SACapC,EAAAA,GAAAA,eAA6B6B,EAAWxF,GAAU,KAAD,8EAlCjC,OAmC9B,WAnC8B,gCAA/B,KAmCK4D,MAAK,SAACC,GAETlB,GAASyD,EAAAA,EAAAA,GAAM,cAAesC,KAAKC,UAAU9E,KAC7CpC,GACF,GACF,EA2D2D,WACnD,SAAC,KAAY,WACX,SAAC,KAAW,uCAEd,SAAC,KAAU,WACT,UAAC,KAAI,CAACzD,UAAU,2CAA0C,WACxD,UAAC,KAAI,CAACgB,GAAI,GAAIqH,GAAI,EAAE,WAClB,UAAC,KAAW,CAACrI,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdsI,UAAU,QACVC,QAAQ,cACRvI,UAAU,GAAE,qBAId,SAAC,KAAW,CACVkD,GAAG,cACHsF,SA1ElB,SAA6BC,GAE3BuB,EAAWvB,EAAEE,OAAOxF,OAhMpBkI,GAlDqB,GAmDrBI,GAAQ,IAAIF,MAnDS,IAoDrBI,GAAO,IAAIJ,MApDU,GAoPvB,EAuEkBpI,MAAOa,EAAU,SAEhBH,EAAWjC,KAAI,SAAChC,EAAQkC,GACvB,OACE,4BAIGlC,GAHIkC,EAMX,UAGJ,UAAC,KAAW,CAAC9B,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,mBAGtD,UAAC,KAAW,CACV1B,IAAK1C,EACLjB,GAAG,YACH0H,aAAclB,EAAa,WAE3B,4BAASrG,KACT,4BAASoG,WAGb,UAAC,KAAW,CAACzJ,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,gBAAe,uBAG1D,SAAC,KAAU,CACT1B,IAAKxC,EACL3B,KAAK,SAEL,aAAW,gBACX1C,UAAU,QACV4K,aA7VK,IA8VL1H,GAAG,mBAEL,SAAC,KAAe,CAACoF,UAAU,QAAO,mBAEpC,UAAC,KAAW,CAACtI,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,YAAW,wBAGtD,UAAC,KAAW,CACVrF,GAAG,YACH2D,IAAKzC,EACLwG,aAAchB,EAAkB,WAEhC,4BAtWG,UAuWH,4BAASD,WAkBb,UAAC,KAAQ,CAAC1J,MAAM,UAAS,WACvB,gDACA,gBAAKD,UAAU,eAAc,mBAAK+E,EAAY,kBAGlD,UAAC,KAAI,CAAC/D,GAAI,GAAIqH,GAAI,EAAE,WAClB,iBAAKrI,UAAU,2CAA0C,WACvD,gBAAKgB,GAAI,EAAE,UACT,UAAC,KAAM,CAACf,MAAM,OAAM,wBACN,IACXgG,OAAOhB,IAAoBnC,QAC1BuC,UAIN,gBAAKrE,GAAI,EAAE,UACT,UAAC,KAAM,CAACf,MAAM,UAAS,wBACT,IACXgG,OAAOd,IAAoBrC,QAC1BuC,UAIN,iBAAKrE,GAAI,EAAE,WACT,SAAC,KAAW,CACVwN,MAAO7G,GACPzE,GAAG,WACHuL,gBAAc,EACdvO,QAlKpB,SAA8BuI,GAE5B,IAAMiG,EAAU/G,GACO,OAAnBc,EAAEE,OAAOxF,MACXsF,EAAEE,OAAOxF,MAAQ,MAEjBsF,EAAEE,OAAOxF,MAAQ,KAEnBmI,GAA6B,OAAnB7C,EAAEE,OAAOxF,MAAiB2H,EA3QjB,QA4QnB,IAAIiD,GAAS,OAAOrC,IACpBA,GAAMtJ,SAAQ,SAACyI,EAAM/I,GACf0J,GAAO1J,GAAS,GAAK+I,EAAO,IAG5BkD,EAAUjM,GADR4M,IAAY5D,EACKD,EAAOW,GAAO1J,GAEd+I,EAAOW,GAAO1J,GAGvC,IACA6J,IAAO,kBAAMoC,CAAS,GACxB,KA+IkB,SAAC,KAAU,yBAAU3B,GAAoB,YAAInG,OAC3CiG,IACApJ,QAAQuC,IAAwB,cAGtC,UAAC,KAAW,CAACrF,UAAU,qBAAoB,WACzC,UAAC,KAAI,CAACA,UAAU,OAAM,WACpB,SAAC,KAAI,WACH,UAAC,KAAW,CAACA,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdsI,UAAU,QACVC,QAAQ,cAAa,qBAIvB,SAAC,KAAU,CACT7F,KAAK,SACLyG,YAAazB,EACb,aAAW,GAEXvE,MAAOuE,EACPxE,GAAG,cACHsF,SAhMxB,SAAsCC,GACpC0C,EAAY1C,EAAEE,OAAOxF,MACvB,UAkMkB,SAAC,KAAI,WACH,UAAC,KAAW,CAACnD,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdsI,UAAU,QACVC,QAAQ,cAAa,qBAIvB,SAAC,KAAU,CACT7F,KAAK,SAELyG,YAAaiC,GACb,aAAW,GAEXjI,MAAOiI,GACPlI,GAAG,cACHsF,SAjNxB,SAAkCC,GAChC4C,GAAc5C,EAAEE,OAAOxF,MACzB,cAqNmBiI,IACDM,IACAH,MAAMoD,KAAK,CAAE1L,OAAQmI,KAAgBxJ,KAAI,SAACgN,EAAO9M,GAC/C,OACE,UAAC,KAAW,CAAC9B,UAAU,OAAmB6K,KAAK,KAAI,WACjD,UAAC,KAAe,CACdvC,UAAU,QACVC,QAAS,QAAUzG,EAAM,mBAElBA,EAAQ,MAEjB,SAAC,KAAU,CACTY,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,QACXyB,aAAa,GAEb1H,GAAI,QAAUpB,EACd0G,SAAUiF,MAGZ,UAAC,KAAe,CACdnF,UAAU,QACVC,QAAS,QAAUzG,EAAM,kBAEnBA,EAAQ,MAEhB,SAAC,KAAU,CACTY,KAAK,SACLwG,KAAK,MACLC,YAAY,GACZ,aAAW,SAEXjG,GAAI,SAAWpB,EACf0G,SAAUqF,GACV1K,MAAOuI,GAAM5J,MAGf,SAAC,KAAe,CACd9B,UAAU,YACVsI,UAAU,QACVC,QAAS,QAAUzG,EAAM,SAExBwL,GAAgB9B,GAAO1J,GAAQ8J,GAAQ9J,QAxCTA,EA4CvC,QAEJ,UAAC,KAAI,YACH,SAAC,KAAI,CAACd,GAAI,EAAGC,GAAI,EAAE,UACjB,UAAC,KAAM,CAAChB,MAAM,SAAQ,wBAAa+L,GAAY,UAEjD,SAAC,KAAI,CAAChL,GAAI,EAAGC,GAAI,EAAE,UACjB,UAAC,KAAM,CAAChB,MAAM,UAAS,yBAAc6L,GAAS,UAEhD,SAAC,KAAI,CAAC9K,GAAI,EAAGC,GAAI,EAAE,UACjB,UAAC,KAAM,CAAChB,MAAM,UAAS,qBACZ,KACP6L,GAAYzH,EAAYmG,QAAQrH,OAAOL,QAAQ,GAAE,aAIzD,UAAC,KAAI,CAAC9C,UAAU,OAAM,WACpB,SAAC,KAAI,CAACgB,GAAI,GAAIC,GAAI,EAAE,UAClB,UAAC,KAAW,CAACjB,UAAU,OAAM,WAC3B,SAAC,KAAe,CAACsI,UAAU,QAAQC,QAAQ,UAAS,iBAGpD,SAAC,KAAU,CACT1B,IAAKtC,GACL7B,KAAK,SACLyG,YAAY,GACZ,aAAW,cAEXyB,aAAa,GACb1H,GAAG,aAEL,SAAC,KAAO,CACNhD,QAAS,kBACPqM,GACED,KAAmBvB,EAxiB5B,IA0iBaA,EACL,EACF,SAEAuB,WAIP,SAAC,KAAI,CAACtL,GAAI,GAAIC,GAAI,EAAE,UAClB,UAAC,KAAW,CAACjB,UAAU,OAAM,WAC3B,SAAC,KAAe,CACdA,UAAU,GACVsI,UAAU,QACVC,QAAQ,UAAS,iBAInB,SAAC,KAAU,CACT1B,IAAKrC,GACL9B,KAAK,SACLyG,YAAY,GACZ,aAAW,mBAEXyB,aAAa,GACb1H,GAAG,aAEL,SAAC,KAAO,CACNhD,QAAS,kBACPuM,GACED,KAAiBzB,EAvkB1B,IAykBaA,EACL,EACF,SAEAyB,sBAQf,UAAC,KAAY,YACX,SAAC,KAAO,CAACvM,MAAM,YAAYC,QAAS,kBAAMuD,GAAgB,EAAC,oBAG3D,SAAC,KAAO,CAACxD,MAAM,UAAUyC,KAAK,SAAQ,4BAQlD,E,kBC5mBMmM,EAAwB,SAACnP,GAC7B,IAAQmB,EAA4BnB,EAA5BmB,YAAaC,EAAepB,EAAfoB,WACfgO,EAAeC,IAAAA,KAAOlO,GACtBjB,EAASkB,EAAW,GACpBC,EAAOD,EAAW,GAGxB,OACE,SAAC,KAAI,CAACE,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAE,UACzB,UAAC,KAAK,CAAClB,UAAU,YAAYC,MAAM,YAAYkB,UAAU,QAAO,WAC9D,SAAC,KAAW,WACV,iBAAKnB,UAAU,+DAA8D,WAC3E,SAACoB,EAAA,EAAM,CAACxB,OAAQA,KAChB,gBAAKI,UAAU,OAAOH,MAAO,CAAEwB,SAAU,WAAY,SAClDN,UAIP,SAAC,KAAS,WACR,SAAC,KAAM,CACLO,SAAO,EACPC,OAAK,EACLC,YAAU,EACVvB,MAAM,QACND,UAAU,oBACVH,MAAO,CAAE4B,MAAO,QAAS,UAEzB,SAAC,KAAU,CAAC5B,MAAO,CAAE6B,UAAW,QAAS,SACtCb,EAAYc,MAAM,EAAGmN,GAAclN,KAAI,SAACC,EAAMC,GAC7C,OACE,UAAC,KAAS,YACR,SAAC,KAAgB,UAAED,KACnB,SAAC,KAAc,UAAEf,EAAWgB,EAAQ,OAFtBA,EAKpB,cAOd,EA8GA,EA5Ge,SAAH,GAAwB,IAAlBC,EAAU,EAAVA,WACVG,EAAe,CACnB,WACA,aACA,OACA,gBACA,cACA,aACA,WAGIC,EAAY,GA4ClB,OAzCAJ,EAAWK,SAAQ,SAACC,GAClB,IAAQ2M,EAA4C3M,EAA5C2M,QAASnH,EAAmCxF,EAAnCwF,QAASoH,EAA0B5M,EAA1B4M,UAAWC,EAAe7M,EAAf6M,WAE/B5M,EAAY,GACZvB,EAAOwB,IAAmB,IAAb2M,GAAmB1M,OAAO,kBACvC2M,EAAQ,UAAMF,EAAS,cACT,IAAjBpH,EAAQuH,OACQ,sBAAdH,GACe,yBAAdA,IACc,IAAjBpH,EAAQuH,OACQ,qBAAdH,GACe,wBAAdA,GACA,YACA,eAEAI,EACkB,IAAtBxH,EAAQyH,UACa,IAAjBzH,EAAQuH,KAAU,wBACCvH,EAAQjF,OAAK,wBACbiF,EAAQjF,OAAO,MAElC2M,EAAuC,IAA1BtJ,OAAO+I,EAAQpM,OAAY,eACxC4M,EACa,IAAjBR,EAAQnE,KAAU,kBAEXsC,KAAKsC,IACNT,EAAQnE,KAAO5E,OAAO5D,EAAMqN,kBAAoB7H,EAAQjF,OACxDE,QAAQ,IACV6M,GAAmC,IAAzBX,EAAQY,aAAqB,oBAE7CtN,EAAUG,KAAKuM,EAAQa,UACvBvN,EAAUG,KAAK1B,GACfuB,EAAUG,KAAK0M,GACf7M,EAAUG,KAAK4M,GACf/M,EAAUG,KAAK8M,GACfjN,EAAUG,KAAK+M,GACflN,EAAUG,KAAKkN,GAGfxN,EAAUM,KAAKH,EACjB,KAEE,+BACE,SAAC,KAAI,WACH,SAAC,KAAI,CAACpB,GAAI,GAAG,UACX,UAAC,KAAK,CAAClB,UAAU,OAAM,WACrB,UAAC,KAAW,8BAAkB+B,EAAWkB,OAAM,QAC/C,SAAC,KAAS,UACPlB,EAAWkB,OAAS,IACnB,iCACE,gBAAKC,GAAG,cAAclD,UAAU,mBAAkB,SAC/CmC,EAAUP,KAAI,SAACS,EAAOP,GACrB,OACE,SAAC+M,EAAqB,CACpBhO,YAAaqB,EACbpB,WAAYuB,GAGlB,OAEF,UAAC,KAAM,CAACa,GAAG,eAAc,WACvB,SAAC,IAAU,WACT,wBACGhB,EAAaN,KAAI,SAACnB,EAAQqB,GACzB,OAAO,wBAAiBrB,GAARqB,EAClB,SAGJ,SAAC,KAAU,UACRK,EAAUP,KAAI,SAACS,EAAOP,GACrB,OACE,eAAIA,MAAOA,EAAM,SACdO,EAAMT,KAAI,SAACuB,EAAOC,GACjB,OACE,yBACE,iBAAMpD,UAAU,KAAI,SAAEmD,KAG5B,KAGN,sBAWtB,ECyIA,EAlQmB,WACjB,OAA0BsB,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UACnB,GASIlB,EAAAA,EAAAA,MAJFmM,GAJO,EAAPlM,QACU,EAAVC,WACgB,EAAhBC,iBACe,EAAfC,gBACW,EAAX+L,aAGA5L,GAFS,EAATF,UACc,EAAdC,eACY,EAAZC,cAIF,GAA8BO,EAAAA,EAAAA,UAAS,MAAK,eAArCsL,EAAQ,KAAEC,EAAS,KAC1B,GAAgCvL,EAAAA,EAAAA,UAAS,MAAK,eAAvCwL,EAAS,KAAEC,EAAU,KAC5B,GAAkCzL,EAAAA,EAAAA,UAAS,MAAK,eAAzC1C,EAAU,KAAEoO,EAAW,KAC9B,GAAkD1L,EAAAA,EAAAA,UAAS,MAAK,eAAzD2L,EAAkB,KAAEC,EAAmB,KAC9C,GAAwD5L,EAAAA,EAAAA,WAAS,GAAM,eAAhE6L,EAAqB,KAAEC,EAAsB,KACpD,GAA4C9L,EAAAA,EAAAA,WAAS,GAAM,eAApD+L,EAAe,KAAEC,EAAgB,KACxC,GAAsDhM,EAAAA,EAAAA,WAAS,GAAM,eAA9DiM,EAAoB,KAAEC,EAAqB,KAElD,SAASC,GAAsB5O,GACzBA,IAAa8N,IACfnL,EAAS,MACTwL,EAAY,MACZD,EAAW,MACXG,EAAoB,MACpBnM,EAAa2M,EAAAA,GAAc7O,GAE/B,CACA,SACe8O,GAAiB,GAAD,8CAO9B,OAP8B,2BAA/B,WAAgC9O,GAAQ,4FACf2D,EAAAA,GAAAA,aAA2B3D,GAAU,KAAD,EAIV,OAJ3C+N,EAAQ,OAEdG,EAAWa,GAAc/O,EAAU+N,EAASE,YAC5CE,EAAYa,GAAWhP,EAAU+N,EAAShO,aAC1CsO,EAAoBN,EAASK,oBAAoB,kBAC1CL,GAAQ,2CAChB,yBAiBD,SAASkB,GAAQC,EAAGC,GAClB,OAAID,EAAEtR,OAASuR,EAAEvR,QACP,EAENsR,EAAEtR,OAASuR,EAAEvR,OACR,EAEF,CACT,CACA,SAASmR,GAAc/O,EAAUiO,GAE/B,IAAImB,EAAgBnB,EAkCpB,OAhCIjO,IAAa8D,EAAAA,IACfsL,EAAchP,SAAQ,SAACiP,GACrBA,EAASxG,KAAOwG,EAASC,YAAcD,EAASE,WAChDF,EAASG,WAAavL,OAAOoL,EAASI,gBAAgB3O,QAAQ,GAC9DuO,EAASE,WAAatL,OAAOoL,EAASE,YAAYzO,QAChDuO,EAAS5K,gBAEX4K,EAAS9K,UAAYN,OAAOoL,EAAS9K,WAAWzD,QAC9CuO,EAAS5K,gBAEX4K,EAAS7K,UAAYP,OAAOoL,EAAS7K,WAAW1D,QAC9CuO,EAAS5K,gBAEX4K,EAASK,iBAAmBzL,OAAOoL,EAASK,kBAAkB5O,QAC5DuO,EAAS5K,eAEb,IAEEzE,IAAagB,EAAAA,KACfoO,EAAgBrC,IAAAA,IAAMqC,GAAe,SAACC,GACpC,IAAIM,GAAW,UAAQN,GAOvB,OANAM,EAAY/R,OAASyR,EAASxB,SAC9B8B,EAAYL,YAAcD,EAASxG,KACnC8G,EAAY9G,KAAOwG,EAASxG,KAAO,EAAIwG,EAASlO,OAASkO,EAASlO,MAClEwO,EAAYD,iBAAmBL,EAASO,SACxCD,EAAYnL,UAAY6K,EAAS7K,UACjCmL,EAAYH,WAAaH,EAASQ,OAC3BF,CACT,KAIKP,EAAc9G,KAAK2G,GAC5B,CACA,SAASD,GAAWhP,EAAU8P,GAC5B,IAAIC,EAAYD,EAsBhB,OArBI9P,IAAa8D,EAAAA,IACfiM,EAAU3P,SAAQ,SAACC,GACjBA,EAAMO,MAAwB,MAAhBP,EAAMO,MAAgBP,EAAM2P,UAAY3P,EAAMO,MAC5DP,EAAMO,MAAQqD,OAAO5D,EAAMO,OAAOE,QAAQT,EAAMoE,gBAChDpE,EAAMtB,KAAOsB,EAAM4P,UACrB,IAEEjQ,IAAagB,EAAAA,IACf+O,EAAU3P,SAAQ,SAACC,GAEjBA,EAAMtB,KAA0B,IAAnBsB,EAAM6M,WACnB7M,EAAMzC,OAASyC,EAAMwN,SACrBxN,EAAMK,KAA+B,IAAxBuD,OAAO5D,EAAMO,OAAe,QAAU,SACnDP,EAAMM,KAAON,EAAMwI,KAAO,EAAI,QAAU,OAExCxI,EAAMQ,QAAUR,EAAMwI,KAAOxI,EAAMqN,iBACnCrN,EAAMU,WAAaV,EAAMuN,YAC3B,IAIKmC,CACT,CAEA,OAzFArM,EAAAA,EAAAA,YAAU,WACRsK,EAAU,MACVc,GAAiBhB,GAAalK,MAAK,SAACsM,GAAI,OAAKlC,EAAUkC,EAAK,IAC5D,IAAMhP,EAAKwD,aAAY,WACrBoK,GAAiBhB,GAAalK,MAAK,SAACsM,GAAI,OAAKlC,EAAUkC,EAAK,GAC9D,GAAGvL,EAAAA,GAEH,OAAO,kBAAMC,cAAc1D,EAAI,CACjC,GAAG,CAAC4M,IAiFCC,GAE2B,IAArBA,EAASoC,SAEhB,iCACE,0CACA,uBAAIpC,EAASqC,cAKf,iCACE,SAAC,KAAQ,CAACvL,IAAKjC,EAAYnC,KAAMiC,EAAOoC,UAAU,aAClD,SAAC,KAAI,WACH,iBAAK9G,UAAU,kEAAiE,WAC9E,UAAC,KAAY,CAACqS,KAAK,QAAQrS,UAAU,YAAW,WAC9C,SAAC,KAAU,CACT0C,KAAK,QACL4P,OAAQ,CAAErS,MAAO,UAAWsS,QAAS,WACrCC,KAAK,YACLtP,GAAG,aACHuP,aAAa,MACbjE,MAAM,UACNC,eAAgBqB,IAAgBhK,EAAAA,GAChC5F,QAAS,kBAAM0Q,GAAsB9K,EAAAA,GAAiB,KAExD,SAAC,KAAU,CACTpD,KAAK,QACL4P,OAAQ,CAAErS,MAAO,UAAWsS,QAAS,WACrCC,KAAK,YACLtP,GAAG,aACHuP,aAAa,MACbjE,MAAM,SACNC,eAAgBqB,IAAgB9M,EAAAA,GAChC9C,QAAS,kBAAM0Q,GAAsB5N,EAAAA,GAAgB,KAEvD,SAAC,KAAU,CACTN,KAAK,QACL4P,OAAQ,CAAErS,MAAO,UAAWsS,QAAS,WACrCC,KAAK,YACLtP,GAAG,aACHuP,aAAa,MACbjE,MAAM,QACNC,eAAgBqB,IAAgBrK,EAAAA,GAChCvF,QAAS,kBAAM0Q,GAAsBnL,EAAAA,GAAe,QAIxD,iBAAKzF,UAAU,2DAA0D,WACvE,mBACEE,QAAS,WACPqQ,GAAuB,EACzB,EACAvQ,UAAU,uBAAsB,6BAIlC,SAAC,KAAM,CACL6K,KAAK,KACL6H,UAAU,SACVC,QAASrC,EACTsC,QAAS,kBAAMrC,GAAuB,EAAM,EAAC,UAE7C,SAAC,EAAc,CACbvO,SAAU8N,EACVrM,eAAgB,SAACoP,GACf3K,QAAQC,IAAI,iBAAkB0K,GAC9BtC,GAAuB,GAEvB5L,GAASyD,EAAAA,EAAAA,GAAM,cAAeyK,EAAST,SACzC,OAGJ,mBACElS,QAzJd,SAAyBuI,GACvBgI,GAAiB,EACnB,EAwJczQ,UAAU,uBAAsB,wBAIlC,SAAC,KAAM,CACL6K,KAAK,KACL6H,UAAU,SACVC,QAASnC,EACToC,QAAS,kBAAMnC,GAAiB,EAAM,EAAC,UAEvC,SAAC,EAAQ,CACPhN,eAAgB,kBAAMgN,GAAiB,EAAM,EAC7CzO,SAAU8N,OAGd,mBACE5P,QAvKd,SAAmCuI,GACjCkI,GAAsB,EACxB,EAsKc3Q,UAAU,uBAAsB,oCAIlC,SAAC,KAAM,CACL6K,KAAK,KACL6H,UAAU,SACVC,QAASjC,EACTkC,QAAS,kBAAMjC,GAAsB,EAAM,EAAC,UAE5C,SAAC,EAAa,CACZlN,eAAgB,kBAAMkN,GAAsB,EAAM,EAClD3O,SAAU8N,cAMnBvE,MAAMuH,QAAQ7C,KACb,SAAC8C,EAAA,EAAS,CACR/Q,SAAU8N,EACVG,UAAWA,EACXhO,SAAS,IAGZsJ,MAAMuH,QAAQ/Q,KACb,SAAC,EAAM,CAACA,WAAYA,EAAYC,SAAU8N,IAE3CA,IAAgB9M,EAAAA,KAAoB+L,IAAAA,QAAUqB,KAC7C,SAAC4C,EAAwB,CAACjR,WAAYqO,QAxHrC,SAAC,KAAQ,CAACnQ,MAAM,QA6H3B,C,wKChLA,EAhHiB,SAAH,GAOP,IANLoR,EAAQ,EAARA,SACAvP,EAAK,EAALA,MACAG,EAAO,EAAPA,QACAgR,EAAY,EAAZA,aACAC,EAAiB,EAAjBA,kBACAC,EAAa,EAAbA,cAEA,GAAkC1O,EAAAA,EAAAA,UAAS,IAAG,eAAvC2O,EAAU,KAAEC,EAAW,KAY9B,IAAIpT,EAAQoR,EAASC,YAAc,EAAI,OAAS,SAC5CgC,EAAajC,EAASkC,IAAM,EAAI,UAAY,SAChD,OACE,+BACE,UAAC,KAAS,CAAavT,UAAU,GAAE,WACjC,UAAC,KAAc,CAACA,UAAU,eAAc,WACtC,SAAC,KAAM,CAACC,MAAOA,EAAM,SAAEoR,EAASzR,UAChC,2BACE,UAAC,KAAO,CAAC2S,QAAQ,QAAQtS,MAAM,UAAU4K,KAAK,KAAI,UAC/CwG,EAASlK,SAAQ,aAIxB,SAAC,KACC,CACAnH,UAAWwT,IAAW,CACpB,YAAanC,EAASxG,KAAO,EAC7B,cAAewG,EAASxG,KAAO,EAC/B,gBAAgB,IACf,SAEFwG,EAASxG,QAEZ,SAAC,KAAc,CAAC7K,UAAU,eAAc,SACrCqR,EAASE,cAEZ,SAAC,KAAc,CAACvR,UAAU,eAAc,SACrCqR,EAAS9K,aAEZ,SAAC,KAAc,CAACvG,UAAU,4BAA2B,SAClDqR,EAASK,oBAEZ,SAAC,KAAc,CAAC1R,UAAU,yBAAwB,SAC/CqR,EAAS7K,aAEZ,SAAC,KAAc,CAACxG,UAAU,eAAc,SACrCqR,EAASG,cAEZ,UAAC,KAAc,CACbxR,UAAWwT,IAAW,CACpB,eAAgBnC,EAASkC,IAAM,EAC/B,cAAelC,EAASkC,IAAM,EAC9B,gBAAgB,IACf,UAEFlC,EAASkC,IAAG,KAAIlC,EAASoC,IAAG,QAE9BxR,IACC,SAAC,KAAc,CAACjC,UAAU,eAAc,UACtC,iBAAKA,UAAU,qFAAoF,WACjG,SAAC,KAAO,CACNC,MAAOqT,EACPf,QAAQ,QACRpP,MAAOkO,EACPnR,QA9Dd,SAA8BuI,GAC5BwK,EAAa5B,EACf,EA6DcxG,KAAK,KAAI,oBAIVsI,IACC,iCACE,gBAAKnT,UAAU,qBACf,SAAC,KAAO,CACNC,MAAOqT,EACPf,QAAQ,QACRpP,MAAOkO,EACPnR,QAvElB,SAAqCuI,GACnCyK,EAAkB7B,EAAU+B,GAC5BC,EAAY,GACd,EAqEkBxI,KAAK,KAAI,oBAIX,gBAAK7K,UAAU,QAAO,UACpB,SAAC,KAAU,CACT0C,KAAK,SACLmI,KAAK,KACL1B,YAAY,QACZhG,MAAOiQ,EACPlQ,GAAG,cACHsF,SAAU,SAACC,GAAC,OAAK4K,EAAY5K,EAAEE,OAAOxF,MAAM,gBA1E5CrB,IAsFtB,E,WC0CA,EAlJqB,SAAH,GAOX,IANLuP,EAAQ,EAARA,SAEApP,GADK,EAALH,MACO,EAAPG,SACAgR,EAAY,EAAZA,aACAC,EAAiB,EAAjBA,kBACAC,EAAa,EAAbA,cAEA,GAAkC1O,EAAAA,EAAAA,UAAS,IAAG,eAAvC2O,EAAU,KAAEC,EAAW,KAQlBhC,EAASC,YAArB,IACIgC,EAAajC,EAASkC,IAAM,EAAI,UAAY,SAChD,OACE,SAAC,KAAI,CAACvS,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAE,UACzB,UAAC,KAAK,CAAClB,UAAU,YAAW,WAC1B,SAAC,KAAW,WACV,iBAAKA,UAAU,+DAA8D,WAC3E,SAACoB,EAAA,EAAM,CAACxB,OAAQyR,EAASzR,UAEzB,UAAC,KAAO,CAAC2S,QAAQ,QAAQtS,MAAM,UAAU4K,KAAK,KAAI,UAC/CwG,EAASlK,SAAQ,aAIxB,UAAC,KAAS,YACR,SAAC,KAAM,CACL7F,SAAO,EACPC,OAAK,EACLC,YAAU,EACVvB,MAAM,QACND,UAAU,oBACVH,MAAO,CAAE4B,MAAO,QAAS,UAEzB,UAAC,KAAU,CAAC5B,MAAO,CAAE6B,UAAW,QAAS,WACvC,UAAC,KAAS,YACR,SAAC,KAAgB,oBACjB,SAAC,KACC,CACA1B,UAAWwT,IAAW,CACpB,YAAanC,EAASxG,KAAO,EAC7B,cAAewG,EAASxG,KAAO,EAC/B,gBAAgB,IACf,SAEFwG,EAASxG,WAGd,UAAC,KAAS,YACR,SAAC,KAAgB,2BACjB,SAAC,KAAc,CAAC7K,UAAU,eAAc,SACrCqR,EAASE,iBAGd,UAAC,KAAS,YACR,SAAC,KAAgB,0BACjB,SAAC,KAAc,CAACvR,UAAU,eAAc,SACrCqR,EAAS9K,gBAGd,UAAC,KAAS,YACR,SAAC,KAAgB,4BACjB,SAAC,KAAc,CAACvG,UAAU,4BAA2B,SAClDqR,EAASK,uBAGd,UAAC,KAAS,YACR,SAAC,KAAgB,0BACjB,SAAC,KAAc,CAAC1R,UAAU,yBAAwB,SAC/CqR,EAAS7K,gBAGd,UAAC,KAAS,YACR,SAAC,KAAgB,2BACjB,SAAC,KAAc,CAACxG,UAAU,eAAc,SACrCqR,EAASG,iBAGd,UAAC,KAAS,YACR,SAAC,KAAgB,uBACjB,UAAC,KAAc,CACbxR,UAAWwT,IAAW,CACpB,eAAgBnC,EAASkC,IAAM,EAC/B,cAAelC,EAASkC,IAAM,EAC9B,gBAAgB,IACf,UAEFlC,EAASkC,IAAG,KAAIlC,EAASoC,IAAG,gBAKpCxR,IACC,iBAAKjC,UAAU,4BAA2B,WACxC,oCACA,gBAAKA,UAAU,eAAc,UAC3B,iBAAKA,UAAU,qFAAoF,WACjG,SAAC,KAAO,CACNC,MAAOqT,EACPf,QAAQ,QACRpP,MAAOkO,EACPnR,QAjGlB,SAA8BuI,GAC5BwK,EAAa5B,EACf,EAgGkBxG,KAAK,KAAI,oBAIVsI,IACC,iCACE,gBAAKnT,UAAU,qBACf,SAAC,KAAO,CACNC,MAAOqT,EACPf,QAAQ,QACRpP,MAAOkO,EACPnR,QA1GtB,SAAqCuI,GACnCyK,EAAkB7B,EAAU+B,GAC5BC,EAAY,GACd,EAwGsBxI,KAAK,KAAI,oBAIX,gBAAK7K,UAAU,QAAO,UACpB,SAAC,KAAU,CACT0C,KAAK,SACLmI,KAAK,KACL1B,YAAY,QACZhG,MAAOiQ,EACPlQ,GAAG,cACHsF,SAAU,SAACC,GAAC,OAAK4K,EAAY5K,EAAEE,OAAOxF,MAAM,wBActE,E,WCkDA,EA5LkB,SAAH,GAA0C,IAApC8M,EAAS,EAATA,UAAWhO,EAAO,EAAPA,QAASD,EAAQ,EAARA,SACvC,GAA0ByC,EAAAA,EAAAA,UAAS,GAAE,eAA9BC,EAAK,KAAEC,EAAQ,KAChBC,GAAaC,EAAAA,EAAAA,UAAS,SAEb6O,EAAoB,EAAD,iDAQjC,OARiC,0BAAlC,WAAmCrC,EAAU3O,EAAME,GAAK,4FACnC+C,EAAAA,GAAAA,cACjB0L,EACA3O,EACAE,EACAZ,GACA,KAAD,EALS,OAAJkQ,EAAI,yBAMHA,GAAI,4CACZ,sBACD,SAASyB,EAAqBtC,GAE5BqC,EAAoBrC,EAAU,SAAU,GAAGzL,MAAK,SAACsM,GAC/CvN,GAASyD,EAAAA,EAAAA,GAAM,iBAAkB8J,EAAKE,SACxC,GACF,CACA,SAASwB,EAA0BvC,EAAU+B,GAC3C,IAAMS,EAAWxC,EAAS9K,UAAkC,GAArB8K,EAAS9K,UAAkB,IAC5DuN,EAAgC,IAArBzC,EAAS9K,UACtB6M,GAAcS,GAAYT,GAAcU,EAE1CJ,EAAoBrC,EAAU,QAAS+B,GAAYxN,MAAK,SAACsM,GACvDvN,GAASyD,EAAAA,EAAAA,GAAM,iBAAkB8J,EAAKE,SACxC,IAEAzN,GACEyD,EAAAA,EAAAA,GACE,iBACA,oEAIR,CACA,SAAS2L,KAEP,yCAAC,yGACoBpO,EAAAA,GAAAA,iBAA+B,KAAD,EACK,OADhDuM,EAAI,OACVvN,GAASyD,EAAAA,EAAAA,GAAM,sBAAsB,GAAD,OAAK8J,EAAK8B,OAAQ,kBAC/C9B,GAAI,2CAHuB,OAInC,WAJmC,gCAApC,IAKF,CAIA,IAAM+B,EAAehE,EAAUrO,KAAI,SAACyP,EAAUvP,GAC5C,IACElC,EAWEyR,EAXFzR,OACA2R,EAUEF,EAVFE,WACA2C,EASE7C,EATF6C,iBACA5C,EAQED,EARFC,YACA/K,EAOE8K,EAPF9K,UACAmL,EAMEL,EANFK,iBACAlL,EAKE6K,EALF7K,UACAW,EAIEkK,EAJFlK,SAEA0D,GAEEwG,EAHF5K,eAGE4K,EAFFxG,MACA2G,EACEH,EADFG,WAGIiC,EAA0B,IAAnBS,GAA2B/G,KAAKsC,IAAI5E,GAAQ1D,GACzD,MAAO,CACLvH,OAAAA,EACA0R,YAAAA,EACAzG,KAAM5E,OAAO4E,GAAM/H,QAAQ,GAC3ByO,WAAAA,EACAhL,UAAAA,EACAC,UAAAA,EACAkL,iBAAAA,EACAF,WAAYvL,OAAOuL,GAAY1O,QAAQ,GACvCyQ,IAAKtN,OAAOiO,GAAkBpR,QAAQ,GACtC2Q,IAAKxN,OAAOwN,GAAK3Q,QAAQ,GACzBqE,SAAAA,EAEJ,IACIgN,EAAkB,CACpB,SACA,OACA,cACA,aACA,aACA,aACA,SACA,cAUF,OARIlS,IACED,IAAa8D,EAAAA,GACfqO,EAAgB1R,KAAK,uBAErB0R,EAAgB1R,KAAK,oBAKvB,iCACE,SAAC,KAAI,WACH,SAAC,KAAI,WACH,UAAC,KAAK,CAACzC,UAAU,OAAM,WACrB,UAAC,KAAW,yBAAaiU,EAAahR,OAAM,QAC5C,SAAC,KAAS,UACPgR,EAAahR,OAAS,IACrB,iCACE,gBAAKC,GAAG,iBAAiBlD,UAAU,mBAAkB,SAClDiU,EAAarS,KAAI,SAACyP,EAAUvP,GAC3B,OACE,SAAC,EAAY,CACXuP,SAAUA,EAEVpP,QAASA,EACTgR,aAAcU,EACdT,kBAAmBU,GAHd9R,EAMX,OAEF,UAAC,KAAM,CAACoB,GAAG,kBAAiB,WAC1B,SAAC,IAAU,CAAClD,UAAU,GAAE,UACtB,SAAC,KAAS,UACPmU,EAAgBvS,KAAI,SAACwS,EAAKtS,GACzB,MAAY,wBAARsS,GAEA,SAAC,KAAgB,WACf,0BACE,SAAC,KAAQ,CACPC,QAAQ,sCACRvN,UAAU,MAAK,UAEf,SAAC,KAAO,CACNyL,QAAQ,QACRtS,MAAM,UACNC,QAAS6T,EAAyB,SAEjCK,SAXctS,IAmBzB,SAAC,KAAgB,UACdsS,GADoBtS,EAI3B,SAGJ,SAAC,KAAU,UACRmS,EAAarS,KAAI,SAACyP,EAAUvP,GAC3B,OACE,SAAC,EAAQ,CACPuP,SAAUA,EAEVpP,QAASA,EACTgR,aAAcU,EACdT,kBAAmBU,EACnBT,cACEnR,IAAa8D,EAAAA,IALVhE,EASX,sBAShB,SAAC,KAAQ,CAAC+E,IAAKjC,EAAYnC,KAAMiC,EAAOoC,UAAU,cAcxD,C,wDCpNO,IAAMH,EAAuB,I","sources":["components/Data/Symbol.js","components/Toast.js","pages/Manual/Orders.js","components/Trade/OrderWithSaveParam.js","components/Trade/NewOrder.js","components/Trade/NewMultiLevelOrder.js","pages/Manual/GateIOPriceTriggerOrders.js","pages/Manual/ManualPositions.js","components/Trade/Position.js","components/Trade/PositionCard.js","pages/Manual/Positions.js","pages/Utils.js"],"sourcesContent":["import { CButton, CBadge } from \"@coreui/react\";\n\nconst Symbol = (props) => {\n  const binanceUrl = `https://www.binance.com/en/futures/${props.symbol}`;\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <>\n      <CBadge\n        style={{ display: \"flex\", alignItems: \"center\" }}\n        className=\"custom-link\"\n        color=\"warning\"\n        onClick={() => openInNewTab(binanceUrl)}\n      >\n        {props.symbol}\n      </CBadge>\n    </>\n  );\n};\n\nexport default Symbol;\n","import React from \"react\";\nimport { CToast, CToastHeader, CToastBody } from \"@coreui/react\";\n\nconst Toast = (header, body) => {\n  return (\n    <CToast color=\"secondary\">\n      <div>\n        <CToastHeader closeButton>\n          {/* <svg\n            className=\"rounded me-2\"\n            width=\"20\"\n            height=\"20\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            preserveAspectRatio=\"xMidYMid slice\"\n            focusable=\"false\"\n            role=\"img\"\n          >\n            <rect width=\"100%\" height=\"100%\" fill=\"#007aff\"></rect>\n          </svg> */}\n          <div className=\"fw-bold me-auto\">{header}</div>\n        </CToastHeader>\n        <CToastBody>{body}</CToastBody>\n      </div>\n    </CToast>\n  );\n};\n\nexport default Toast;\n","import {\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n  CTable,\n  CTableHead,\n  CTableBody,\n  CTableRow,\n  CTableHeaderCell,\n  CTableDataCell,\n} from \"@coreui/react\";\nimport Symbol from \"../../components/Data/Symbol\";\nimport dayjs from \"dayjs\";\nimport { EXCHANGE_GATEIO } from \"../../Model/tr7-trading-bot.js\";\n// const months = [\n//   \"Jan\",\n//   \"Feb\",\n//   \"Mar\",\n//   \"Apr\",\n//   \"May\",\n//   \"Jun\",\n//   \"Jul\",\n//   \"Aug\",\n//   \"Sep\",\n//   \"Oct\",\n//   \"Nov\",\n//   \"Dec\",\n// ];\nfunction padTo2Digits(num) {\n  return num.toString().padStart(2, \"0\");\n}\n\nfunction formatDate(date) {\n  return [\n    date.getFullYear(),\n    padTo2Digits(date.getMonth() + 1),\n    padTo2Digits(date.getDate()),\n  ].join(\"-\");\n}\n\nconst OrderCard = (props) => {\n  const orderHeader = props.orderHeader;\n  const orderValue = props.orderValue;\n  const symbol = orderValue[1];\n  const time = orderValue[0];\n  // const [time, symbol, type, side, price, amount, reduceOnly, tpSl] = orderValue;\n\n  return (\n    <CCol xs={12} md={6} xl={4}>\n      <CCard className=\"mx-1 mb-2\" color=\"secondary\" textColor=\"white\">\n        <CCardHeader>\n          <div className=\"d-flex d-flex-row justify-content-between align-items-center\">\n            <Symbol symbol={symbol} />\n            <div className=\"mx-2\" style={{ fontSize: \"smaller\" }}>\n              {time}\n            </div>\n          </div>\n        </CCardHeader>\n        <CCardBody>\n          <CTable\n            striped\n            hover\n            responsive\n            color=\"light\"\n            className=\"smaller-text mt-2\"\n            style={{ width: \"100%\" }}\n          >\n            <CTableBody style={{ overflowY: \"auto\" }}>\n              {orderHeader.slice(2, 8).map((item, index) => {\n                return (\n                  <CTableRow>\n                    <CTableHeaderCell>{item}</CTableHeaderCell>\n                    <CTableDataCell>{orderValue[index + 2]}</CTableDataCell>\n                  </CTableRow>\n                );\n              })}\n            </CTableBody>\n          </CTable>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  );\n};\n\nconst Orders = ({ openOrders, isClose, exchange }) => {\n  const ordersHeader = [\n    \"Time\",\n    \"Symbol\",\n    \"Type\",\n    \"Side\",\n    \"Price\",\n    \"Amount\",\n    // \"Filled\",\n    \"Reduce Only\",\n    // \"Post Only\",\n    // \"Trigger Conditions\",\n    // \"TP/SL\",\n    // \"Cancel All\",\n  ];\n  const curOrders = [];\n  // console.log(\"openOrders[0]\", openOrders[0]);\n  // console.log(\"openOrders[1]\", openOrders[1]);\n  openOrders.forEach((order) => {\n    // console.log(\"openOrders.forEach\", order);\n    const tempOrder = [];\n    const time = dayjs(order.time).format(\"DD/MM HH:mm:ss\");\n    tempOrder.push(time);\n    tempOrder.push(order.symbol);\n    tempOrder.push(order.type);\n    tempOrder.push(order.side);\n    tempOrder.push(order.price);\n    tempOrder.push(`${(order.price * order.origQty).toFixed(2)}`);\n    // tempOrder.push(order.status === \"FILLED\" ? \"filled\" : \"0\");\n    tempOrder.push(order.reduceOnly ? \"Yes\" : \"No\");\n    // tempOrder.push(\"--\");\n    // tempOrder.push(\"--\");\n    // tempOrder.push(\"--\");\n    // tempOrder.push(\"--\");\n\n    curOrders.push(tempOrder);\n  });\n  return (\n    <>\n      <CRow>\n        <CCol xl={12}>\n          <CCard className=\"mb-4\">\n            <CCardHeader>\n              {exchange === EXCHANGE_GATEIO\n                ? `Limit/Market Orders`\n                : `Open Orders`}{\" \"}\n              ({openOrders.length})\n            </CCardHeader>\n            <CCardBody>\n              {openOrders.length > 0 && (\n                <>\n                  <div id=\"orders-card\" className=\"d-flex flex-wrap\">\n                    {curOrders.map((order, index) => {\n                      return (\n                        <OrderCard\n                          orderHeader={ordersHeader}\n                          orderValue={order}\n                        />\n                      );\n                    })}\n                  </div>\n                  <CTable id=\"orders-table\">\n                    <CTableHead>\n                      <tr>\n                        {ordersHeader.map((header, index) => {\n                          return <th key={index}>{header}</th>;\n                        })}\n                      </tr>\n                    </CTableHead>\n                    <CTableBody>\n                      {curOrders.map((order, index) => {\n                        return (\n                          <tr index={index}>\n                            {order.map((value, idx) => {\n                              return (\n                                <td>\n                                  <span className=\"h6\">{value}</span>\n                                </td>\n                              );\n                            })}\n                          </tr>\n                        );\n                      })}\n                    </CTableBody>\n                  </CTable>\n                </>\n              )}\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  );\n};\n\nexport default Orders;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot, {\n  EXCHANGE_BINANCE,\n  EXCHANGE_BYBIT,\n  EXCHANGE_GATEIO,\n} from \"../../Model/tr7-trading-bot.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n  CSpinner,\n  CToaster,\n  CCallout,\n} from \"@coreui/react\";\nimport Toast from \"../Toast.js\";\nimport {\n  useFuturesOrderInfo,\n  CUR_SYMBOL,\n  MODE,\n  LEVERAGE,\n  DIRECTION,\n  TYPE,\n  PRICE,\n  AMOUNT,\n  TAKE_PROFIT,\n  STOP_LOSS,\n} from \"../../Provider/FuturesOrderInfo.js\";\nimport { FRONT_INTERVAL_FETCH } from \"../../pages/Utils.js\";\n\nconst MODE_ISOLATED = \"Isolated\";\nconst MODE_CROSSED = \"Crossed\";\nconst DEFAULT_MODE = MODE_ISOLATED;\nconst DIRECTION_BOTH = \"Both\";\nconst DIRECTION_LONG = \"Long\";\nconst DIRECTION_SHORT = \"Short\";\nconst DEFAULT_DIRECTION = DIRECTION_BOTH;\nconst TYPE_MARKET = \"Market\";\nconst TYPE_LIMIT = \"Limit\";\nconst DEFAULT_TYPE = TYPE_MARKET;\nconst TP_THRESHOLD = 1;\nconst SL_THRESHOLD = 1;\nconst TYPE_PRICE = \"$\";\nconst TYPE_PERCENT = \"%\";\nconst TYPE_PERCENT_PRICE = 0;\nconst TYPE_PERCENT_BALANCE = 1;\n\nconst OrderWithParam = ({ onCloseHandler, onSubmitHandler, exchange }) => {\n  const {\n    loading,\n    symbolList,\n    symbolListGateIO,\n    symbolListByBit,\n    curSymbol,\n    userOrderParam,\n    setOrderInfo,\n  } = useFuturesOrderInfo();\n  // console.log(\"curSymbol\", curSymbol, userOrderParam);\n  const {\n    modeRef,\n    directionRef,\n    leverageRef,\n    type,\n    price,\n    amount,\n    takeProfitRef,\n    stoplossRef,\n  } = userOrderParam[curSymbol];\n  // console.log(loading);\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const refForm = useRef(null);\n  const [availBalance, $availBalance] = useState();\n  const [curSymbolMarkPrice, $curSymbolMarkPrice] = useState(\"---\");\n  const [curSymbolLastPrice, $curSymbolLastPrice] = useState(\"---\");\n  const [curSymbolPricePrecision, $curSymbolPricePrecision] = useState(0);\n  const [symbolInfo, $symbolInfo] = useState();\n  const symbolListCurExchange =\n    exchange === EXCHANGE_GATEIO\n      ? symbolListGateIO\n      : exchange === EXCHANGE_BYBIT\n      ? symbolListByBit\n      : symbolList;\n\n  useEffect(() => {\n    // account info\n    (async function fetchAccountInfo(exchange) {\n      // console.log(\"fetchAccountInfo\", exchange);\n      return await tr7TradingBot.fetchAccountInfo(exchange);\n    })(exchange).then((res) => {\n      if (exchange === EXCHANGE_BINANCE) {\n        const account = res.accounts[0];\n        $availBalance(Number(account.availableBalance).toFixed(2));\n      } else if (exchange === EXCHANGE_GATEIO) {\n        // console.log(res);\n        $availBalance(Number(res.accounts.available).toFixed(2));\n      }\n    });\n  }, [exchange]);\n\n  useEffect(() => {\n    function fetchSymbolInfoInvoke(exchange) {\n      // console.log(\"fetchAccountInfo\", exchange);\n      (async function fetchSymbolMarketInfo(exchange) {\n        return await tr7TradingBot.getSymbolMarketInfo(curSymbol, exchange);\n      })(exchange).then((res) => {\n        const symbolInfo = res.symbolMarketInfo;\n        $curSymbolMarkPrice(symbolInfo.markPrice);\n        $curSymbolLastPrice(symbolInfo.lastPrice);\n        $curSymbolPricePrecision(\n          symbolInfo.pricePrecision < 100 ? symbolInfo.pricePrecision : 0\n        );\n        $symbolInfo(symbolInfo);\n        // console.log(symbolInfo);\n      });\n    }\n\n    fetchSymbolInfoInvoke(exchange);\n    if (!!curSymbol) {\n      const id = setInterval(\n        () => fetchSymbolInfoInvoke(exchange),\n        FRONT_INTERVAL_FETCH\n      );\n      return () => clearInterval(id);\n    }\n  }, [curSymbol, exchange]);\n\n  function newOrderSubmitHandler(event) {\n    event.preventDefault();\n    // validate form data\n    if (type === TYPE_LIMIT && !price) {\n      addToast(Toast(\"Type: Limit\", \"Price should be set (larger than zero)\"));\n      return;\n    }\n    // submit form data to server to place orders\n    // addToast(Toast(\"PLACE ORDER\", `submitting order...`));\n    (async function submitOrder() {\n      let order = {\n        symbol: curSymbol,\n        mode: modeRef,\n        side: directionRef,\n        leverage: leverageRef,\n        type: type,\n        amount: amount,\n        price: price,\n        tp: takeProfitRef,\n        sl: stoplossRef,\n        tpslPercentType: TYPE_PERCENT_PRICE,\n      };\n      if (type === TYPE_LIMIT && (order.tp || order.sl)) {\n        const levels = [];\n        levels.push([price, amount]);\n        const gridOrder = {\n          symbol: curSymbol,\n          mode: modeRef,\n          direction: directionRef,\n          leverage: leverageRef,\n          repeatTime: 1,\n          sizeUnit: \"USD\",\n          levels: [...levels],\n          takeProfit: {\n            trigger: \"mark\",\n            type: \"market\",\n            tpType: TYPE_PERCENT,\n            value: takeProfitRef,\n            percentType: TYPE_PERCENT_PRICE,\n          },\n          stopLoss: {\n            trigger: \"last\",\n            type: \"limit\",\n            slType: TYPE_PERCENT,\n            value: stoplossRef,\n            percentType: TYPE_PERCENT_PRICE,\n          },\n        };\n        console.log(\"gridOrder\", gridOrder);\n        return await tr7TradingBot.placeGridOrder(gridOrder, exchange);\n      } else {\n        return await tr7TradingBot.placeNewOrder(order, exchange);\n      }\n    })().then((res) => {\n      // console.log(\"JSON.stringify(res)\", JSON.stringify(res));\n      // if (res.success === false) {\n      //   addToast(Toast(\"PLACE ORDER\", res.message));\n      // } else {\n      //   addToast(Toast(\"PLACE ORDER\", JSON.stringify(res)));\n      // }\n      onCloseHandler(res);\n    });\n  }\n\n  function symbolChangeHandler(e) {\n    // console.log(symbolChangeHandler);\n    setOrderInfo(CUR_SYMBOL, e.target.value);\n  }\n\n  function levelPriceChangeHandler(e) {\n    setOrderInfo(PRICE, e.target.value);\n  }\n  function levelAmountChangeHandler(e) {\n    setOrderInfo(AMOUNT, e.target.value);\n  }\n  function typeChangeHandler(e) {\n    setOrderInfo(TYPE, e.target.value);\n  }\n  // console.log(userOrderParam[curSymbol]);\n  if (loading || userOrderParam[curSymbol] === null) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CForm ref={refForm} onSubmit={newOrderSubmitHandler}>\n          <CModalHeader>\n            <CModalTitle>\n              <h2>{exchange}</h2> Order w. Param\n            </CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className=\"d-flex d-flex-row justify-content-around\">\n              <CCol xs={10} lg={4}>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputSymbol\"\n                    className=\"\"\n                  >\n                    Symbol\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSymbol\"\n                    onChange={symbolChangeHandler}\n                    value={curSymbol}\n                  >\n                    {symbolListCurExchange.map((symbol, index) => {\n                      return <option key={index}>{symbol}</option>;\n                    })}\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputMode\">\n                    Mode\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputMode\"\n                    value={modeRef}\n                    onChange={(e) => {\n                      console.log(e.target.value);\n                      setOrderInfo(MODE, e.target.value);\n                    }}\n                  >\n                    <option>{MODE_ISOLATED}</option>\n                    <option>{MODE_CROSSED}</option>\n                  </CFormSelect>\n                </CInputGroup>\n\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputLeverage\">\n                    Leverage\n                  </CInputGroupText>\n                  <CFormInput\n                    type=\"number\"\n                    aria-label=\"leverage\"\n                    className=\"col-4\"\n                    id=\"inputLeverage\"\n                    min={1}\n                    max={50}\n                    value={leverageRef}\n                    onChange={(e) => setOrderInfo(LEVERAGE, e.target.value)}\n                  />\n                  <CInputGroupText component=\"label\">x</CInputGroupText>\n                </CInputGroup>\n                <CCallout color=\"primary\">\n                  <div>{`Available Balance`}</div>\n                  <div className=\"text-primary\">{`${availBalance} USDT`}</div>\n                </CCallout>\n              </CCol>\n              <CCol xs={10} lg={7}>\n                <CRow>\n                  <CCol>\n                    <CBadge color=\"info\">\n                      Mark Price:{\" \"}\n                      {Number(curSymbolMarkPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                  <CCol>\n                    <CBadge color=\"warning\">\n                      Last Price:{\" \"}\n                      {Number(curSymbolLastPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                </CRow>\n                <CRow className=\"my-2\">\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Direction\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputSide\"\n                        value={directionRef}\n                        onChange={(e) => {\n                          setOrderInfo(DIRECTION, e.target.value);\n                        }}\n                      >\n                        {exchange === EXCHANGE_GATEIO && (\n                          <option>{DIRECTION_BOTH}</option>\n                        )}\n                        <option>{DIRECTION_LONG}</option>\n                        <option>{DIRECTION_SHORT}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Type\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputType\"\n                        value={type}\n                        onChange={typeChangeHandler}\n                      >\n                        {exchange === EXCHANGE_BINANCE && (\n                          <option>{TYPE_LIMIT}</option>\n                        )}\n                        <option>{TYPE_MARKET}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                </CRow>\n                <CInputGroup className=\"mt-1 mb-2 md-col-4\">\n                  <CInputGroup className=\"mb-0\">\n                    <CInputGroupText component=\"label\" htmlFor={\"price\"}>\n                      Price\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      step=\"any\"\n                      placeholder=\"\"\n                      aria-label=\"price\"\n                      value={price}\n                      id={\"price\"}\n                      onChange={levelPriceChangeHandler}\n                      disabled={type === TYPE_MARKET}\n                    />\n\n                    <CInputGroupText component=\"label\" htmlFor={\"amout\"}>\n                      Amount\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      step=\"any\"\n                      placeholder=\"\"\n                      aria-label=\"amount\"\n                      value={amount}\n                      id={\"amount\"}\n                      onChange={levelAmountChangeHandler}\n                    />\n                  </CInputGroup>\n                </CInputGroup>\n                <CRow className=\"my-2\">\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputTP\">\n                        TP\n                      </CInputGroupText>\n                      <CFormInput\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"Take Profit\"\n                        value={takeProfitRef}\n                        onChange={(e) =>\n                          setOrderInfo(TAKE_PROFIT, e.target.value)\n                        }\n                        id=\"inputTP\"\n                        // disabled={type === TYPE_LIMIT}\n                      />\n                      <CInputGroupText component=\"label\">\n                        % price\n                      </CInputGroupText>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText\n                        className=\"\"\n                        component=\"label\"\n                        htmlFor=\"inputSL\"\n                      >\n                        SL\n                      </CInputGroupText>\n                      <CFormInput\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"stoploss percent\"\n                        value={stoplossRef}\n                        onChange={(e) =>\n                          setOrderInfo(STOP_LOSS, e.target.value)\n                        }\n                        id=\"inputSL\"\n                        // disabled={type === TYPE_LIMIT}\n                      />\n                      <CInputGroupText component=\"label\">\n                        % price\n                      </CInputGroupText>\n                    </CInputGroup>\n                  </CCol>\n                </CRow>\n              </CCol>\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <CButton color=\"secondary\" onClick={() => onCloseHandler()}>\n              Close\n            </CButton>\n            <CButton color=\"primary\" type=\"submit\">\n              Submit\n            </CButton>\n          </CModalFooter>\n        </CForm>\n      </>\n    );\n  }\n};\n\nexport default OrderWithParam;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n  CSpinner,\n  CToaster,\n  CCallout,\n} from \"@coreui/react\";\nimport Toast from \"../Toast.js\";\nimport { FRONT_INTERVAL_FETCH } from \"../../pages/Utils.js\";\n\nconst DEFAULT_SYMBOL = \"BTCUSDT\";\nconst DEFAULT_PROFIT_TARGET = \"30\";\nconst DEFAULT_LEVERAGE = \"5\";\nconst MODE_ISOLATED = \"Isolated\";\nconst MODE_CROSSED = \"Crossed\";\nconst DEFAULT_MODE = MODE_ISOLATED;\nconst DIRECTION_LONG = \"Long\";\nconst DIRECTION_SHORT = \"Short\";\nconst DEFAULT_DIRECTION = DIRECTION_SHORT;\nconst TYPE_MARKET = \"Market\";\nconst TYPE_LIMIT = \"Limit\";\nconst DEFAULT_TYPE = TYPE_MARKET;\nconst TP_THRESHOLD = 1;\nconst SL_THRESHOLD = 1;\nconst TYPE_PRICE = \"$\";\nconst TYPE_PERCENT = \"%\";\nconst TYPE_PERCENT_PRICE = 0;\nconst TYPE_PERCENT_BALANCE = 1;\n\nconst NewOrder = ({ onCloseHandler, onSubmitHandler, exchange }) => {\n  const [loading, $loading] = useState(true);\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const refForm = useRef(null);\n  const [symbolList, $symbolList] = useState([]);\n  const directionRef = useRef(DEFAULT_DIRECTION);\n  const profitTargetRef = useRef(DEFAULT_PROFIT_TARGET);\n  const [availBalance, $availBalance] = useState();\n  const leverageRef = useRef(DEFAULT_LEVERAGE);\n  const modeRef = useRef(DEFAULT_MODE);\n  const [curSymbol, $curSymbol] = useState(DEFAULT_SYMBOL);\n  const [type, $type] = useState(DEFAULT_TYPE);\n  const [price, $price] = useState();\n  const [amount, $amount] = useState();\n  const [curSymbolMarkPrice, $curSymbolMarkPrice] = useState(\"---\");\n  const [curSymbolLastPrice, $curSymbolLastPrice] = useState(\"---\");\n  const [curSymbolPricePrecision, $curSymbolPricePrecision] = useState(0);\n  const takeProfitRef = useRef(null);\n  const stoplossRef = useRef(null);\n\n  function resetDefaultFormData() {\n    $price(\"\");\n    $amount(\"\");\n  }\n  function fetchSymbolInfo(symbol) {\n    (async function getSymbolInfo() {\n      return await tr7TradingBot.getSymbolInfo(symbol);\n    })().then((res) => {\n      const accSymInfo = res.symbolInfo;\n      modeRef.current.value =\n        accSymInfo.isolated === true ? MODE_ISOLATED : MODE_CROSSED;\n      leverageRef.current.value = accSymInfo.leverage;\n    });\n  }\n  // get futures symbol list\n  useEffect(() => {\n    (async function fetchSymbolList() {\n      return await tr7TradingBot.getSymbolList();\n    })().then((res) => {\n      const sortSymbols = res.symbols.sort();\n      $symbolList(sortSymbols);\n    });\n    // account info\n    (async function fetchAccountInfo() {\n      return await tr7TradingBot.fetchAccountInfo();\n    })().then((res) => {\n      const account = res.accounts[0];\n      $availBalance(Number(account.availableBalance).toFixed(2));\n    });\n  }, []);\n\n  useEffect(() => {\n    function fetchSymbolInfoInvoke() {\n      (async function fetchSymbolMarketInfo() {\n        return await tr7TradingBot.getSymbolMarketInfo(curSymbol);\n      })().then((res) => {\n        const symbolInfo = res.symbolMarketInfo;\n        $curSymbolMarkPrice(symbolInfo.markPrice);\n        $curSymbolLastPrice(symbolInfo.lastPrice);\n        $curSymbolPricePrecision(\n          symbolInfo.pricePrecision < 100 ? symbolInfo.pricePrecision : 0\n        );\n      });\n    }\n    fetchSymbolInfoInvoke();\n    fetchSymbolInfo(curSymbol);\n    $loading(false);\n\n    if (!!curSymbol) {\n      const id = setInterval(fetchSymbolInfoInvoke, FRONT_INTERVAL_FETCH);\n      return () => clearInterval(id);\n    }\n  }, [curSymbol]);\n\n  function newOrderSubmitHandler(event) {\n    event.preventDefault();\n\n    // validate form data\n    if (type === TYPE_LIMIT && !price) {\n      addToast(Toast(\"Type: Limit\", \"Price should be set (larger than zero)\"));\n      return;\n    }\n    // if (takeProfitRef.current.value < TP_THRESHOLD) {\n    //   addToast(\n    //     Toast(\n    //       \"TAKE PROFIT\",\n    //       `Profit percent should be at least ${TP_THRESHOLD}%`\n    //     )\n    //   );\n    // }\n    // if (takeProfitRef.current.value < SL_THRESHOLD) {\n    //   addToast(\n    //     Toast(\"STOP LOSS\", `Profit percent should be at least ${SL_THRESHOLD}%`)\n    //   );\n    // }\n\n    // submit form data to server to place orders\n\n    // addToast(Toast(\"PLACE ORDER\", `submitting order...`));\n    (async function submitOrder() {\n      let order = {\n        symbol: curSymbol,\n        mode: modeRef.current.value,\n        side: directionRef.current.value,\n        leverage: leverageRef.current.value,\n        type: type,\n        amount: amount,\n        price: price,\n        tp: takeProfitRef.current.value,\n        sl: stoplossRef.current.value,\n        tpslPercentType: TYPE_PERCENT_BALANCE,\n      };\n      if (type === TYPE_LIMIT && (order.tp || order.sl)) {\n        const levels = [];\n        levels.push([price, amount]);\n        const gridOrder = {\n          symbol: curSymbol,\n          mode: modeRef.current.value,\n          direction: directionRef.current.value,\n          leverage: leverageRef.current.value,\n          repeatTime: 1,\n          sizeUnit: \"USD\",\n          levels: [...levels],\n          takeProfit: {\n            trigger: \"mark\",\n            type: \"market\",\n            tpType: TYPE_PERCENT,\n            value: takeProfitRef.current.value,\n            percentType: TYPE_PERCENT_BALANCE,\n          },\n          stopLoss: {\n            trigger: \"last\",\n            type: \"limit\",\n            slType: TYPE_PERCENT,\n            value: stoplossRef.current.value,\n            percentType: TYPE_PERCENT_BALANCE,\n          },\n        };\n        console.log(\"gridOrder\", gridOrder);\n        return await tr7TradingBot.placeGridOrder(gridOrder, exchange);\n      } else {\n        return await tr7TradingBot.placeNewOrder(order, exchange);\n      }\n    })().then((res) => {\n      addToast(Toast(\"PLACE ORDER\", JSON.stringify(res)));\n      onCloseHandler();\n    });\n  }\n\n  function symbolChangeHandler(e) {\n    $curSymbol(e.target.value);\n    resetDefaultFormData();\n  }\n\n  function levelPriceChangeHandler(e) {\n    $price(Number(e.target.value));\n  }\n  function levelAmountChangeHandler(e) {\n    $amount(Number(e.target.value));\n  }\n  function typeChangeHandler(e) {\n    $type(e.target.value);\n  }\n\n  if (loading) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CForm ref={refForm} onSubmit={newOrderSubmitHandler}>\n          <CModalHeader>\n            <CModalTitle>New Order</CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className=\"d-flex d-flex-row justify-content-around\">\n              <CCol xs={10} lg={4}>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputSymbol\"\n                    className=\"\"\n                  >\n                    Symbol\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSymbol\"\n                    onChange={symbolChangeHandler}\n                    value={curSymbol}\n                  >\n                    {symbolList.map((symbol, index) => {\n                      return <option key={index}>{symbol}</option>;\n                    })}\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputMode\">\n                    Mode\n                  </CInputGroupText>\n                  <CFormSelect\n                    ref={modeRef}\n                    id=\"inputMode\"\n                    defaultValue={DEFAULT_MODE}\n                  >\n                    <option>{MODE_ISOLATED}</option>\n                    <option>{MODE_CROSSED}</option>\n                  </CFormSelect>\n                </CInputGroup>\n\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputLeverage\">\n                    Leverage\n                  </CInputGroupText>\n                  <CFormInput\n                    ref={leverageRef}\n                    type=\"number\"\n                    aria-label=\"profit target\"\n                    className=\"col-4\"\n                    defaultValue={DEFAULT_LEVERAGE}\n                    id=\"inputLeverage\"\n                  />\n                  <CInputGroupText component=\"label\">x</CInputGroupText>\n                </CInputGroup>\n                <CCallout color=\"primary\">\n                  <div>{`Available Balance`}</div>\n                  <div className=\"text-primary\">{`${availBalance} USDT`}</div>\n                </CCallout>\n              </CCol>\n              <CCol xs={10} lg={7}>\n                <CRow>\n                  <CCol>\n                    <CBadge color=\"info\">\n                      Mark Price:{\" \"}\n                      {Number(curSymbolMarkPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                  <CCol>\n                    <CBadge color=\"warning\">\n                      Last Price:{\" \"}\n                      {Number(curSymbolLastPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </CCol>\n                </CRow>\n                <CInputGroup className=\"mt-1 mb-2 md-col-4\">\n                  {/* <CRow> */}\n                  <CCol xs={12} lg={6} className=\"mr-2\">\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Direction\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputSide\"\n                        ref={directionRef}\n                        defaultValue={DEFAULT_DIRECTION}\n                      >\n                        <option>{DIRECTION_LONG}</option>\n                        <option>{DIRECTION_SHORT}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                        Type\n                      </CInputGroupText>\n                      <CFormSelect\n                        id=\"inputType\"\n                        value={type}\n                        onChange={typeChangeHandler}\n                      >\n                        <option>{TYPE_LIMIT}</option>\n                        <option>{TYPE_MARKET}</option>\n                      </CFormSelect>\n                    </CInputGroup>\n                  </CCol>\n                  {/* </CRow> */}\n\n                  <CInputGroup className=\"mb-0\" size=\"md\">\n                    <CInputGroupText component=\"label\" htmlFor={\"price\"}>\n                      Price\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      step=\"any\"\n                      placeholder=\"\"\n                      aria-label=\"price\"\n                      defaultValue=\"\"\n                      // value={price}\n                      id={\"price\"}\n                      onChange={levelPriceChangeHandler}\n                      disabled={type === TYPE_MARKET}\n                    />\n\n                    <CInputGroupText component=\"label\" htmlFor={\"amout\"}>\n                      Amount\n                    </CInputGroupText>\n                    <CFormInput\n                      type=\"number\"\n                      step=\"any\"\n                      placeholder=\"\"\n                      aria-label=\"amount\"\n                      defaultValue=\"\"\n                      id={\"amount\"}\n                      onChange={levelAmountChangeHandler}\n                    />\n                  </CInputGroup>\n                </CInputGroup>\n                <CRow className=\"my-2\">\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputTP\">\n                        TP\n                      </CInputGroupText>\n                      <CFormInput\n                        ref={takeProfitRef}\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"Take Profit\"\n                        // className=\"col-4\"\n                        defaultValue=\"\"\n                        id=\"inputTP\"\n                        // disabled={type === TYPE_LIMIT}\n                      />\n                      <CInputGroupText component=\"label\">\n                        % marg.\n                      </CInputGroupText>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={12} lg={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText\n                        className=\"\"\n                        component=\"label\"\n                        htmlFor=\"inputSL\"\n                      >\n                        SL\n                      </CInputGroupText>\n                      <CFormInput\n                        ref={stoplossRef}\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"stoploss percent\"\n                        // className=\"col-4\"\n                        defaultValue=\"\"\n                        id=\"inputSL\"\n                        // disabled={type === TYPE_LIMIT}\n                      />\n                      <CInputGroupText component=\"label\">\n                        % marg.\n                      </CInputGroupText>\n                    </CInputGroup>\n                  </CCol>\n                </CRow>\n              </CCol>\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <CButton color=\"secondary\" onClick={() => onCloseHandler()}>\n              Close\n            </CButton>\n            <CButton color=\"primary\" type=\"submit\">\n              Submit\n            </CButton>\n          </CModalFooter>\n        </CForm>\n      </>\n    );\n  }\n};\n\nexport default NewOrder;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport Toast from \"../Toast.js\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CModalHeader,\n  CModalTitle,\n  CModalBody,\n  CModalFooter,\n  CForm,\n  CFormSelect,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CBadge,\n  CSpinner,\n  CToaster,\n  CCallout,\n  CFormSwitch,\n  CFormLabel,\n} from \"@coreui/react\";\nimport { FRONT_INTERVAL_FETCH } from \"../../pages/Utils.js\";\n\nconst SIZE_UNIT_USD = \"USD\";\nconst SIZE_UNIT_COIN = \"COIN\";\nconst TYPE_PRICE = \"$\";\nconst TYPE_PERCENT = \"%\";\nconst TYPE_PERCENT_PRICE = 0;\nconst TYPE_PERCENT_BALANCE = 1;\n\nconst DEFAULT_MAX_BALANCE = \"1000\";\nconst DEFAULT_REPEAT_TIME = 1;\nconst DEFAULT_NO_LEVEL = 5;\nconst DEFAULT_SYMBOL = \"BTCUSDT\";\nconst DEFAULT_PROFIT_TARGET = \"30\";\nconst DEFAULT_LEVERAGE = \"5\";\nconst DEFAULT_SIZE_UNIT = SIZE_UNIT_USD;\nconst MODE_ISOLATED = \"Isolated\";\nconst MODE_CROSSED = \"Crossed\";\nconst DEFAULT_MODE = MODE_ISOLATED;\nconst DIRECTION_LONG = \"Long\";\nconst DIRECTION_SHORT = \"Short\";\nconst DEFAULT_DIRECTION = DIRECTION_SHORT;\nconst TYPE_MARKET = \"Market\";\nconst TYPE_LIMIT = \"Limit\";\nconst DEFAULT_TYPE = TYPE_MARKET;\nconst TP_THRESHOLD = 1;\nconst SL_THRESHOLD = 1;\n\nconst NewMultiOrder = ({ onCloseHandler, onSubmitHandler, exchange }) => {\n  const [loading, $loading] = useState(true);\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const refForm = useRef(null);\n  const [symbolList, $symbolList] = useState([]);\n  const directionRef = useRef(DEFAULT_DIRECTION);\n  const profitTargetRef = useRef(DEFAULT_PROFIT_TARGET);\n  const leverageRef = useRef(DEFAULT_LEVERAGE);\n  const modeRef = useRef(DEFAULT_MODE);\n  const [availBalance, $availBalance] = useState();\n  const [curSymbol, $curSymbol] = useState(DEFAULT_SYMBOL);\n  const [curSymbolInfo, $curSymbolInfo] = useState();\n  const [repeatTime, $repeatTime] = useState(DEFAULT_REPEAT_TIME);\n  const [numberLevels, $numberLevels] = useState(DEFAULT_NO_LEVEL);\n  const [sizeUnit, $sizeUnit] = useState(DEFAULT_SIZE_UNIT);\n  const [prices, $prices] = useState(Array(DEFAULT_NO_LEVEL));\n  const [sizes, $sizes] = useState(Array(DEFAULT_NO_LEVEL));\n  const [amounts, $amounts] = useState(Array(DEFAULT_NO_LEVEL));\n  const [totalSize, $totalSize] = useState(null);\n  const [averagePrice, $averagePrice] = useState(null);\n  const [curSymbolMarkPrice, $curSymbolMarkPrice] = useState(\"---\");\n  const [curSymbolLastPrice, $curSymbolLastPrice] = useState(\"---\");\n  const [curSymbolPricePrecision, $curSymbolPricePrecision] = useState(0);\n  const [curSymbolMinUSDSize, $curSymbolMinUSDSize] = useState(\"--\");\n  const [curSymbolMinCoinSize, $curSymbolMinCoinSize] = useState(\"--\");\n  const [takeprofitType, $takeprofitType] = useState(TYPE_PERCENT);\n  const takeProfitRef = useRef(null);\n  const [stoplossType, $stoplossType] = useState(TYPE_PERCENT);\n  const stoplossRef = useRef(null);\n  const [timerId, $timerId] = useState();\n\n  function resetDefaultFormData() {\n    $numberLevels(DEFAULT_NO_LEVEL);\n    $prices(new Array(DEFAULT_NO_LEVEL));\n    $sizes(new Array(DEFAULT_NO_LEVEL));\n  }\n\n  // get futures symbol list\n  useEffect(() => {\n    (async function fetchSymbolList() {\n      const res = await tr7TradingBot.getSymbolList();\n      const sortSymbols = res.symbols.sort();\n      $symbolList(sortSymbols);\n    })();\n    // account info\n    (async function fetchAccountInfo() {\n      const res = await tr7TradingBot.fetchAccountInfo();\n      const account = res.accounts[0];\n      $availBalance(Number(account.availableBalance).toFixed(2));\n    })();\n  }, []);\n\n  useEffect(() => {\n    function fetchSymbolInfo(symbol) {\n      (async function getSymbolInfo() {\n        const res = await tr7TradingBot.getSymbolInfo(symbol);\n        const accSymInfo = res.symbolInfo;\n        // console.log(\"res\", res);\n        modeRef.current.value =\n          accSymInfo.isolated === true ? MODE_ISOLATED : MODE_CROSSED;\n        leverageRef.current.value = accSymInfo.leverage;\n        $curSymbolInfo(accSymInfo);\n      })();\n    }\n    function fetchSymbolInfoInvoke() {\n      (async function () {\n        const res = await tr7TradingBot.getSymbolMarketInfo(curSymbol);\n        // console.log(\"getSymbolMarketInfo\", res);\n        const symbolInfo = res.symbolMarketInfo;\n        $curSymbolMarkPrice(symbolInfo.markPrice);\n        $curSymbolLastPrice(symbolInfo.lastPrice);\n        // console.log(symbolInfo.pricePrecision);\n        $curSymbolPricePrecision(\n          symbolInfo.pricePrecision < 100 ? symbolInfo.pricePrecision : 0\n        );\n      })();\n    }\n    // invoke\n    fetchSymbolInfoInvoke();\n    fetchSymbolInfo(curSymbol);\n\n    $loading(false);\n\n    if (!!curSymbol) {\n      const id = setInterval(fetchSymbolInfoInvoke, FRONT_INTERVAL_FETCH);\n      $timerId(id);\n      return () => clearInterval(id);\n    }\n  }, [curSymbol]);\n  //\n  function roundAmount(qty, stepSize) {\n    // Integers do not require rounding\n    if (Number.isInteger(qty)) return qty;\n\n    const qtyString = parseFloat(qty).toFixed(16);\n    const desiredDecimals = Math.max(stepSize.indexOf(\"1\") - 1, 0);\n    const decimalIndex = qtyString.indexOf(\".\");\n    const floatAmount = parseFloat(\n      qtyString.slice(0, decimalIndex + desiredDecimals + 1)\n    );\n    // console.log(\"floatAmount\", floatAmount);\n    return floatAmount;\n  }\n  useEffect(() => {\n    if (!curSymbolInfo) return;\n\n    // Set minimum order amount with minQty\n    let amount = curSymbolInfo.minQty;\n    // Set minimum order amount with minNotional\n    if (curSymbolLastPrice * amount < curSymbolInfo.minNotional) {\n      amount = curSymbolInfo.minNotional / curSymbolLastPrice;\n    }\n    // console.log(\"amount\", amount, \"curSymbolInfo\", curSymbolInfo);\n    amount = roundAmount(amount, curSymbolInfo.stepSize);\n    if (amount * curSymbolLastPrice < curSymbolInfo.minNotional) {\n      amount += parseFloat(curSymbolInfo.stepSize);\n    }\n    //\n    let minUsdSize = amount * curSymbolLastPrice;\n    $curSymbolMinUSDSize(minUsdSize);\n    $curSymbolMinCoinSize(amount);\n  }, [curSymbolLastPrice, curSymbolInfo]);\n\n  function printoutAmounts(price, amount) {\n    if (price > 0 && amount > 0 && curSymbolInfo.stepSize) {\n      let amt = roundAmount(amount, curSymbolInfo.stepSize);\n      const usdSize = (amt * price).toFixed(curSymbolPricePrecision);\n      return `~${amt}/${usdSize}$`;\n    }\n  }\n\n  // calculate again average price, if both level price and amount are present\n  useEffect(() => {\n    let avgPrice = 0;\n    let totalAmount = 0;\n    let totalSize = 0;\n    let totalBalanceSize = 0;\n    const list = prices.slice(0, numberLevels);\n    let amounts = [];\n    list.forEach((price, index) => {\n      const size = sizes[index];\n      if (price > 0 && size > 0) {\n        //\n        let tempAmount = size;\n        if (sizeUnit === SIZE_UNIT_USD) {\n          let amount = size / price;\n          tempAmount = roundAmount(amount, curSymbolInfo.stepSize);\n        }\n        amounts[index] = tempAmount;\n        //\n        totalSize += tempAmount * price;\n        totalAmount += tempAmount;\n        totalBalanceSize += tempAmount * price;\n      }\n    });\n    // const rawAvgPrice = totalBalanceSize / totalAmount;\n    totalSize = totalSize.toFixed(curSymbolPricePrecision);\n    avgPrice = (totalBalanceSize / totalAmount).toFixed(\n      curSymbolPricePrecision\n    );\n    $amounts((curAmounts) => {\n      const tempAmounts = [...amounts];\n      return tempAmounts;\n    });\n    $averagePrice(avgPrice);\n    $totalSize(totalSize);\n  }, [prices, sizes, numberLevels]);\n\n  function submitNewTradeHandler(event) {\n    event.preventDefault();\n    //\n    clearInterval(timerId);\n    // validate form data\n    // console.log(curSymbol);\n    // console.log(directionRef.current.value, profitTargetRef.current.value);\n    // console.log(modeRef.current.value, leverageRef.current.value);\n    // console.log(prices, sizes);\n    // console.log(takeProfitRef.current.value, stoplossRef.current.value);\n    // submit form data to server to place orders\n    // addToast(Toast(\"PLACE ORDER\", `submitting order...`));\n    (async function submitGridOrder() {\n      const levels = [];\n      const listPrices = prices.slice(0, numberLevels);\n      listPrices.forEach((price, index) => {\n        const size = sizes[index];\n        const amount = amounts[index];\n        if (price > 0 && size > 0) {\n          levels.push([price, size, amount]);\n        }\n      });\n      const gridOrder = {\n        symbol: curSymbol,\n        mode: modeRef.current.value,\n        direction: directionRef.current.value,\n        leverage: leverageRef.current.value,\n        repeatTime: repeatTime,\n        sizeUnit: sizeUnit,\n        levels: [...levels],\n        takeProfit: {\n          trigger: \"mark\",\n          type: \"market\",\n          tpType: takeprofitType,\n          value: takeProfitRef.current.value,\n          percentType: TYPE_PERCENT_BALANCE,\n        },\n        stopLoss: {\n          trigger: \"last\",\n          type: \"limit\",\n          slType: stoplossType,\n          value: stoplossRef.current.value,\n          percentType: TYPE_PERCENT_BALANCE,\n        },\n      };\n      // console.log(gridOrder);\n      return await tr7TradingBot.placeGridOrder(gridOrder, exchange);\n    })().then((res) => {\n      // console.log(res);\n      addToast(Toast(\"PLACE ORDER\", JSON.stringify(res)));\n      onCloseHandler();\n    });\n  }\n\n  function symbolChangeHandler(e) {\n    // $loading(true);\n    $curSymbol(e.target.value);\n    resetDefaultFormData();\n  }\n  function inputRepeatTimeChangeHandler(e) {\n    $repeatTime(e.target.value);\n  }\n  function inputLevelsChangeHandler(e) {\n    $numberLevels(e.target.value);\n  }\n  function sizeUnitClickHandler(e) {\n    // console.log(e.target.value);\n    const curUnit = sizeUnit;\n    if (e.target.value === \"on\") {\n      e.target.value = \"off\";\n    } else {\n      e.target.value = \"on\";\n    }\n    $sizeUnit(e.target.value === \"on\" ? SIZE_UNIT_USD : SIZE_UNIT_COIN);\n    let tempSizes = [...sizes];\n    sizes.forEach((size, index) => {\n      if (prices[index] > 0 && size > 0) {\n        // convert to coin\n        if (curUnit === SIZE_UNIT_USD) {\n          tempSizes[index] = size / prices[index];\n        } else {\n          tempSizes[index] = size * prices[index];\n        }\n      }\n    });\n    $sizes(() => tempSizes);\n  }\n\n  function levelPriceChangeHandler(e) {\n    const index = Number(e.target.id.replace(\"price\", \"\"));\n    $prices((curPrices) => {\n      const tempPrices = [...curPrices];\n      tempPrices[index] = Number(e.target.value);\n      return tempPrices;\n    });\n  }\n  function levelAmountChangeHandler(e) {\n    const index = Number(e.target.id.replace(\"amount\", \"\"));\n    $sizes((curSizes) => {\n      const tempSizes = [...curSizes];\n      tempSizes[index] = Number(e.target.value);\n      return tempSizes;\n    });\n  }\n\n  if (loading) {\n    return <CSpinner color=\"info\" />;\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CForm ref={refForm} onSubmit={submitNewTradeHandler}>\n          <CModalHeader>\n            <CModalTitle>New Multi-Level Order</CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className=\"d-flex d-flex-row justify-content-around\">\n              <CCol xs={12} lg={4}>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText\n                    component=\"label\"\n                    htmlFor=\"inputSymbol\"\n                    className=\"\"\n                  >\n                    Symbol\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSymbol\"\n                    onChange={symbolChangeHandler}\n                    value={curSymbol}\n                  >\n                    {symbolList.map((symbol, index) => {\n                      return (\n                        <option\n                          key={index}\n                          // selected={symbol === DEFAULT_SYMBOL ? true : false}\n                        >\n                          {symbol}\n                        </option>\n                      );\n                    })}\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputMode\">\n                    Mode\n                  </CInputGroupText>\n                  <CFormSelect\n                    ref={modeRef}\n                    id=\"inputMode\"\n                    defaultValue={DEFAULT_MODE}\n                  >\n                    <option>{MODE_ISOLATED}</option>\n                    <option>{MODE_CROSSED}</option>\n                  </CFormSelect>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputLeverage\">\n                    Leverage\n                  </CInputGroupText>\n                  <CFormInput\n                    ref={leverageRef}\n                    type=\"number\"\n                    // placeholder=\"5\"\n                    aria-label=\"profit target\"\n                    className=\"col-4\"\n                    defaultValue={DEFAULT_LEVERAGE}\n                    id=\"inputLeverage\"\n                  />\n                  <CInputGroupText component=\"label\">x</CInputGroupText>\n                </CInputGroup>\n                <CInputGroup className=\"mb-2\">\n                  <CInputGroupText component=\"label\" htmlFor=\"inputSide\">\n                    Direction\n                  </CInputGroupText>\n                  <CFormSelect\n                    id=\"inputSide\"\n                    ref={directionRef}\n                    defaultValue={DEFAULT_DIRECTION}\n                  >\n                    <option>{DIRECTION_LONG}</option>\n                    <option>{DIRECTION_SHORT}</option>\n                  </CFormSelect>\n                </CInputGroup>\n                {/* <CInputGroup className=\"mb-2\">\n              <CInputGroupText component=\"label\" htmlFor=\"inputTargetProfit\">\n                Profit Target\n              </CInputGroupText>\n              <CFormInput\n                ref={profitTargetRef}\n                type=\"number\"\n                // placeholder=\"10\"\n                aria-label=\"profit target\"\n                className=\"col-4\"\n                defaultValue={DEFAULT_PROFIT_TARGET}\n                id=\"inputTargetProfit\"\n              />\n              <CInputGroupText component=\"label\">%</CInputGroupText>\n            </CInputGroup> */}\n                <CCallout color=\"primary\">\n                  <div>{`Available Balance`}</div>\n                  <div className=\"text-primary\">{`${availBalance} USDT`}</div>\n                </CCallout>\n              </CCol>\n              <CCol xs={12} lg={8}>\n                <div className=\"d-flex flex-wrap justify-content-between\">\n                  <div xs={4}>\n                    <CBadge color=\"info\">\n                      Mark Price:{\" \"}\n                      {Number(curSymbolMarkPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </div>\n                  <div xs={4}>\n                    <CBadge color=\"warning\">\n                      Last Price:{\" \"}\n                      {Number(curSymbolLastPrice).toFixed(\n                        curSymbolPricePrecision\n                      )}\n                    </CBadge>\n                  </div>\n                  <div xs={4}>\n                    <CFormSwitch\n                      label={sizeUnit}\n                      id=\"sizeUnit\"\n                      defaultChecked\n                      onClick={sizeUnitClickHandler}\n                    />\n                    <CFormLabel>{`Min. ${curSymbolMinCoinSize}/${Number(\n                      curSymbolMinUSDSize\n                    ).toFixed(curSymbolPricePrecision)}$`}</CFormLabel>\n                  </div>\n                </div>\n                <CInputGroup className=\"mt-1 mb-2 md-col-4\">\n                  <CRow className=\"my-2\">\n                    <CCol>\n                      <CInputGroup className=\"mb-0\">\n                        <CInputGroupText\n                          component=\"label\"\n                          htmlFor=\"inputLevels\"\n                        >\n                          Repeat\n                        </CInputGroupText>\n                        <CFormInput\n                          type=\"number\"\n                          placeholder={repeatTime}\n                          aria-label=\"\"\n                          // defaultValue={numberLevels}\n                          value={repeatTime}\n                          id=\"reapeatTime\"\n                          onChange={inputRepeatTimeChangeHandler}\n                        />\n                      </CInputGroup>\n                    </CCol>\n                    <CCol>\n                      <CInputGroup className=\"mb-0\">\n                        <CInputGroupText\n                          component=\"label\"\n                          htmlFor=\"inputLevels\"\n                        >\n                          Levels\n                        </CInputGroupText>\n                        <CFormInput\n                          type=\"number\"\n                          // delay={true}\n                          placeholder={numberLevels}\n                          aria-label=\"\"\n                          // defaultValue={numberLevels}\n                          value={numberLevels}\n                          id=\"inputLevels\"\n                          onChange={inputLevelsChangeHandler}\n                        />\n                      </CInputGroup>\n                    </CCol>\n                  </CRow>\n\n                  {!!numberLevels &&\n                    sizes &&\n                    Array.from({ length: numberLevels }).map((level, index) => {\n                      return (\n                        <CInputGroup className=\"mb-0\" key={index} size=\"sm\">\n                          <CInputGroupText\n                            component=\"label\"\n                            htmlFor={\"price\" + index}\n                          >\n                            Price {index + 1}\n                          </CInputGroupText>\n                          <CFormInput\n                            type=\"number\"\n                            step=\"any\"\n                            placeholder=\"\"\n                            aria-label=\"price\"\n                            defaultValue=\"\"\n                            // value={prices[index]}\n                            id={\"price\" + index}\n                            onChange={levelPriceChangeHandler}\n                          />\n\n                          <CInputGroupText\n                            component=\"label\"\n                            htmlFor={\"amout\" + index}\n                          >\n                            Size {index + 1}\n                          </CInputGroupText>\n                          <CFormInput\n                            type=\"number\"\n                            step=\"any\"\n                            placeholder=\"\"\n                            aria-label=\"amount\"\n                            // defaultValue=\"\"\n                            id={\"amount\" + index}\n                            onChange={levelAmountChangeHandler}\n                            value={sizes[index]}\n                          />\n\n                          <CInputGroupText\n                            className=\"text-info\"\n                            component=\"label\"\n                            htmlFor={\"price\" + index}\n                          >\n                            {printoutAmounts(prices[index], amounts[index])}\n                          </CInputGroupText>\n                        </CInputGroup>\n                      );\n                    })}\n                </CInputGroup>\n                <CRow>\n                  <CCol xs={6} md={4}>\n                    <CBadge color=\"danger\">Avg Price: {averagePrice}$</CBadge>\n                  </CCol>\n                  <CCol xs={6} md={4}>\n                    <CBadge color=\"warning\">Total Size: {totalSize}$</CBadge>\n                  </CCol>\n                  <CCol xs={6} md={4}>\n                    <CBadge color=\"warning\">\n                      Balance:{\" \"}\n                      {(totalSize / leverageRef.current.value).toFixed(2)}$\n                    </CBadge>\n                  </CCol>\n                </CRow>\n                <CRow className=\"my-2\">\n                  <CCol xs={12} md={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText component=\"label\" htmlFor=\"inputTP\">\n                        TP\n                      </CInputGroupText>\n                      <CFormInput\n                        ref={takeProfitRef}\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"Take Profit\"\n                        // className=\"col-4\"\n                        defaultValue=\"\"\n                        id=\"inputTP\"\n                      />\n                      <CButton\n                        onClick={() =>\n                          $takeprofitType(\n                            takeprofitType === TYPE_PERCENT\n                              ? TYPE_PRICE\n                              : TYPE_PERCENT\n                          )\n                        }\n                      >\n                        {takeprofitType}\n                      </CButton>\n                    </CInputGroup>\n                  </CCol>\n                  <CCol xs={12} md={6}>\n                    <CInputGroup className=\"mb-1\">\n                      <CInputGroupText\n                        className=\"\"\n                        component=\"label\"\n                        htmlFor=\"inputSL\"\n                      >\n                        SL\n                      </CInputGroupText>\n                      <CFormInput\n                        ref={stoplossRef}\n                        type=\"number\"\n                        placeholder=\"\"\n                        aria-label=\"stoploss percent\"\n                        // className=\"col-4\"\n                        defaultValue=\"\"\n                        id=\"inputSL\"\n                      />\n                      <CButton\n                        onClick={() =>\n                          $stoplossType(\n                            stoplossType === TYPE_PERCENT\n                              ? TYPE_PRICE\n                              : TYPE_PERCENT\n                          )\n                        }\n                      >\n                        {stoplossType}\n                      </CButton>\n                    </CInputGroup>\n                  </CCol>\n                </CRow>\n              </CCol>\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <CButton color=\"secondary\" onClick={() => onCloseHandler()}>\n              Close\n            </CButton>\n            <CButton color=\"primary\" type=\"submit\">\n              Submit\n            </CButton>\n          </CModalFooter>\n        </CForm>\n      </>\n    );\n  }\n};\n\nexport default NewMultiOrder;\n","import {\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n  CTable,\n  CTableHead,\n  CTableBody,\n  CTableRow,\n  CTableHeaderCell,\n  CTableDataCell,\n} from \"@coreui/react\";\nimport Symbol from \"../../components/Data/Symbol\";\nimport dayjs from \"dayjs\";\nimport _ from \"lodash\";\n\nconst PriceTriggerOrderCard = (props) => {\n  const { orderHeader, orderValue } = props;\n  const numberFields = _.size(orderHeader);\n  const symbol = orderValue[0];\n  const time = orderValue[1];\n  // const [time, symbol, type, side, price, amount, reduceOnly, tpSl] = orderValue;\n\n  return (\n    <CCol xs={12} md={6} xl={4}>\n      <CCard className=\"mx-1 mb-2\" color=\"secondary\" textColor=\"white\">\n        <CCardHeader>\n          <div className=\"d-flex d-flex-row justify-content-between align-items-center\">\n            <Symbol symbol={symbol} />\n            <div className=\"mx-2\" style={{ fontSize: \"smaller\" }}>\n              {time}\n            </div>\n          </div>\n        </CCardHeader>\n        <CCardBody>\n          <CTable\n            striped\n            hover\n            responsive\n            color=\"light\"\n            className=\"smaller-text mt-2\"\n            style={{ width: \"100%\" }}\n          >\n            <CTableBody style={{ overflowY: \"auto\" }}>\n              {orderHeader.slice(2, numberFields).map((item, index) => {\n                return (\n                  <CTableRow key={index}>\n                    <CTableHeaderCell>{item}</CTableHeaderCell>\n                    <CTableDataCell>{orderValue[index + 2]}</CTableDataCell>\n                  </CTableRow>\n                );\n              })}\n            </CTableBody>\n          </CTable>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  );\n};\n\nconst Orders = ({ openOrders }) => {\n  const ordersHeader = [\n    \"Contract\",\n    \"Created At\",\n    \"Side\",\n    \"Trigger Price\",\n    \"Order Price\",\n    \"Qty (USDT)\",\n    \"Remarks\",\n    // \"TP/SL\",\n  ];\n  const curOrders = [];\n  // console.log(\"openOrders[0]\", openOrders[0]);\n  // console.log(\"openOrders[1]\", openOrders[1]);\n  openOrders.forEach((order) => {\n    const { initial, trigger, orderType, createTime } = order;\n    // console.log(\"openOrders.forEach\", order);\n    const tempOrder = [];\n    const time = dayjs(createTime * 1000).format(\"DD/MM HH:mm:ss\");\n    const tpSlSide = `${orderType} / ${\n      (trigger.rule === 1 &&\n        (orderType === \"close-short-order\" ||\n          orderType === \"close-short-position\")) ||\n      (trigger.rule === 2 &&\n        (orderType === \"close-long-order\" ||\n          orderType === \"close-long-position\"))\n        ? \"Stop Loss\"\n        : \"Take Profit\"\n    }`;\n    const triggerPrice =\n      trigger.priceType === 0\n        ? trigger.rule === 1\n          ? `Last Price >= ${trigger.price}`\n          : `Last Price <= ${trigger.price}`\n        : `???`;\n    const orderPrice = Number(initial.price) === 0 ? `Market` : `???`;\n    const orderQtyUSDT =\n      initial.size === 0\n        ? `Cross`\n        : `${Math.abs(\n            initial.size * Number(order.quantoMultiplier) * trigger.price\n          ).toFixed(4)}`;\n    const remarks = initial.isReduceOnly === true ? `Reduce-Only` : `???`;\n    //\n    tempOrder.push(initial.contract);\n    tempOrder.push(time);\n    tempOrder.push(tpSlSide);\n    tempOrder.push(triggerPrice);\n    tempOrder.push(orderPrice);\n    tempOrder.push(orderQtyUSDT);\n    tempOrder.push(remarks);\n    // tempOrder.push(\"--\");\n\n    curOrders.push(tempOrder);\n  });\n  return (\n    <>\n      <CRow>\n        <CCol xl={12}>\n          <CCard className=\"mb-4\">\n            <CCardHeader>Trigger Orders ({openOrders.length})</CCardHeader>\n            <CCardBody>\n              {openOrders.length > 0 && (\n                <>\n                  <div id=\"orders-card\" className=\"d-flex flex-wrap\">\n                    {curOrders.map((order, index) => {\n                      return (\n                        <PriceTriggerOrderCard\n                          orderHeader={ordersHeader}\n                          orderValue={order}\n                        />\n                      );\n                    })}\n                  </div>\n                  <CTable id=\"orders-table\">\n                    <CTableHead>\n                      <tr>\n                        {ordersHeader.map((header, index) => {\n                          return <th key={index}>{header}</th>;\n                        })}\n                      </tr>\n                    </CTableHead>\n                    <CTableBody>\n                      {curOrders.map((order, index) => {\n                        return (\n                          <tr index={index}>\n                            {order.map((value, idx) => {\n                              return (\n                                <td>\n                                  <span className=\"h6\">{value}</span>\n                                </td>\n                              );\n                            })}\n                          </tr>\n                        );\n                      })}\n                    </CTableBody>\n                  </CTable>\n                </>\n              )}\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </>\n  );\n};\n\nexport default Orders;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot, {\n  EXCHANGE_BINANCE,\n  EXCHANGE_GATEIO,\n  EXCHANGE_BYBIT,\n} from \"../../Model/tr7-trading-bot.js\";\nimport {\n  CToaster,\n  CRow,\n  CCol,\n  CSpinner,\n  CModal,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CButtonGroup,\n  CFormCheck,\n} from \"@coreui/react\";\nimport Positions from \"./Positions.js\";\nimport Orders from \"./Orders.js\";\nimport OrderWithParam from \"../../components/Trade/OrderWithSaveParam.js\";\nimport NewOrder from \"../../components/Trade/NewOrder.js\";\nimport NewMultiOrder from \"../../components/Trade/NewMultiLevelOrder.js\";\nimport _ from \"lodash\";\nimport Toast from \"../../components/Toast\";\n\nimport { FRONT_INTERVAL_FETCH } from \"../Utils.js\";\nimport {\n  useFuturesOrderInfo,\n  CUR_EXCHANGE,\n  CUR_SYMBOL,\n  MODE,\n  LEVERAGE,\n  DIRECTION,\n  TYPE,\n  PRICE,\n  AMOUNT,\n  TAKE_PROFIT,\n  STOP_LOSS,\n  DEFAULT_SYMBOL,\n  DEFAULT_SYMBOL_GATEIO,\n  DEFAULT_SYMBOL_BYBIT,\n} from \"../../Provider/FuturesOrderInfo.js\";\nimport GateIOPriceTriggerOrders from \"./GateIOPriceTriggerOrders.js\";\n\nconst ManualGrid = () => {\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n  const {\n    loading,\n    symbolList,\n    symbolListGateIO,\n    symbolListByBit,\n    curExchange,\n    curSymbol,\n    userOrderParam,\n    setOrderInfo,\n  } = useFuturesOrderInfo();\n  // console.log(\"curExchange\", curExchange, \"curSymbol\", curSymbol);\n  // const [exchange, $exchange] = useState(EXCHANGE_BINANCE);\n  const [response, $response] = useState(null);\n  const [positions, $positions] = useState(null);\n  const [openOrders, $openOrders] = useState(null);\n  const [priceTriggerOrders, $priceTriggerOrders] = useState(null);\n  const [newMarketOrderVisible, $newMarketOrderVisible] = useState(false);\n  const [newTradeVisible, $newTradeVisible] = useState(false);\n  const [newMultiOrderVisible, $newMultiOrderVisible] = useState(false);\n\n  function exchangeChangeHandler(exchange) {\n    if (exchange !== curExchange) {\n      addToast(null);\n      $openOrders(null);\n      $positions(null);\n      $priceTriggerOrders(null);\n      setOrderInfo(CUR_EXCHANGE, exchange);\n    }\n  }\n  // pull all current trades, then laying out as separated as symbol with the button to close position\n  async function fetchSomeBotData(exchange) {\n    const response = await tr7TradingBot.getPositions(exchange);\n    // console.log(\"tr7TradingBot.getPositions\", response);\n    $positions(wrapPositions(exchange, response.positions));\n    $openOrders(wrapOrders(exchange, response.openOrders));\n    $priceTriggerOrders(response.priceTriggerOrders);\n    return response;\n  }\n  useEffect(() => {\n    $response(null);\n    fetchSomeBotData(curExchange).then((resp) => $response(resp));\n    const id = setInterval(() => {\n      fetchSomeBotData(curExchange).then((resp) => $response(resp));\n    }, FRONT_INTERVAL_FETCH);\n\n    return () => clearInterval(id);\n  }, [curExchange]);\n\n  function newTradeHandler(e) {\n    $newTradeVisible(true);\n  }\n  function newMultiLevelOrderHandler(e) {\n    $newMultiOrderVisible(true);\n  }\n  function compare(a, b) {\n    if (a.symbol < b.symbol) {\n      return -1;\n    }\n    if (a.symbol > b.symbol) {\n      return 1;\n    }\n    return 0;\n  }\n  function wrapPositions(exchange, positions) {\n    // console.log(\"wrapPositions\", positions);\n    let respPositions = positions;\n    // NOTE: on binance site, this size is calculated as positionAmt * last price\n    if (exchange === EXCHANGE_BINANCE) {\n      respPositions.forEach((position) => {\n        position.size = position.positionAmt * position.entryPrice;\n        position.marginSize = Number(position.isolatedWallet).toFixed(2);\n        position.entryPrice = Number(position.entryPrice).toFixed(\n          position.pricePrecision\n        );\n        position.markPrice = Number(position.markPrice).toFixed(\n          position.pricePrecision\n        );\n        position.lastPrice = Number(position.lastPrice).toFixed(\n          position.pricePrecision\n        );\n        position.liquidationPrice = Number(position.liquidationPrice).toFixed(\n          position.pricePrecision\n        );\n      });\n    }\n    if (exchange === EXCHANGE_GATEIO) {\n      respPositions = _.map(respPositions, (position) => {\n        let retposition = { ...position };\n        retposition.symbol = position.contract;\n        retposition.positionAmt = position.size;\n        retposition.size = position.size > 0 ? position.value : -position.value;\n        retposition.liquidationPrice = position.liqPrice;\n        retposition.lastPrice = position.lastPrice;\n        retposition.marginSize = position.margin;\n        return retposition;\n      });\n    }\n    // TODO: ByBit\n    // console.log(\"respPositions\", respPositions);\n    return respPositions.sort(compare);\n  }\n  function wrapOrders(exchange, orders) {\n    let retOrders = orders;\n    if (exchange === EXCHANGE_BINANCE) {\n      retOrders.forEach((order) => {\n        order.price = order.price === \"0\" ? order.stopPrice : order.price;\n        order.price = Number(order.price).toFixed(order.pricePrecision);\n        order.time = order.updateTime;\n      });\n    }\n    if (exchange === EXCHANGE_GATEIO) {\n      retOrders.forEach((order) => {\n        // order.time = Number(order.createTime.toString().replace(/\\./g, \"\"));\n        order.time = order.createTime * 1000;\n        order.symbol = order.contract;\n        order.type = Number(order.price) !== 0 ? \"LIMIT\" : \"MARKET\";\n        order.side = order.size < 0 ? \"SHORT\" : \"LONG\";\n        // order.price = order.price;\n        order.origQty = order.size * order.quantoMultiplier;\n        order.reduceOnly = order.isReduceOnly;\n      });\n    }\n    // TODO: ByBit\n\n    return retOrders;\n  }\n\n  if (!response) {\n    return <CSpinner color=\"info\" />;\n  } else if (response.success === false) {\n    return (\n      <>\n        <h1>Manual Trade</h1>\n        <p>{response.message}</p>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n        <CRow>\n          <div className=\"d-flex flex-row justify-content-between align-items-center mb-4\">\n            <CButtonGroup role=\"group\" className=\"mt-2 mb-4\">\n              <CFormCheck\n                type=\"radio\"\n                button={{ color: \"primary\", variant: \"outline\" }}\n                name=\"vbtnradio\"\n                id=\"vbtnradio0\"\n                autoComplete=\"off\"\n                label=\"Binance\"\n                defaultChecked={curExchange === EXCHANGE_BINANCE}\n                onClick={() => exchangeChangeHandler(EXCHANGE_BINANCE)}\n              />\n              <CFormCheck\n                type=\"radio\"\n                button={{ color: \"primary\", variant: \"outline\" }}\n                name=\"vbtnradio\"\n                id=\"vbtnradio1\"\n                autoComplete=\"off\"\n                label=\"GateIO\"\n                defaultChecked={curExchange === EXCHANGE_GATEIO}\n                onClick={() => exchangeChangeHandler(EXCHANGE_GATEIO)}\n              />\n              <CFormCheck\n                type=\"radio\"\n                button={{ color: \"primary\", variant: \"outline\" }}\n                name=\"vbtnradio\"\n                id=\"vbtnradio2\"\n                autoComplete=\"off\"\n                label=\"ByBit\"\n                defaultChecked={curExchange === EXCHANGE_BYBIT}\n                onClick={() => exchangeChangeHandler(EXCHANGE_BYBIT)}\n              />\n            </CButtonGroup>\n            {/* <h1>Manual Trade</h1> */}\n            <div className=\"d-inline-flex justify-content-between align-items-center\">\n              <button\n                onClick={() => {\n                  $newMarketOrderVisible(true);\n                }}\n                className=\"btn btn-warning mx-2\"\n              >\n                Order w. Param\n              </button>\n              <CModal\n                size=\"lg\"\n                alignment=\"center\"\n                visible={newMarketOrderVisible}\n                onClose={() => $newMarketOrderVisible(false)}\n              >\n                <OrderWithParam\n                  exchange={curExchange}\n                  onCloseHandler={(orderRst) => {\n                    console.log(\"OrderWithParam\", orderRst);\n                    $newMarketOrderVisible(false);\n                    //\n                    addToast(Toast(\"PLACE ORDER\", orderRst.message));\n                  }}\n                />\n              </CModal>\n              <button\n                onClick={newTradeHandler}\n                className=\"btn btn-warning mx-2\"\n              >\n                New Order\n              </button>\n              <CModal\n                size=\"lg\"\n                alignment=\"center\"\n                visible={newTradeVisible}\n                onClose={() => $newTradeVisible(false)}\n              >\n                <NewOrder\n                  onCloseHandler={() => $newTradeVisible(false)}\n                  exchange={curExchange}\n                />\n              </CModal>\n              <button\n                onClick={newMultiLevelOrderHandler}\n                className=\"btn btn-warning mx-2\"\n              >\n                New Multi-Level Order\n              </button>\n              <CModal\n                size=\"lg\"\n                alignment=\"center\"\n                visible={newMultiOrderVisible}\n                onClose={() => $newMultiOrderVisible(false)}\n              >\n                <NewMultiOrder\n                  onCloseHandler={() => $newMultiOrderVisible(false)}\n                  exchange={curExchange}\n                />\n              </CModal>\n            </div>\n          </div>\n        </CRow>\n        {Array.isArray(positions) && (\n          <Positions\n            exchange={curExchange}\n            positions={positions}\n            isClose={true}\n          />\n        )}\n        {Array.isArray(openOrders) && (\n          <Orders openOrders={openOrders} exchange={curExchange} />\n        )}\n        {curExchange === EXCHANGE_GATEIO && !_.isEmpty(priceTriggerOrders) && (\n          <GateIOPriceTriggerOrders openOrders={priceTriggerOrders} />\n        )}\n      </>\n    );\n  }\n};\n\nexport default ManualGrid;\n","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport tr7TradingBot from \"../../Model/tr7-trading-bot.js\";\nimport classNames from \"classnames\";\nimport {\n  CBadge,\n  CButton,\n  CTableRow,\n  CTableDataCell,\n  CInputGroup,\n  CFormInput,\n  CCol,\n} from \"@coreui/react\";\n\nconst Position = ({\n  position,\n  index,\n  isClose,\n  closeHandler,\n  closeLimitHandler,\n  supCloseLimit,\n}) => {\n  const [limitPrice, $limitPrice] = useState(\"\");\n  // useEffect(() => {\n  //   console.log(position.markPrice);\n  // }, [position.markPrice]);\n  function closePositionHandler(e) {\n    closeHandler(position);\n  }\n  function closePositionAsLimitHandler(e) {\n    closeLimitHandler(position, limitPrice);\n    $limitPrice(\"\");\n  }\n  // console.log(\"position\", position);\n  let color = position.positionAmt > 0 ? \"info\" : \"danger\";\n  let closeColor = position.pnl > 0 ? \"success\" : \"danger\";\n  return (\n    <>\n      <CTableRow key={index} className=\"\">\n        <CTableDataCell className=\"align-middle\">\n          <CBadge color={color}>{position.symbol}</CBadge>\n          <span>\n            <CButton variant=\"ghost\" color=\"warning\" size=\"sm\">\n              {position.leverage}x\n            </CButton>\n          </span>\n        </CTableDataCell>\n        <CTableDataCell\n          // color={color}\n          className={classNames({\n            \"text-info\": position.size > 0,\n            \"text-danger\": position.size < 0,\n            \"align-middle\": true,\n          })}\n        >\n          {position.size}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.entryPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.markPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle text-warning\">\n          {position.liquidationPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle text-info\">\n          {position.lastPrice}\n        </CTableDataCell>\n        <CTableDataCell className=\"align-middle\">\n          {position.marginSize}\n        </CTableDataCell>\n        <CTableDataCell\n          className={classNames({\n            \"text-success\": position.pnl > 0,\n            \"text-danger\": position.pnl < 0,\n            \"align-middle\": true,\n          })}\n        >\n          {position.pnl} ({position.roe}%)\n        </CTableDataCell>\n        {isClose && (\n          <CTableDataCell className=\"align-middle\">\n            <div className=\"d-inline-flex justify-content-start align-items-center align-self-center flex-fill\">\n              <CButton\n                color={closeColor}\n                variant=\"ghost\"\n                value={position}\n                onClick={closePositionHandler}\n                size=\"sm\"\n              >\n                Market\n              </CButton>\n              {supCloseLimit && (\n                <>\n                  <div className=\"vr align-middle\" />\n                  <CButton\n                    color={closeColor}\n                    variant=\"ghost\"\n                    value={position}\n                    onClick={closePositionAsLimitHandler}\n                    size=\"sm\"\n                  >\n                    Limit\n                  </CButton>\n                  <div className=\"col-4\">\n                    <CFormInput\n                      type=\"number\"\n                      size=\"sm\"\n                      placeholder=\"price\"\n                      value={limitPrice}\n                      id=\"limit-price\"\n                      onChange={(e) => $limitPrice(e.target.value)}\n                      // className=\"col-5\"\n                    />\n                  </div>\n                </>\n              )}\n            </div>\n          </CTableDataCell>\n        )}\n      </CTableRow>\n    </>\n  );\n};\n\nexport default Position;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport classNames from \"classnames\";\nimport {\n  CBadge,\n  CButton,\n  CTableRow,\n  CTableDataCell,\n  CFormInput,\n  CRow,\n  CCol,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CTable,\n  CTableBody,\n  CTableHeaderCell,\n} from \"@coreui/react\";\nimport Symbol from \"../Data/Symbol\";\n\nconst PositionCard = ({\n  position,\n  index,\n  isClose,\n  closeHandler,\n  closeLimitHandler,\n  supCloseLimit,\n}) => {\n  const [limitPrice, $limitPrice] = useState(\"\");\n  function closePositionHandler(e) {\n    closeHandler(position);\n  }\n  function closePositionAsLimitHandler(e) {\n    closeLimitHandler(position, limitPrice);\n    $limitPrice(\"\");\n  }\n  let color = position.positionAmt > 0 ? \"info\" : \"danger\";\n  let closeColor = position.pnl > 0 ? \"success\" : \"danger\";\n  return (\n    <CCol xs={12} md={6} xl={4}>\n      <CCard className=\"mx-1 mb-2\">\n        <CCardHeader>\n          <div className=\"d-flex d-flex-row justify-content-between align-items-center\">\n            <Symbol symbol={position.symbol} />\n\n            <CButton variant=\"ghost\" color=\"warning\" size=\"sm\">\n              {position.leverage}x\n            </CButton>\n          </div>\n        </CCardHeader>\n        <CCardBody>\n          <CTable\n            striped\n            hover\n            responsive\n            color=\"light\"\n            className=\"smaller-text mt-2\"\n            style={{ width: \"100%\" }}\n          >\n            <CTableBody style={{ overflowY: \"auto\" }}>\n              <CTableRow>\n                <CTableHeaderCell>Size</CTableHeaderCell>\n                <CTableDataCell\n                  // color={color}\n                  className={classNames({\n                    \"text-info\": position.size > 0,\n                    \"text-danger\": position.size < 0,\n                    \"align-middle\": true,\n                  })}\n                >\n                  {position.size}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>Entry Price</CTableHeaderCell>\n                <CTableDataCell className=\"align-middle\">\n                  {position.entryPrice}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>Mark Price</CTableHeaderCell>\n                <CTableDataCell className=\"align-middle\">\n                  {position.markPrice}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>Liquid Price</CTableHeaderCell>\n                <CTableDataCell className=\"align-middle text-warning\">\n                  {position.liquidationPrice}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>Last Price</CTableHeaderCell>\n                <CTableDataCell className=\"align-middle text-info\">\n                  {position.lastPrice}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>Margin Size</CTableHeaderCell>\n                <CTableDataCell className=\"align-middle\">\n                  {position.marginSize}\n                </CTableDataCell>\n              </CTableRow>\n              <CTableRow>\n                <CTableHeaderCell>PNL (%)</CTableHeaderCell>\n                <CTableDataCell\n                  className={classNames({\n                    \"text-success\": position.pnl > 0,\n                    \"text-danger\": position.pnl < 0,\n                    \"align-middle\": true,\n                  })}\n                >\n                  {position.pnl} ({position.roe}%)\n                </CTableDataCell>\n              </CTableRow>\n            </CTableBody>\n          </CTable>\n          {isClose && (\n            <div className=\"d-flex align-items-center\">\n              <div>Close</div>\n              <div className=\"align-middle\">\n                <div className=\"d-inline-flex justify-content-start align-items-center align-self-center flex-fill\">\n                  <CButton\n                    color={closeColor}\n                    variant=\"ghost\"\n                    value={position}\n                    onClick={closePositionHandler}\n                    size=\"sm\"\n                  >\n                    Market\n                  </CButton>\n                  {supCloseLimit && (\n                    <>\n                      <div className=\"vr align-middle\" />\n                      <CButton\n                        color={closeColor}\n                        variant=\"ghost\"\n                        value={position}\n                        onClick={closePositionAsLimitHandler}\n                        size=\"sm\"\n                      >\n                        Limit\n                      </CButton>\n                      <div className=\"col-4\">\n                        <CFormInput\n                          type=\"number\"\n                          size=\"sm\"\n                          placeholder=\"price\"\n                          value={limitPrice}\n                          id=\"limit-price\"\n                          onChange={(e) => $limitPrice(e.target.value)}\n                          // className=\"col-5\"\n                        />\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </CCardBody>\n      </CCard>\n    </CCol>\n  );\n};\n\nexport default PositionCard;\n","import React, { useRef } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../Provider/Auth\";\nimport tr7TradingBot, {\n  EXCHANGE_BINANCE,\n} from \"../../Model/tr7-trading-bot.js\";\nimport classNames from \"classnames\";\nimport {\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CRow,\n  CCol,\n  CButton,\n  CTableBody,\n  CToaster,\n  CTooltip,\n  CTable,\n  CTableHead,\n  CTableHeaderCell,\n  CTableRow,\n} from \"@coreui/react\";\nimport Position from \"../../components/Trade/Position\";\nimport PositionCard from \"../../components/Trade/PositionCard.js\";\nimport Toast from \"../../components/Toast\";\n\nconst Positions = ({ positions, isClose, exchange }) => {\n  const [toast, addToast] = useState(0);\n  const toasterRef = useRef();\n\n  async function submitClosePosition(position, type, price) {\n    const resp = await tr7TradingBot.closePosition(\n      position,\n      type,\n      price,\n      exchange\n    );\n    return resp;\n  }\n  function closePositionHandler(position) {\n    // addToast(Toast(\"Close Position\", \"submitting order...\"));\n    submitClosePosition(position, \"market\", 0).then((resp) => {\n      addToast(Toast(\"Close Position\", resp.message));\n    });\n  }\n  function closePositionLimitHandler(position, limitPrice) {\n    const minPrice = position.markPrice - (position.markPrice * 50) / 100;\n    const maxPrice = position.markPrice * 1.5;\n    if (limitPrice >= minPrice && limitPrice <= maxPrice) {\n      // addToast(Toast(\"Close Position\", \"submitting order...\"));\n      submitClosePosition(position, \"limit\", limitPrice).then((resp) => {\n        addToast(Toast(\"Close Position\", resp.message));\n      });\n    } else {\n      addToast(\n        Toast(\n          \"Close Position\",\n          \"price should be larger or smaller than mark price maximum of 50%\"\n        )\n      );\n    }\n  }\n  function closeAllPositionsHandler() {\n    // addToast(Toast(\"Close All Positions\", \"submitting order...\"));\n    (async function submitClosePositions() {\n      const resp = await tr7TradingBot.clearPositions();\n      addToast(Toast(\"Close All Positions\", `${resp.msg}`));\n      return resp;\n    })();\n  }\n  /** [\"Symbol\", \"Size\", \"Entry Price\", \"Mark Price\", \"Liq.Price\", \"Margin\", \"PNL\"]\n   *\n   */\n  const curPositions = positions.map((position, index) => {\n    const {\n      symbol,\n      entryPrice,\n      unRealizedProfit,\n      positionAmt,\n      markPrice,\n      liquidationPrice,\n      lastPrice,\n      leverage,\n      pricePrecision,\n      size,\n      marginSize,\n    } = position;\n    // console.log(\"position\", index, position);\n    const roe = (unRealizedProfit * 100) / (Math.abs(size) / leverage);\n    return {\n      symbol,\n      positionAmt,\n      size: Number(size).toFixed(2),\n      entryPrice,\n      markPrice,\n      lastPrice,\n      liquidationPrice,\n      marginSize: Number(marginSize).toFixed(2),\n      pnl: Number(unRealizedProfit).toFixed(2),\n      roe: Number(roe).toFixed(2),\n      leverage,\n    };\n  });\n  let positionsHeader = [\n    \"Symbol\",\n    \"Size\",\n    \"Entry Price\",\n    \"Mark Price\",\n    \"Liq. Price\",\n    \"Last Price\",\n    \"Margin\",\n    \"PNL (ROI%)\",\n  ];\n  if (isClose) {\n    if (exchange === EXCHANGE_BINANCE) {\n      positionsHeader.push(\"Close All Positions\");\n    } else {\n      positionsHeader.push(\"Close Position\");\n    }\n  }\n\n  return (\n    <>\n      <CRow>\n        <CCol>\n          <CCard className=\"mb-4\">\n            <CCardHeader>Positions ({curPositions.length})</CCardHeader>\n            <CCardBody>\n              {curPositions.length > 0 && (\n                <>\n                  <div id=\"positions-card\" className=\"d-flex flex-wrap\">\n                    {curPositions.map((position, index) => {\n                      return (\n                        <PositionCard\n                          position={position}\n                          key={index}\n                          isClose={isClose}\n                          closeHandler={closePositionHandler}\n                          closeLimitHandler={closePositionLimitHandler}\n                        />\n                      );\n                    })}\n                  </div>\n                  <CTable id=\"positions-table\">\n                    <CTableHead className=\"\">\n                      <CTableRow>\n                        {positionsHeader.map((key, index) => {\n                          if (key === \"Close All Positions\") {\n                            return (\n                              <CTableHeaderCell key={index}>\n                                <div>\n                                  <CTooltip\n                                    content=\"close all positions as market price\"\n                                    placement=\"top\"\n                                  >\n                                    <CButton\n                                      variant=\"ghost\"\n                                      color=\"warning\"\n                                      onClick={closeAllPositionsHandler}\n                                    >\n                                      {key}\n                                    </CButton>\n                                  </CTooltip>\n                                </div>\n                              </CTableHeaderCell>\n                            );\n                          }\n                          return (\n                            <CTableHeaderCell key={index}>\n                              {key}\n                            </CTableHeaderCell>\n                          );\n                        })}\n                      </CTableRow>\n                    </CTableHead>\n                    <CTableBody>\n                      {curPositions.map((position, index) => {\n                        return (\n                          <Position\n                            position={position}\n                            key={index}\n                            isClose={isClose}\n                            closeHandler={closePositionHandler}\n                            closeLimitHandler={closePositionLimitHandler}\n                            supCloseLimit={\n                              exchange === EXCHANGE_BINANCE ? true : false\n                            }\n                          />\n                        );\n                      })}\n                    </CTableBody>\n                  </CTable>\n                </>\n              )}\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n      <CToaster ref={toasterRef} push={toast} placement=\"top-end\"></CToaster>\n      {/* <CModal\n        alignment=\"center\"\n        visible={visible}\n        onClose={() => setVisible(false)}\n      >\n        <ClosePositionModal\n          position={position}\n          response={respClose}\n          closeModalHandler={() => setVisible(false)}\n        />\n      </CModal> */}\n    </>\n  );\n};\n\nexport default Positions;\n","export const FRONT_INTERVAL_FETCH = 2500;\n"],"names":["props","binanceUrl","symbol","style","display","alignItems","className","color","onClick","url","newWindow","window","open","opener","openInNewTab","header","body","closeButton","OrderCard","orderHeader","orderValue","time","xs","md","xl","textColor","Symbol","fontSize","striped","hover","responsive","width","overflowY","slice","map","item","index","openOrders","exchange","isClose","ordersHeader","curOrders","forEach","order","tempOrder","dayjs","format","push","type","side","price","origQty","toFixed","reduceOnly","EXCHANGE_GATEIO","length","id","value","idx","MODE_ISOLATED","DIRECTION_BOTH","TYPE_MARKET","TYPE_LIMIT","onCloseHandler","onSubmitHandler","useFuturesOrderInfo","loading","symbolList","symbolListGateIO","symbolListByBit","curSymbol","userOrderParam","setOrderInfo","modeRef","directionRef","leverageRef","amount","takeProfitRef","stoplossRef","useState","toast","addToast","toasterRef","useRef","refForm","availBalance","$availBalance","curSymbolMarkPrice","$curSymbolMarkPrice","curSymbolLastPrice","$curSymbolLastPrice","curSymbolPricePrecision","$curSymbolPricePrecision","$symbolInfo","symbolListCurExchange","EXCHANGE_BYBIT","useEffect","tr7TradingBot","then","res","EXCHANGE_BINANCE","account","accounts","Number","availableBalance","available","fetchSymbolInfoInvoke","symbolInfo","symbolMarketInfo","markPrice","lastPrice","pricePrecision","setInterval","FRONT_INTERVAL_FETCH","clearInterval","ref","placement","onSubmit","event","preventDefault","mode","leverage","tp","sl","tpslPercentType","levels","gridOrder","direction","repeatTime","sizeUnit","takeProfit","trigger","tpType","percentType","stopLoss","slType","console","log","Toast","lg","component","htmlFor","onChange","e","CUR_SYMBOL","target","MODE","min","max","LEVERAGE","DIRECTION","TYPE","step","placeholder","PRICE","disabled","AMOUNT","TAKE_PROFIT","STOP_LOSS","MODE_CROSSED","DEFAULT_MODE","DIRECTION_SHORT","DEFAULT_DIRECTION","DEFAULT_TYPE","$loading","$symbolList","$curSymbol","$type","$price","$amount","sortSymbols","symbols","sort","accSymInfo","current","isolated","JSON","stringify","defaultValue","size","SIZE_UNIT_USD","TYPE_PERCENT","DEFAULT_SIZE_UNIT","curSymbolInfo","$curSymbolInfo","$repeatTime","numberLevels","$numberLevels","$sizeUnit","Array","prices","$prices","sizes","$sizes","amounts","$amounts","totalSize","$totalSize","averagePrice","$averagePrice","curSymbolMinUSDSize","$curSymbolMinUSDSize","curSymbolMinCoinSize","$curSymbolMinCoinSize","takeprofitType","$takeprofitType","stoplossType","$stoplossType","timerId","$timerId","roundAmount","qty","stepSize","isInteger","qtyString","parseFloat","desiredDecimals","Math","indexOf","decimalIndex","printoutAmounts","amt","usdSize","levelPriceChangeHandler","replace","curPrices","tempPrices","levelAmountChangeHandler","curSizes","tempSizes","minQty","minNotional","avgPrice","totalAmount","totalBalanceSize","list","tempAmount","curAmounts","label","defaultChecked","curUnit","from","level","PriceTriggerOrderCard","numberFields","_","initial","orderType","createTime","tpSlSide","rule","triggerPrice","priceType","orderPrice","orderQtyUSDT","abs","quantoMultiplier","remarks","isReduceOnly","contract","curExchange","response","$response","positions","$positions","$openOrders","priceTriggerOrders","$priceTriggerOrders","newMarketOrderVisible","$newMarketOrderVisible","newTradeVisible","$newTradeVisible","newMultiOrderVisible","$newMultiOrderVisible","exchangeChangeHandler","CUR_EXCHANGE","fetchSomeBotData","wrapPositions","wrapOrders","compare","a","b","respPositions","position","positionAmt","entryPrice","marginSize","isolatedWallet","liquidationPrice","retposition","liqPrice","margin","orders","retOrders","stopPrice","updateTime","resp","success","message","role","button","variant","name","autoComplete","alignment","visible","onClose","orderRst","isArray","Positions","GateIOPriceTriggerOrders","closeHandler","closeLimitHandler","supCloseLimit","limitPrice","$limitPrice","closeColor","pnl","classNames","roe","submitClosePosition","closePositionHandler","closePositionLimitHandler","minPrice","maxPrice","closeAllPositionsHandler","msg","curPositions","unRealizedProfit","positionsHeader","key","content"],"sourceRoot":""}