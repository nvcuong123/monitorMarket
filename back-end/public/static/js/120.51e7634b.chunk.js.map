{"version":3,"file":"static/js/120.51e7634b.chunk.js","mappings":"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","sources":["Utils/index.js","components/Data/Symbol.js","pages/Analysis/Binance/BinanceSignals.js"],"sourcesContent":["import dayjs from \"dayjs\";\nimport { sum } from \"lodash\";\n\nexport const CurrencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n\n  // These options are needed to round to whole numbers if that's what you want.\n  //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n  //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});\nexport const NumberFormatter = (number) => {\n  const retNumber = number.toLocaleString(\"en-US\", {\n    minimumFractionDigits: 2,\n  });\n  console.log(\"retNumber\", retNumber);\n  return retNumber;\n};\n\nexport const PercentFormatter = (number) => `${number.toFixed(2)}%`;\nexport const PercentChangeFormatter = (number) =>\n  `${Number(\n    new Intl.NumberFormat(\"en-US\", {\n      signDisplay: \"exceptZero\",\n    }).format(number)\n  ).toFixed(2)}%`;\n\nexport const DateNow = () => `${dayjs().format(\"DD/MM HH:mm:ss\")}`;\nexport const DateFormatter = (timestamp) =>\n  `${dayjs(timestamp).format(\"DD/MM HH:mm:ss\")}`;\nexport const TimeFormatter = (timestamp) =>\n  `${dayjs(timestamp).format(\"HH:mm:ss\")}`;\nexport const FundingRateFormat = (fundingRate) =>\n  `${Number(fundingRate).toFixed(4)}%`;\n\nexport const NumberShortFmt = (number) => {\n  if (number < 1000000) {\n    return `${Number(number).toFixed(3)}`;\n  } else if (number < 1000000000) {\n    return `${Number(number / 1000000).toFixed(2)}M`;\n  } else {\n    return `${Number(number / 1000000000).toFixed(2)}B`;\n  }\n};\n\nconst Utils = {\n  CurrencyFormatter,\n  PercentFormatter,\n};\n\nexport default Utils;\n","import { CButton, CBadge } from \"@coreui/react\";\n\nconst Symbol = (props) => {\n  const binanceUrl = `https://www.binance.com/en/futures/${props.symbol}`;\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <h5>\n      <CBadge\n        className=\"custom-link\"\n        color=\"warning\"\n        onClick={() => openInNewTab(binanceUrl)}\n      >\n        {props.symbol}\n      </CBadge>\n    </h5>\n  );\n};\n\nexport default Symbol;\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport _, { filter } from \"lodash\";\nimport dayjs from \"dayjs\";\nimport {\n  CTable,\n  CTableHead,\n  CTableHeaderCell,\n  CTableBody,\n  CTableRow,\n  CTableDataCell,\n  CSpinner,\n  CInputGroup,\n  CInputGroupText,\n  CFormInput,\n  CFormSelect,\n} from \"@coreui/react\";\nimport Symbol from \"../../../components/Data/Symbol\";\n\nimport {\n  CurrencyFormatter,\n  PercentChangeFormatter,\n  DateNow,\n  DateFormatter,\n  TimeFormatter,\n  FundingRateFormat,\n  NumberFormatter,\n} from \"../../../Utils\";\n\nconst productionUrl = window.location.origin.replace(\"https\", \"wss\");\nconst socketUrl =\n  (process.env.NODE_ENV === \"production\"\n    ? productionUrl\n    : \"ws://127.0.0.1:3000\") + \"/signals\";\n\nconst timeframeList = [\"all\", \"5m\", \"15m\"];\n\nconst BinanceSignals = () => {\n  const [curSymbol, $curSymbol] = useState(\"\");\n  const [curTimeframe, $curTimeframe] = useState(\"all\");\n  const [curType, $curType] = useState(\"\");\n  const [filterSymbols, $filterSymbols] = useState([]);\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    share: true,\n    retryOnError: true,\n    reconnectAttempts: 1000,\n    reconnectInterval: 3000,\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: () => true,\n    onOpen: (event) => console.log(\"opened ws\", event),\n    onClose: (closeEvent) => console.log(\"ws closed\", closeEvent),\n    onError: (errEvent) => console.log(\"error\", errEvent),\n    onReconnectStop: (numAttemp) => console.log(\"reconnect stopped\", numAttemp),\n  });\n  const [binanceSignals, $binanceSignals] = useState({});\n  useEffect(() => {\n    if (lastMessage !== null) {\n      const signals = JSON.parse(lastMessage.data);\n      const revertedSignals = _.reverse(signals);\n      $binanceSignals(revertedSignals);\n    }\n  }, [lastMessage]);\n\n  useEffect(() => {\n    if (!_.isEmpty(binanceSignals)) {\n      console.log(curSymbol, curTimeframe, curType);\n      const filterList = [];\n      _.forEach(binanceSignals, (signal) => {\n        if (\n          signal.symbol.includes(curSymbol) &&\n          (curTimeframe === \"all\" || signal.timeframe === curTimeframe) &&\n          signal.type.includes(curType)\n        ) {\n          filterList.push(signal);\n        }\n      });\n      // console.log(\"filterList\", filterList);\n      $filterSymbols(filterList);\n    }\n  }, [binanceSignals, curSymbol, curTimeframe, curType]);\n\n  return (\n    <div>\n      {_.isEmpty(binanceSignals) && (\n        <div>\n          <CSpinner color=\"info\" />\n          <div>There is no any signal. Server is detecting...</div>\n        </div>\n      )}\n      {!_.isEmpty(binanceSignals) && (\n        <>\n          <div className=\"d-flex d-flex-row my-2\" style={{ width: \"50vw\" }}>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Symbol\n              </CInputGroupText>\n              <CFormInput\n                type=\"text\"\n                aria-label=\"symbol\"\n                className=\"col-4\"\n                id=\"input-symbol\"\n                value={curSymbol}\n                onChange={(e) => {\n                  $curSymbol(e.target.value.toUpperCase());\n                }}\n              />\n            </CInputGroup>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Timeframe\n              </CInputGroupText>\n              <CFormSelect\n                id=\"inputTimeframe\"\n                onChange={(e) => {\n                  $curTimeframe(e.target.value);\n                }}\n                value={curTimeframe}\n              >\n                {timeframeList.map((symbol, index) => {\n                  return <option key={index}>{symbol}</option>;\n                })}\n              </CFormSelect>\n            </CInputGroup>\n            <CInputGroup className=\"mx-2\">\n              <CInputGroupText\n                component=\"label\"\n                htmlFor=\"inputSymbol\"\n                className=\"\"\n              >\n                Type\n              </CInputGroupText>\n              <CFormInput\n                type=\"text\"\n                aria-label=\"type\"\n                className=\"col-4\"\n                id=\"input-type\"\n                value={curType}\n                onChange={(e) => {\n                  $curType(e.target.value.toUpperCase());\n                }}\n              />\n            </CInputGroup>\n          </div>\n          <CTable\n            striped\n            hover\n            responsive\n            color=\"light\"\n            className=\"smaller-text\"\n            // style={{ height: \"80vh\", display: \"flex\", flexDirection: \"column\" }}\n          >\n            <CTableHead color=\"dark\">\n              <CTableRow>\n                <CTableHeaderCell>Time</CTableHeaderCell>\n                <CTableHeaderCell>Symbol</CTableHeaderCell>\n                <CTableHeaderCell>Timeframe</CTableHeaderCell>\n                <CTableHeaderCell>Candle Open</CTableHeaderCell>\n                <CTableHeaderCell>Type</CTableHeaderCell>\n                <CTableHeaderCell>RSI</CTableHeaderCell>\n                <CTableHeaderCell>OI</CTableHeaderCell>\n                <CTableHeaderCell>Price</CTableHeaderCell>\n                <CTableHeaderCell>Long/Short</CTableHeaderCell>\n              </CTableRow>\n            </CTableHead>\n            <CTableBody style={{ overflowY: \"auto\" }}>\n              {filterSymbols.map((signal, index) => {\n                return (\n                  <CTableRow key={index}>\n                    <CTableDataCell>\n                      {dayjs(signal.time).format(\"DD/MM HH:mm:ss\")}\n                    </CTableDataCell>\n                    <CTableDataCell>\n                      <Symbol symbol={signal.symbol} />\n                    </CTableDataCell>\n                    <CTableDataCell>{signal.timeframe}</CTableDataCell>\n                    <CTableDataCell>\n                      {dayjs(signal.timestamp).format(\"DD/MM HH:mm:ss\")}\n                    </CTableDataCell>\n                    <CTableDataCell>{signal.type}</CTableDataCell>\n                    <CTableDataCell>{signal.rsi}</CTableDataCell>\n                    <CTableDataCell>\n                      {PercentChangeFormatter(signal.oiChange)}\n                    </CTableDataCell>\n                    <CTableDataCell>\n                      {PercentChangeFormatter(signal.priceChange)}\n                    </CTableDataCell>\n                    <CTableDataCell>{}</CTableDataCell>\n                  </CTableRow>\n                );\n              })}\n            </CTableBody>\n          </CTable>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default BinanceSignals;\n"],"names":["CurrencyFormatter","Intl","NumberFormat","style","currency","PercentChangeFormatter","number","Number","signDisplay","format","toFixed","DateFormatter","timestamp","dayjs","FundingRateFormat","fundingRate","props","binanceUrl","symbol","className","color","onClick","url","newWindow","window","open","opener","openInNewTab","socketUrl","location","origin","replace","timeframeList","useState","curSymbol","$curSymbol","curTimeframe","$curTimeframe","curType","$curType","filterSymbols","$filterSymbols","useWebSocket","share","retryOnError","reconnectAttempts","reconnectInterval","shouldReconnect","onOpen","event","console","log","onClose","closeEvent","onError","errEvent","onReconnectStop","numAttemp","lastMessage","sendMessage","readyState","binanceSignals","$binanceSignals","useEffect","signals","JSON","parse","data","revertedSignals","_","filterList","signal","includes","timeframe","type","push","width","component","htmlFor","id","value","onChange","e","target","toUpperCase","map","index","striped","hover","responsive","overflowY","time","rsi","oiChange","priceChange"],"sourceRoot":""}