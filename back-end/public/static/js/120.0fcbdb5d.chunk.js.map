{"version":3,"file":"static/js/120.0fcbdb5d.chunk.js","mappings":"sIAuBA,IArBe,SAACA,GACd,IAAMC,EAAU,6CAAyCD,EAAME,QAO/D,OACE,yBACE,SAAC,KAAM,CACLC,UAAU,cACVC,MAAM,UACNC,QAAS,kBAVM,SAACC,GACpB,IAAMC,EAAYC,OAAOC,KAAKH,EAAK,SAAU,uBACzCC,IAAWA,EAAUG,OAAS,KACpC,CAOqBC,CAAaV,EAAW,EAAC,SAEvCD,EAAME,UAIf,C,2ICJMU,EADgBJ,OAAOK,SAASC,OAAOC,QAAQ,QAAS,OAI/B,WAsE/B,UApEuB,WACrB,OAAiDC,EAAAA,EAAAA,IAAaJ,EAAW,CACvEK,OAAO,EACPC,cAAc,EACdC,kBAAmB,IACnBC,kBAAmB,IAEnBC,gBAAiB,kBAAM,CAAI,EAC3BC,OAAQ,SAACC,GAAK,OAAKC,QAAQC,IAAI,YAAaF,EAAM,EAClDG,QAAS,SAACC,GAAU,OAAKH,QAAQC,IAAI,YAAaE,EAAW,EAC7DC,QAAS,SAACC,GAAQ,OAAKL,QAAQC,IAAI,QAASI,EAAS,EACrDC,gBAAiB,SAACC,GAAS,OAAKP,QAAQC,IAAI,oBAAqBM,EAAU,IAVxDC,GAAF,EAAXC,YAAwB,EAAXD,aAYrB,GAZ4C,EAAVE,YAYQC,EAAAA,EAAAA,UAAS,CAAC,IAAE,eAA/CC,EAAc,KAAEC,EAAe,KAWtC,OAVAC,EAAAA,EAAAA,YAAU,WACR,GAAoB,OAAhBN,EAAsB,CACxB,IAAMO,EAAUC,KAAKC,MAAMT,EAAYU,MACvCC,IAAAA,IAAMJ,GAAS,SAACK,GACdpB,QAAQC,IAAImB,EAAOC,KAAMD,EAAO1C,OAAQ0C,EAAOE,UACjD,IACAT,EAAgBM,IAAAA,QAAUJ,GAC5B,CACF,GAAG,CAACP,KAGF,2BACGW,IAAAA,QAAUP,KACT,4BACE,SAAC,KAAQ,CAAChC,MAAM,UAChB,uDAGFuC,IAAAA,QAAUP,KACV,UAAC,KAAM,CAACW,SAAO,EAACC,OAAK,EAACC,YAAU,EAAC7C,MAAM,QAAQD,UAAU,eAAc,WACrE,SAAC,IAAU,CAACC,MAAM,OAAM,UACtB,UAAC,KAAS,YACR,SAAC,KAAgB,oBACjB,SAAC,KAAgB,sBACjB,SAAC,KAAgB,0BACjB,SAAC,KAAgB,yBACjB,SAAC,KAAgB,yBAGrB,SAAC,KAAU,UACRgC,EAAec,KAAI,SAACN,EAAQO,GAC3B,OACE,UAAC,KAAS,YACR,SAAC,KAAc,UACZC,IAAMR,EAAOS,MAAMC,OAAO,qBAE7B,SAAC,KAAc,WACb,SAAC,IAAM,CAACpD,OAAQ0C,EAAO1C,YAEzB,SAAC,KAAc,UAAE0C,EAAOE,aACxB,SAAC,KAAc,UACZM,IAAMR,EAAOW,WAAWD,OAAO,qBAElC,SAAC,KAAc,UAAEV,EAAOY,SAXVL,EAcpB,WAMZ,C","sources":["components/Data/Symbol.js","pages/Analysis/Binance/BinanceSignals.js"],"sourcesContent":["import { CButton, CBadge } from \"@coreui/react\";\n\nconst Symbol = (props) => {\n  const binanceUrl = `https://www.binance.com/en/futures/${props.symbol}`;\n  //\n  const openInNewTab = (url) => {\n    const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n    if (newWindow) newWindow.opener = null;\n  };\n  //\n  return (\n    <h5>\n      <CBadge\n        className=\"custom-link\"\n        color=\"warning\"\n        onClick={() => openInNewTab(binanceUrl)}\n      >\n        {props.symbol}\n      </CBadge>\n    </h5>\n  );\n};\n\nexport default Symbol;\n","import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport useWebSocket from \"react-use-websocket\";\nimport _ from \"lodash\";\nimport dayjs from \"dayjs\";\nimport {\n  CTable,\n  CTableHead,\n  CTableHeaderCell,\n  CTableBody,\n  CTableRow,\n  CTableDataCell,\n  CSpinner,\n} from \"@coreui/react\";\nimport Symbol from \"../../../components/Data/Symbol\";\n\nconst productionUrl = window.location.origin.replace(\"https\", \"wss\");\nconst socketUrl =\n  (process.env.NODE_ENV === \"production\"\n    ? productionUrl\n    : \"ws://127.0.0.1:3000\") + \"/signals\";\n\nconst BinanceSignals = () => {\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    share: true,\n    retryOnError: true,\n    reconnectAttempts: 1000,\n    reconnectInterval: 3000,\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: () => true,\n    onOpen: (event) => console.log(\"opened ws\", event),\n    onClose: (closeEvent) => console.log(\"ws closed\", closeEvent),\n    onError: (errEvent) => console.log(\"error\", errEvent),\n    onReconnectStop: (numAttemp) => console.log(\"reconnect stopped\", numAttemp),\n  });\n  const [binanceSignals, $binanceSignals] = useState({});\n  useEffect(() => {\n    if (lastMessage !== null) {\n      const signals = JSON.parse(lastMessage.data);\n      _.map(signals, (signal) => {\n        console.log(signal.tyme, signal.symbol, signal.timeframe);\n      });\n      $binanceSignals(_.reverse(signals));\n    }\n  }, [lastMessage]);\n\n  return (\n    <div>\n      {_.isEmpty(binanceSignals) && (\n        <div>\n          <CSpinner color=\"info\" />\n          <di>Waiting for signals...</di>\n        </div>\n      )}\n      {!_.isEmpty(binanceSignals) && (\n        <CTable striped hover responsive color=\"light\" className=\"smaller-text\">\n          <CTableHead color=\"dark\">\n            <CTableRow>\n              <CTableHeaderCell>Time</CTableHeaderCell>\n              <CTableHeaderCell>Symbol</CTableHeaderCell>\n              <CTableHeaderCell>Time Frame</CTableHeaderCell>\n              <CTableHeaderCell>TimeStamp</CTableHeaderCell>\n              <CTableHeaderCell>Type</CTableHeaderCell>\n            </CTableRow>\n          </CTableHead>\n          <CTableBody>\n            {binanceSignals.map((signal, index) => {\n              return (\n                <CTableRow key={index}>\n                  <CTableDataCell>\n                    {dayjs(signal.time).format(\"DD/MM HH:mm:ss\")}\n                  </CTableDataCell>\n                  <CTableDataCell>\n                    <Symbol symbol={signal.symbol} />\n                  </CTableDataCell>\n                  <CTableDataCell>{signal.timeframe}</CTableDataCell>\n                  <CTableDataCell>\n                    {dayjs(signal.timestamp).format(\"DD/MM HH:mm:ss\")}\n                  </CTableDataCell>\n                  <CTableDataCell>{signal.type}</CTableDataCell>\n                </CTableRow>\n              );\n            })}\n          </CTableBody>\n        </CTable>\n      )}\n    </div>\n  );\n};\n\nexport default BinanceSignals;\n"],"names":["props","binanceUrl","symbol","className","color","onClick","url","newWindow","window","open","opener","openInNewTab","socketUrl","location","origin","replace","useWebSocket","share","retryOnError","reconnectAttempts","reconnectInterval","shouldReconnect","onOpen","event","console","log","onClose","closeEvent","onError","errEvent","onReconnectStop","numAttemp","lastMessage","sendMessage","readyState","useState","binanceSignals","$binanceSignals","useEffect","signals","JSON","parse","data","_","signal","tyme","timeframe","striped","hover","responsive","map","index","dayjs","time","format","timestamp","type"],"sourceRoot":""}