/*! For license information please see 263.f19853fb.chunk.js.LICENSE.txt */
(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[263],{3131:function(e,n,r){"use strict";r(2791);var t=r(8983),s=r(184);n.Z=function(e,n){return(0,s.jsx)(t.oo,{color:"secondary",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)(t.xZ,{closeButton:!0,children:[(0,s.jsx)("svg",{className:"rounded me-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img",children:(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"#007aff"})}),(0,s.jsx)("div",{className:"fw-bold me-auto",children:e})]}),(0,s.jsx)(t.S3,{children:n})]})})}},6263:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return k}});var t=r(4165),s=r(5861),i=r(9439),l=r(2791),a=r(5230),c=r(8983),o=r(9265),u=r(3131),d=r(184),m="Isolated",h="Crossed",p=m,f="Short",x=f,j="Market",b="Limit",v=j,g=function(e){var n=e.onCloseHandler,r=(e.onSubmitHandler,(0,l.useState)(!0)),o=(0,i.Z)(r,2),g=o[0],N=o[1],y=(0,l.useState)(0),Z=(0,i.Z)(y,2),w=Z[0],S=Z[1],P=(0,l.useRef)(),C=(0,l.useRef)(null),k=(0,l.useState)([]),R=(0,i.Z)(k,2),L=R[0],F=R[1],V=(0,l.useRef)(x),O=((0,l.useRef)("30"),(0,l.useRef)("5")),M=(0,l.useRef)(p),Y=(0,l.useState)("BTCUSDT"),A=(0,i.Z)(Y,2),T=A[0],I=A[1],E=(0,l.useState)(v),z=(0,i.Z)(E,2),D=z[0],H=z[1],_=(0,l.useState)(),X=(0,i.Z)(_,2),B=X[0],q=X[1],K=(0,l.useState)(),Q=(0,i.Z)(K,2),U=Q[0],G=Q[1],J=(0,l.useState)("---"),W=(0,i.Z)(J,2),$=W[0],ee=W[1],ne=(0,l.useState)("---"),re=(0,i.Z)(ne,2),te=re[0],se=re[1],ie=(0,l.useRef)(null),le=(0,l.useRef)(null);return(0,l.useEffect)((function(){(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbols.sort();F(n)}))}),[]),(0,l.useEffect)((function(){function e(){(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolMarketInfo(T);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbolMarketInfo;ee(n.markPrice),se(n.lastPrice)}))}var n;if(e(),n=T,function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolInfo(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){var n=e.symbolInfo;M.current.value=!0===n.isolated?m:h,O.current.value=n.leverage})),N(!1),T){var r=setInterval(e,2e3);return function(){return clearInterval(r)}}}),[T]),g?(0,d.jsx)(c.LQ,{color:"info"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.KF,{ref:P,push:w,placement:"top-end"}),(0,d.jsxs)(c.lx,{ref:C,onSubmit:function(e){e.preventDefault(),D!==b||B?(S((0,u.Z)("PLACE ORDER","submitting order...")),function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={symbol:T,mode:M.current.value,side:V.current.value,leverage:O.current.value,type:D,amount:U,price:B,tp:ie.current.value,sl:le.current.value},e.next=3,a.Z.placeNewOrder(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){S((0,u.Z)("PLACE ORDER",JSON.stringify(e))),n()}))):S((0,u.Z)("Type: Limit","Price should be set (larger than zero)"))},children:[(0,d.jsx)(c.p0,{children:(0,d.jsx)(c.fl,{children:"New Trade"})}),(0,d.jsx)(c.sD,{children:(0,d.jsxs)(c.rb,{className:"d-flex d-flex-row justify-content-around",children:[(0,d.jsxs)(c.b7,{xs:10,lg:4,children:[(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputSymbol",className:"",children:"Symbol"}),(0,d.jsx)(c.LX,{id:"inputSymbol",onChange:function(e){I(e.target.value),q(""),G("")},value:T,children:L.map((function(e,n){return(0,d.jsx)("option",{children:e},n)}))})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputMode",children:"Mode"}),(0,d.jsxs)(c.LX,{ref:M,id:"inputMode",defaultValue:p,children:[(0,d.jsx)("option",{children:m}),(0,d.jsx)("option",{children:h})]})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputLeverage",children:"Leverage"}),(0,d.jsx)(c.jO,{ref:O,type:"number","aria-label":"profit target",className:"col-4",defaultValue:"5",id:"inputLeverage"}),(0,d.jsx)(c.wV,{component:"label",children:"x"})]})]}),(0,d.jsxs)(c.b7,{xs:10,lg:7,children:[(0,d.jsxs)(c.rb,{children:[(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"info",children:["Mark Price: ",Number($).toFixed(2)]})}),(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"warning",children:["Last Price: ",Number(te).toFixed(2)]})})]}),(0,d.jsxs)(c.YR,{className:"mt-1 mb-2 md-col-4",children:[(0,d.jsx)(c.b7,{xs:7,lg:6,className:"mr-2",children:(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputSide",children:"Direction"}),(0,d.jsxs)(c.LX,{id:"inputSide",ref:V,defaultValue:x,children:[(0,d.jsx)("option",{children:"Long"}),(0,d.jsx)("option",{children:f})]})]})}),(0,d.jsx)(c.b7,{xs:7,lg:5,children:(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputSide",children:"Type"}),(0,d.jsxs)(c.LX,{id:"inputType",value:D,onChange:function(e){H(e.target.value)},children:[(0,d.jsx)("option",{children:b}),(0,d.jsx)("option",{children:j})]})]})}),(0,d.jsxs)(c.YR,{className:"mb-0",size:"md",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"price",children:"Price"}),(0,d.jsx)(c.jO,{type:"number",placeholder:"","aria-label":"price",value:B,id:"price",onChange:function(e){q(Number(e.target.value))},disabled:D===j}),(0,d.jsx)(c.wV,{component:"label",htmlFor:"amout",children:"Amount"}),(0,d.jsx)(c.jO,{type:"number",placeholder:"","aria-label":"amount",defaultValue:"",id:"amount",onChange:function(e){G(Number(e.target.value))}})]})]}),(0,d.jsxs)(c.YR,{className:"my-2",children:[(0,d.jsxs)(c.YR,{className:"mb-1",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputTP",children:"Take Profit (option)"}),(0,d.jsx)(c.jO,{ref:ie,type:"number",placeholder:"","aria-label":"Take Profit",defaultValue:"",id:"inputTP",disabled:D===b}),(0,d.jsx)(c.wV,{component:"label",children:"%"})]}),(0,d.jsxs)(c.YR,{className:"mb-1",children:[(0,d.jsx)(c.wV,{className:"",component:"label",htmlFor:"inputSL",children:"Stop Loss (option)"}),(0,d.jsx)(c.jO,{ref:le,type:"number",placeholder:"","aria-label":"stoploss percent",defaultValue:"",id:"inputSL",disabled:D===b}),(0,d.jsx)(c.wV,{component:"label",children:"%"})]})]})]})]})}),(0,d.jsxs)(c.Ym,{children:[(0,d.jsx)(c.u5,{color:"secondary",onClick:function(){return n()},children:"Close"}),(0,d.jsx)(c.u5,{color:"primary",type:"submit",children:"Submit"})]})]})]})},N=r(3433),y="Isolated",Z="Crossed",w=y,S="Short",P=S,C=function(e){var n=e.onCloseHandler,r=(e.onSubmitHandler,(0,l.useState)(!0)),o=(0,i.Z)(r,2),m=o[0],h=o[1],p=(0,l.useState)(0),f=(0,i.Z)(p,2),x=f[0],j=f[1],b=(0,l.useRef)(),v=(0,l.useRef)(null),g=(0,l.useState)([]),C=(0,i.Z)(g,2),k=C[0],R=C[1],L=(0,l.useRef)(P),F=((0,l.useRef)("30"),(0,l.useRef)("5")),V=(0,l.useRef)(w),O=(0,l.useRef)("1000"),M=(0,l.useState)("BTCUSDT"),Y=(0,i.Z)(M,2),A=Y[0],T=Y[1],I=(0,l.useState)(5),E=(0,i.Z)(I,2),z=E[0],D=E[1],H=(0,l.useState)(Array(5)),_=(0,i.Z)(H,2),X=_[0],B=_[1],q=(0,l.useState)(Array(5)),K=(0,i.Z)(q,2),Q=K[0],U=K[1],G=(0,l.useState)(null),J=(0,i.Z)(G,2),W=J[0],$=J[1],ee=(0,l.useState)(null),ne=(0,i.Z)(ee,2),re=ne[0],te=ne[1],se=(0,l.useState)("---"),ie=(0,i.Z)(se,2),le=ie[0],ae=ie[1],ce=(0,l.useState)("---"),oe=(0,i.Z)(ce,2),ue=oe[0],de=oe[1],me=(0,l.useState)(0),he=(0,i.Z)(me,2),pe=he[0],fe=he[1],xe=(0,l.useRef)(null),je=(0,l.useRef)(null);function be(e){var n=Number(e.target.id.replace("price",""));B((function(r){var t=(0,N.Z)(r);return t[n]=Number(e.target.value),t}))}function ve(e){var n=Number(e.target.id.replace("amount",""));U((function(r){var t=(0,N.Z)(r);return t[n]=Number(e.target.value),t}))}return(0,l.useEffect)((function(){(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbols.sort();R(n)}))}),[]),(0,l.useEffect)((function(){function e(){(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolMarketInfo(A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbolMarketInfo;ae(n.markPrice),de(n.lastPrice),console.log(n.pricePrecision),fe(n.pricePrecision<100?n.pricePrecision:0)}))}var n;if(e(),n=A,function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getSymbolInfo(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){var n=e.symbolInfo;V.current.value=!0===n.isolated?y:Z,F.current.value=n.leverage})),h(!1),A){var r=setInterval(e,2e3);return function(){return clearInterval(r)}}}),[A]),(0,l.useEffect)((function(){var e,n=0,r=0;X.slice(0,z).forEach((function(e,t){var s=Q[t];e>0&&s>0&&(n+=s,r+=e*s)})),e=(r/n).toFixed(pe),te(e),$(n)}),[X,Q,z]),m?(0,d.jsx)(c.LQ,{color:"info"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.KF,{ref:b,push:x,placement:"top-end"}),(0,d.jsxs)(c.lx,{ref:v,onSubmit:function(e){e.preventDefault(),j((0,u.Z)("PLACE ORDER","submitting order...")),function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],X.slice(0,z).forEach((function(e,r){var t=Q[r];e>0&&t>0&&n.push([e,t])})),r={symbol:A,mode:V.current.value,direction:L.current.value,leverage:F.current.value,maxBalance:O.current.value,levels:[].concat(n),takeProfit:{trigger:"mark",type:"market",percent:xe.current.value},stopLoss:{trigger:"last",type:"limit",percent:je.current.value}},e.next=6,a.Z.placeGridOrder(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log(e),j((0,u.Z)("PLACE ORDER",JSON.stringify(e))),n()}))},children:[(0,d.jsx)(c.p0,{children:(0,d.jsx)(c.fl,{children:"New Grid Order"})}),(0,d.jsx)(c.sD,{children:(0,d.jsxs)(c.rb,{className:"d-flex d-flex-row justify-content-around",children:[(0,d.jsxs)(c.b7,{xs:10,lg:5,children:[(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputSymbol",className:"",children:"Symbol"}),(0,d.jsx)(c.LX,{id:"inputSymbol",onChange:function(e){T(e.target.value),D(5),B(new Array(5)),U(new Array(5))},value:A,children:k.map((function(e,n){return(0,d.jsx)("option",{children:e},n)}))})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputMode",children:"Mode"}),(0,d.jsxs)(c.LX,{ref:V,id:"inputMode",defaultValue:w,children:[(0,d.jsx)("option",{children:y}),(0,d.jsx)("option",{children:Z})]})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputLeverage",children:"Leverage"}),(0,d.jsx)(c.jO,{ref:F,type:"number","aria-label":"profit target",className:"col-4",defaultValue:"5",id:"inputLeverage"}),(0,d.jsx)(c.wV,{component:"label",children:"x"})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputSide",children:"Direction"}),(0,d.jsxs)(c.LX,{id:"inputSide",ref:L,defaultValue:P,children:[(0,d.jsx)("option",{children:"Long"}),(0,d.jsx)("option",{children:S})]})]}),(0,d.jsxs)(c.YR,{className:"mb-2",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputInitialMargin",children:"Max Balance"}),(0,d.jsx)(c.jO,{ref:O,type:"number",placeholder:"100","aria-label":"profit target",className:"col-4",defaultValue:1e3,id:"inputInitialMargin"}),(0,d.jsx)(c.wV,{component:"label",children:"USDT"})]})]}),(0,d.jsxs)(c.b7,{xs:10,lg:6,children:[(0,d.jsxs)(c.rb,{children:[(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"info",children:["Mark Price:"," ",Number(le).toFixed(pe)]})}),(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"warning",children:["Last Price:"," ",Number(ue).toFixed(pe)]})})]}),(0,d.jsxs)(c.YR,{className:"mt-1 mb-2 md-col-4",children:[(0,d.jsxs)(c.YR,{className:"mb-0",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputLevels",children:"Number Levels"}),(0,d.jsx)(c.jO,{type:"number",placeholder:z,"aria-label":"",value:z,id:"inputLevels",onChange:function(e){D(e.target.value)}})]}),!!z&&Array.from({length:z}).map((function(e,n){return(0,d.jsxs)(c.YR,{className:"mb-0",size:"sm",children:[(0,d.jsxs)(c.wV,{component:"label",htmlFor:"price"+n,children:["Price ",n+1]}),(0,d.jsx)(c.jO,{type:"number",step:"any",placeholder:"","aria-label":"price",defaultValue:"",id:"price"+n,onChange:be}),(0,d.jsxs)(c.wV,{component:"label",htmlFor:"amout"+n,children:["Amt ",n+1]}),(0,d.jsx)(c.jO,{type:"number",step:"any",placeholder:"","aria-label":"amount",defaultValue:"",id:"amount"+n,onChange:ve})]},n)})),(0,d.jsxs)(c.rb,{children:[(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"danger",children:["Average Price: ",re]})}),(0,d.jsx)(c.b7,{children:(0,d.jsxs)(c.C_,{color:"warning",children:["Total Amount: ",W]})})]})]}),(0,d.jsxs)(c.YR,{className:"my-2",children:[(0,d.jsxs)(c.YR,{className:"mb-1",children:[(0,d.jsx)(c.wV,{component:"label",htmlFor:"inputTP",children:"Take Profit (option)"}),(0,d.jsx)(c.jO,{ref:xe,type:"number",placeholder:"","aria-label":"Take Profit",defaultValue:"",id:"inputTP"}),(0,d.jsx)(c.wV,{component:"label",children:"%"})]}),(0,d.jsxs)(c.YR,{className:"mb-1",children:[(0,d.jsx)(c.wV,{className:"",component:"label",htmlFor:"inputSL",children:"Stop Loss (option)"}),(0,d.jsx)(c.jO,{ref:je,type:"number",placeholder:"","aria-label":"stoploss percent",defaultValue:"",id:"inputSL"}),(0,d.jsx)(c.wV,{component:"label",children:"%"})]})]})]})]})}),(0,d.jsxs)(c.Ym,{children:[(0,d.jsx)(c.u5,{color:"secondary",onClick:function(){return n},children:"Close"}),(0,d.jsx)(c.u5,{color:"primary",type:"submit",children:"Submit"})]})]})]})},k=function(){var e=(0,l.useState)(null),n=(0,i.Z)(e,2),r=n[0],u=n[1],m=(0,l.useState)(!1),h=(0,i.Z)(m,2),p=h[0],f=h[1],x=(0,l.useState)(!1),j=(0,i.Z)(x,2),b=j[0],v=j[1];function N(){return y.apply(this,arguments)}function y(){return y=(0,s.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.getPositions();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}return(0,l.useEffect)((function(){N().then((function(e){return u(e)}));var e=setInterval((function(){N().then((function(e){return u(e)}))}),2e3);return function(){return clearInterval(e)}}),[]),r?!1===r.success?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Manual Trade"}),(0,d.jsx)("p",{children:r.message})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,d.jsx)("h1",{children:"Manual Trade"}),(0,d.jsxs)("div",{className:"d-inline-flex justify-content-between align-items-center",children:[(0,d.jsx)("button",{onClick:function(e){f(!0)},className:"btn btn-warning",children:"New Order"}),(0,d.jsx)(c.Tk,{size:"lg",alignment:"center",visible:p,onClose:function(){return f(!1)},children:(0,d.jsx)(g,{onCloseHandler:function(){return f(!1)}})}),(0,d.jsx)("button",{onClick:function(e){v(!0)},className:"btn btn-warning mx-2",children:"New Multi-Level Order"}),(0,d.jsx)(c.Tk,{size:"lg",alignment:"center",visible:b,onClose:function(){return v(!1)},children:(0,d.jsx)(C,{onCloseHandler:function(){return v(!1)}})})]})]}),(0,d.jsx)(o.Z,{positions:r.positions,isClose:!0})]}):(0,d.jsx)(c.LQ,{color:"info"})}},9265:function(e,n,r){"use strict";r.d(n,{Z:function(){return p}});var t=r(4165),s=r(5861),i=r(9439),l=r(2791),a=(r(1047),r(5230)),c=r(1694),o=r.n(c),u=r(8983),d=r(184),m=function(e){var n=e.position,r=e.index,t=e.isClose,s=e.closeHandler,a=e.closeLimitHandler,c=(0,l.useState)(""),m=(0,i.Z)(c,2),h=m[0],p=m[1];var f=n.positionAmt>0?"info":"danger",x=n.pnl>0?"success":"danger";return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(u.T6,{className:"",children:[(0,d.jsxs)(u.NN,{className:"align-middle",children:[(0,d.jsx)(u.C_,{color:f,children:n.symbol}),(0,d.jsx)("span",{children:(0,d.jsxs)(u.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})})]}),(0,d.jsx)(u.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.entryPrice}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.markPrice}),(0,d.jsx)(u.NN,{className:"align-middle text-warning",children:n.liquidationPrice}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.marginSize}),(0,d.jsxs)(u.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]}),t&&(0,d.jsx)(u.NN,{className:"align-middle",children:(0,d.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,d.jsx)(u.u5,{color:x,variant:"ghost",value:n,onClick:function(e){s(n)},size:"sm",children:"Market"}),(0,d.jsx)("div",{className:"vr align-middle"}),(0,d.jsx)(u.u5,{color:x,variant:"ghost",value:n,onClick:function(e){a(n,h),p("")},size:"sm",children:"Limit"}),(0,d.jsx)("div",{className:"col-4",children:(0,d.jsx)(u.jO,{type:"number",size:"sm",placeholder:"price",value:h,id:"limit-price",onChange:function(e){return p(e.target.value)}})})]})})]},r)})},h=r(3131),p=function(e){var n=e.positions,r=e.isClose,c=(0,l.useState)(0),o=(0,i.Z)(c,2),p=o[0],f=o[1],x=(0,l.useRef)();function j(e,n,r){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)((0,t.Z)().mark((function e(n,r,s){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.closePosition(n,r,s);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){f((0,h.Z)("Close Position","submitting order...")),j(e,"market",0).then((function(e){f((0,h.Z)("Close Position",e.message))}))}function g(e,n){var r=e.markPrice-50*e.markPrice/100,t=1.5*e.markPrice;n>=r&&n<=t?(f((0,h.Z)("Close Position","submitting order...")),j(e,"limit",n).then((function(e){f((0,h.Z)("Close Position",e.message))}))):f((0,h.Z)("Close Position","price should be larger or smaller than mark price maximum of 50%"))}function N(){f((0,h.Z)("Close All Positions","submitting order...")),function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.clearPositions();case 2:return n=e.sent,f((0,h.Z)("Close All Positions","".concat(n.msg))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}var y=n.map((function(e,n){var r=e.symbol,t=e.entryPrice,s=e.unRealizedProfit,i=e.positionAmt,l=(e.isolatedMargin,e.markPrice),a=e.liquidationPrice,c=e.isolatedWallet,o=e.leverage,u=i*t,d=100*s/(Math.abs(u)/o);return{symbol:r,positionAmt:i,size:Number(u).toFixed(2),entryPrice:Number(t).toFixed(2),markPrice:Number(l).toFixed(2),liquidationPrice:Number(a).toFixed(2),marginSize:Number(c).toFixed(2),pnl:Number(s).toFixed(2),roe:Number(d).toFixed(2),leverage:o}})),Z=["Symbol","Size","Entry Price","Mark Price","Liq.Price","Margin","PNL (ROE%)"];return r&&Z.push("Close All Positions"),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.rb,{children:(0,d.jsx)(u.b7,{xl:12,children:(0,d.jsxs)(u.xH,{className:"mb-4",children:[(0,d.jsxs)(u.bn,{children:["Positions (",y.length,")"]}),(0,d.jsx)(u.sl,{children:(0,d.jsxs)("table",{className:"table",children:[(0,d.jsx)("thead",{className:"",children:(0,d.jsx)("tr",{children:Z.map((function(e,n){return"Close All Positions"===e?(0,d.jsx)("th",{children:(0,d.jsx)("div",{children:(0,d.jsx)(u.If,{content:"close all positions as market price",placement:"top",children:(0,d.jsx)(u.u5,{variant:"ghost",color:"warning",onClick:N,children:e})})})},n):(0,d.jsx)("th",{children:e},n)}))})}),(0,d.jsx)(u.NR,{children:y.map((function(e,n){return(0,d.jsx)(m,{position:e,isClose:r,closeHandler:v,closeLimitHandler:g},n)}))})]})})]})})}),(0,d.jsx)(u.KF,{ref:x,push:p,placement:"top-end"})]})}},1694:function(e,n){var r;!function(){"use strict";var t={}.hasOwnProperty;function s(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var l=s.apply(null,r);l&&e.push(l)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var a in r)t.call(r,a)&&r[a]&&e.push(a)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(n,[]))||(e.exports=r)}()}}]);
//# sourceMappingURL=263.f19853fb.chunk.js.map