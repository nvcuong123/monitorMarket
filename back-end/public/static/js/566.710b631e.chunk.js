"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[566],{44566:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(29439),a=n(74165),i=n(15861),s=n(72791),c=n(62591),o=["h1","h4","h8","h12","h24","all"],l=["Binance","Bitmex","Bybit","CME","OKX","Deribit","Kraken","Bitfinex","Huobi","Bitget","dYdX","CoinEx","Gate"],u=["BTC","ETH","BNB","XRP","LTC","DOGE","SOL","DOT","ADA","MATIC","ETC","LINK","APE","BCH","TRX","EOS","FIL","CHZ","OP","AXS","AVAX","FTM","ATOM","DYDX","NEAR","APT","1000SHIB","1000LUNA"],d=["h1","h4","h12","h24","all"],h="https://try.readme.io/https://open-api.coinglass.com/public/v2",p={method:"GET",mode:"cors",headers:{accept:"application/json",coinglassSecret:"640ee594b3de4f8e97a7f95aaceec7bf"}},m=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"/").concat("funding_usd_history","?symbol=").concat(t,"&time_type=").concat(n),i=window.fetch(r,p).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)})),e.next=5,i;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"/").concat("open_interest_history","?symbol=").concat(t,"&time_type=").concat(n,"&currency=USD"),i=window.fetch(r,p).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)})),e.next=5,i;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"/").concat("long_short_history","?time_type=").concat(n,"&symbol=").concat(t),i=window.fetch(r,p).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)})),e.next=5,i;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"/").concat("long_short","?time_type=").concat(n,"&symbol=").concat(t),i=window.fetch(r,p).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)})),e.next=5,i;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=n(80184),y=["Time","Binance","Bybit","OKX","Huobi","Gate","Bitget","CoinEx"],v=function(e){var t=e.fundingRateData,n=!1;return o.includes(e.timeFrame)&&(n=!0),(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(c.Z,{responsive:!0,variant:"light",size:"sm",striped:!0,children:[(0,b.jsx)("thead",{className:"table-header",children:(0,b.jsx)("tr",{children:y.map((function(e,t){return(0,b.jsx)("th",{children:e},t)}))})}),(0,b.jsx)("tbody",{children:t.map((function(e,t){var r=new Date(e.date);return r=n?"".concat(String(r.getDate()).padStart(2,"0"),", ").concat(String(r.getHours()).padStart(2,"0"),":").concat(String(r.getMinutes()).padStart(2,"0")):"".concat(String(r.getHours()).padStart(2,"0"),":").concat(String(r.getMinutes()).padStart(2,"0")),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:r}),(0,b.jsxs)("td",{className:e.binance>.01?"text-danger":e.binance<.01?"text-primary":"",children:[e.binance.toFixed(4),"%"]}),(0,b.jsxs)("td",{className:e.bybit>.01?"text-danger":e.bybit<.01?"text-primary":"",children:[e.bybit.toFixed(4),"%"]}),(0,b.jsxs)("td",{className:e.okx>.01?"text-danger":e.okx<.01?"text-primary":"",children:[e.okx.toFixed(4),"%"]}),(0,b.jsxs)("td",{className:e.huobi>.01?"text-danger":e.huobi<.01?"text-primary":"",children:[e.huobi.toFixed(4),"%"]}),(0,b.jsxs)("td",{className:e.gate>.01?"text-danger":e.gate<.01?"text-primary":"",children:[e.gate.toFixed(4),"%"]}),e.bitget?(0,b.jsxs)("td",{className:e.bitget>.01?"text-danger":e.bitget<.01?"text-primary":"",children:[e.bitget.toFixed(4),"%"]}):(0,b.jsx)("td",{}),(0,b.jsxs)("td",{className:e.coinex>.01?"text-danger":e.coinex<.01?"text-primary":"",children:[e.coinex.toFixed(4),"%"]})]},t)}))})]})})},S=function(e){var t=(0,s.useState)(null),n=(0,r.Z)(t,2),c=n[0],o=n[1],l=(0,s.useState)(0),u=(0,r.Z)(l,2),d=(u[0],u[1],e.timeLive),h=e.symbol,p=e.timeFrame;function x(e,t){return g.apply(this,arguments)}function g(){return g=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r,i,s,c,o,l,u,d,h,p,x,g,f,b,y;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,m(t,n);case 3:if(i=e.sent,s=i.data,c=s.frDataMap,o=0,!(s.dateList.length>0)){e.next=26;break}l=s.dateList.length-1;case 9:if(!(l<s.dateList.length)){e.next=26;break}if(u=s.dateList[l],d=c.Binance[l],h=c.Bitget[l],p=c.Bybit[l],x=c.CoinEx[l],g=c.Gate[l],f=c.Huobi[l],b=c.OKX?c.OKX[l]:0,y={date:u,binance:d,bitget:h,bybit:p,coinex:x,gate:g,huobi:f,okx:b},r[o]=y,!(++o>=20)){e.next=23;break}return e.abrupt("break",26);case 23:l--,e.next=9;break;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return(0,s.useEffect)((function(){x(h,p).then((function(e){return o(e)}));var e=setInterval((function(){x(h,p).then((function(e){return o(e)}))}),d);return function(){return clearInterval(e)}}),[d,h,p]),(0,b.jsxs)("div",{className:"indicator-container",children:[(0,b.jsx)("div",{className:"indicator-label",children:"Funding Rate"}),(0,b.jsx)("div",{className:"indicator-body",children:null!==c?(0,b.jsx)(v,{fundingRateData:c,timeFrame:p}):(0,b.jsx)(b.Fragment,{})})]})},j=n(29546),k=n(43880),Z=n(74819),L=n(43623);Z.kL.register(Z.uw,Z.f$,Z.od,Z.jn,Z.Dx,Z.u,Z.De);var w=function(e){var t=!1;o.includes(e.timeFrame)&&(t=!0);var n=e.openInterestData.dataMap,r=e.openInterestData.dateList.slice();r=r.reverse().slice(0,30).reverse();var a=e.openInterestData.priceList.slice();a=a.reverse().slice(0,30).reverse();var i=e.exchange,s=e.symbol,c=[];for(var l in n)l===i&&(c=(c=n[l].slice()).reverse().slice(0,30).reverse());var u=[];r.map((function(e){var n=new Date(e);return n=t?"".concat(String(n.getDate()).padStart(2,"0"),", ").concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0")):"".concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0")),u.push(n)}));var d={labels:u,datasets:[{label:"".concat(i," OI"),data:c,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",yAxisID:"y"},{label:"".concat(s," Price"),data:a,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",yAxisID:"y1"}]};return(0,b.jsx)("div",{children:(0,b.jsx)(L.x1,{options:{responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!1,text:""}},scales:{y:{type:"linear",display:!0,position:"left"},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}},data:d})})},D=function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(j.Z,{id:"dropdown-exchange",title:e.curExchange,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(t){e.exchangeSelectHandler(t)},children:e.exchangeList&&e.exchangeList.map((function(e,t){return(0,b.jsx)(k.Z.Item,{eventKey:e,children:e},t)}))})})},F=function(e){var t=(0,s.useState)(null),n=(0,r.Z)(t,2),c=n[0],o=n[1],u=(0,s.useState)("exchange"),d=(0,r.Z)(u,2),h=d[0],p=d[1],m=(0,s.useState)(["Binance"]),g=(0,r.Z)(m,2),f=g[0],y=g[1],v=e.timeLive,S=e.symbol,j=e.timeFrame;function k(e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}return(0,s.useEffect)((function(){k(S,j).then((function(e){o(e);var t=[],n=e.dataMap;l.map((function(e){return n.hasOwnProperty(e)?t.push(e):null})),e.dateList.map((function(e){return new Date(e).toLocaleString()})),y(t),p(t[0])}));var e=setInterval((function(){k(S,j).then((function(e){return o(e)}))}),v);return function(){return clearInterval(e)}}),[v,S,j]),(0,b.jsxs)("div",{className:"indicator-container",children:[(0,b.jsxs)("div",{className:"indicator-label",children:[(0,b.jsx)("div",{children:"Open Interest"}),(0,b.jsx)(D,{curExchange:h,exchangeList:f,exchangeSelectHandler:function(e){p(e)}})]}),(0,b.jsx)("div",{className:"indicator-body",children:c&&c.dataMap&&(0,b.jsx)(w,{openInterestData:c,exchange:h,symbol:S,timeFrame:j})})]})},N=n(90740),C=n.n(N);Z.kL.register(Z.f$,Z.uw,Z.ZL,Z.od,Z.jn,Z.De,Z.u,Z.ST,Z.vn);var I=["January","February","March","April","May","June","July"];I.map((function(){return C().datatype.number({min:-1e3,max:1e3})})),I.map((function(){return C().datatype.number({min:-1e3,max:1e3})})),I.map((function(){return C().datatype.number({min:-1e3,max:1e3})}));var A=n(81213);Z.kL.register(Z.f$,Z.uw,Z.ZL,Z.od,Z.jn,Z.De,Z.u,Z.ST,Z.vn);var H=function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(j.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(t){e.typeListSelectHandler(t)},children:e.typeList&&e.typeList.map((function(e,t){return(0,b.jsx)(k.Z.Item,{eventKey:e,children:e},t)}))})})},B=function(e){var t=e.exchangeLongShortRatio.list,n=[],r=[],a=[];n.push("All"),a.push(e.exchangeLongShortRatio.longRate),r.push(e.exchangeLongShortRatio.shortRate),t.map((function(e,t){return n.push(e.exchangeName),a.push(e.longRate),r.push(e.shortRate),t}));var i={labels:n,datasets:[{type:"bar",label:"long rate",data:a,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgb(75, 192, 192, 0.7)",yAxisID:"y",stack:"Stack 0",datalabels:{color:"#36A2EB"}},{type:"bar",label:"short rate",data:r,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgb(255, 99, 132, 0.7)",yAxisID:"y",stack:"Stack 0",datalabels:{color:"#36A2EB"}}]};return(0,b.jsx)("div",{children:(0,b.jsx)(L.kL,{options:{responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!1,text:""}},scales:{y:{type:"linear",display:!0,position:"left",stacked:!0,beginAtZero:!0}}},data:i,plugins:[A.Z]})})},E=function(e){var t=!1;o.includes(e.timeFrame)&&(t=!0);var n=[],r=[],a=[],i=[];n=(n=e.longShortHistoryData.dateList.slice()).reverse().slice(0,30).reverse(),r=(r=e.longShortHistoryData.shortsRateList.slice()).reverse().slice(0,30).reverse(),a=(a=e.longShortHistoryData.longRateList.slice()).reverse().slice(0,30).reverse(),i=(i=e.longShortHistoryData.longShortRateList.slice()).reverse().slice(0,30).reverse();var s=[];n.map((function(e){var n=new Date(e);return n=t?"".concat(String(n.getDate()).padStart(2,"0"),", ").concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0")):"".concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0")),s.push(n)}));var c={labels:s,datasets:[{label:"long/short ratio",data:i,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgb(53, 162, 235)",yAxisID:"y1"},{type:"bar",label:"long rate",data:a,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgb(75, 192, 192, 0.7)",yAxisID:"y",stack:"Stack 0"},{type:"bar",label:"short rate",data:r,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgb(255, 99, 132, 0.7)",yAxisID:"y",stack:"Stack 0"}]};return(0,b.jsx)("div",{children:(0,b.jsx)(L.x1,{options:{responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!1,text:""}},scales:{y:{type:"linear",display:!0,position:"left",stacked:!0,beginAtZero:!0},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}},data:c})})},R=["History","Live"],T=function(e){var t=(0,s.useState)(),n=(0,r.Z)(t,2),a=n[0],i=n[1],c=(0,s.useState)(),o=(0,r.Z)(c,2),l=o[0],u=o[1],d=(0,s.useState)(R[0]),h=(0,r.Z)(d,2),p=h[0],m=h[1],x=e.timeLive,y=e.symbol,v=e.timeFrame;return(0,s.useEffect)((function(){var e=0;return p===R[0]?(g(y,v).then((function(e){i(e.data)})),e=setInterval((function(){g(y,v).then((function(e){i(e.data)}))}),x)):p===R[1]&&(f(y,v).then((function(e){u(e.data[0])})),e=setInterval((function(){f(y,v).then((function(e){u(e.data[0])}))}),x)),function(){return clearInterval(e)}}),[x,y,v,p]),(0,b.jsxs)("div",{className:"indicator-container",children:[(0,b.jsxs)("div",{className:"indicator-label",children:[(0,b.jsx)("div",{children:"Long/Short Ratio"}),(0,b.jsx)(H,{curType:p,typeList:R,typeListSelectHandler:function(e){m(e)}})]}),(0,b.jsxs)("div",{className:"indicator-body",children:[p===R[0]&&a&&a.dateList&&(0,b.jsx)(E,{longShortHistoryData:a,symbol:y,timeFrame:v}),p===R[1]&&l&&l.list&&(0,b.jsx)(B,{exchangeLongShortRatio:l,symbol:y,timeFrame:v})]})]})},M=function(e){var t=(0,s.useState)(e.symbol),n=(0,r.Z)(t,2),a=n[0],i=n[1],c=(0,s.useState)(e.timeFrame),o=(0,r.Z)(c,2),l=o[0],h=o[1];return(0,b.jsxs)("header",{className:"App-header",children:[(0,b.jsxs)("div",{children:[e.symbol,"-USDT"]}),(0,b.jsxs)("div",{className:"header-right",children:[(0,b.jsx)(j.Z,{id:"dropdown-symbol",title:a,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(t){i(t),e.symbolSelectHandler(t)},children:u.map((function(e,t){return(0,b.jsx)(k.Z.Item,{eventKey:e,children:e},t)}))}),(0,b.jsx)("div",{className:"header-gap"}),(0,b.jsx)(j.Z,{id:"dropdown-timeframe",title:l,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(t){h(t),e.timeFrameSelectHandler(t)},children:d.map((function(e,t){return(0,b.jsx)(k.Z.Item,{eventKey:e,children:e},t)}))})]})]})};var O=function(){var e=(0,s.useState)("BTC"),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,s.useState)("h1"),c=(0,r.Z)(i,2),o=c[0],l=c[1];return(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)(M,{symbol:n,timeFrame:o,symbolSelectHandler:function(e){a(e)},timeFrameSelectHandler:function(e){l(e)}}),(0,b.jsxs)("div",{className:"grid-container",children:[(0,b.jsx)("div",{className:"grid-item",children:(0,b.jsx)("iframe",{id:"inlineFrameExample",title:"Coinglass website",width:"100%",height:"100%",src:"https://www.coinglass.com/BitcoinOpenInterest"})}),(0,b.jsx)("div",{className:"grid-item",children:(0,b.jsx)(F,{timeLive:1e4,symbol:n,timeFrame:o})}),(0,b.jsx)("div",{className:"grid-item",children:(0,b.jsx)(T,{timeLive:1e4,symbol:n,timeFrame:o})}),(0,b.jsx)("div",{className:"grid-item",children:(0,b.jsx)(S,{timeLive:1e4,symbol:n,timeFrame:"h8"})})]})]})}}}]);
//# sourceMappingURL=566.710b631e.chunk.js.map