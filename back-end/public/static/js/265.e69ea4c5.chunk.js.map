{"version":3,"file":"static/js/265.e69ea4c5.chunk.js","mappings":"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","sources":["../node_modules/@restart/hooks/esm/useWillUnmount.js","../node_modules/@restart/hooks/esm/useUpdatedRef.js","../node_modules/@restart/hooks/esm/useTimeout.js","../node_modules/@restart/ui/esm/useRootClose.js","../node_modules/@restart/ui/esm/useWaitForDOMRef.js","../node_modules/@restart/ui/esm/Overlay.js","../node_modules/react-bootstrap/esm/PopoverHeader.js","../node_modules/react-bootstrap/esm/PopoverBody.js","../node_modules/react-bootstrap/esm/Popover.js","../node_modules/react-transition-group/esm/config.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/Transition.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/react-transition-group/esm/utils/reflow.js","../node_modules/dom-helpers/esm/getComputedStyle.js","../node_modules/dom-helpers/esm/ownerWindow.js","../node_modules/dom-helpers/esm/hyphenate.js","../node_modules/dom-helpers/esm/hyphenateStyle.js","../node_modules/dom-helpers/esm/isTransform.js","../node_modules/dom-helpers/esm/css.js","../node_modules/dom-helpers/esm/transitionEnd.js","../node_modules/dom-helpers/esm/triggerEvent.js","../node_modules/react-bootstrap/esm/transitionEndListener.js","../node_modules/react-bootstrap/esm/safeFindDOMNode.js","../node_modules/react-bootstrap/esm/TransitionWrapper.js","../node_modules/react-bootstrap/esm/Fade.js","../node_modules/react-bootstrap/esm/triggerBrowserReflow.js","../node_modules/react-bootstrap/esm/Overlay.js","../node_modules/react-bootstrap/esm/useOverlayOffset.js","../node_modules/dom-helpers/esm/hasClass.js","../node_modules/react-bootstrap/esm/OverlayTrigger.js","../node_modules/react-bootstrap/esm/Tooltip.js","../node_modules/react-bootstrap/esm/helpers.js","../node_modules/react-use-websocket/src/index.ts","../node_modules/react-use-websocket/src/lib/attach-listener.ts","../node_modules/react-use-websocket/src/lib/attach-shared-listeners.ts","../node_modules/react-use-websocket/src/lib/constants.ts","../node_modules/react-use-websocket/src/lib/create-or-join.ts","../node_modules/react-use-websocket/src/lib/get-url.ts","../node_modules/react-use-websocket/src/lib/globals.ts","../node_modules/react-use-websocket/src/lib/manage-subscribers.ts","../node_modules/react-use-websocket/src/lib/proxy.ts","../node_modules/react-use-websocket/src/lib/socket-io.ts","../node_modules/react-use-websocket/src/lib/use-event-source.ts","../node_modules/react-use-websocket/src/lib/use-socket-io.ts","../node_modules/react-use-websocket/src/lib/use-websocket.ts","../node_modules/react-use-websocket/src/lib/util.ts","../node_modules/chartjs-chart-treemap/dist/chartjs-chart-treemap.esm.js"],"sourcesContent":["import useUpdatedRef from './useUpdatedRef';\nimport { useEffect } from 'react';\n/**\n * Attach a callback that fires when a component unmounts\n *\n * @param fn Handler to run when the component unmounts\n * @category effects\n */\n\nexport default function useWillUnmount(fn) {\n  var onUnmount = useUpdatedRef(fn);\n  useEffect(function () {\n    return function () {\n      return onUnmount.current();\n    };\n  }, []);\n}","import { useRef } from 'react';\n/**\n * Returns a ref that is immediately updated with the new value\n *\n * @param value The Ref value\n * @category refs\n */\n\nexport default function useUpdatedRef(value) {\n  var valueRef = useRef(value);\n  valueRef.current = value;\n  return valueRef;\n}","import { useMemo, useRef } from 'react';\nimport useMounted from './useMounted';\nimport useWillUnmount from './useWillUnmount';\n/*\n * Browsers including Internet Explorer, Chrome, Safari, and Firefox store the\n * delay as a 32-bit signed integer internally. This causes an integer overflow\n * when using delays larger than 2,147,483,647 ms (about 24.8 days),\n * resulting in the timeout being executed immediately.\n *\n * via: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\n */\n\nvar MAX_DELAY_MS = Math.pow(2, 31) - 1;\n\nfunction setChainedTimeout(handleRef, fn, timeoutAtMs) {\n  var delayMs = timeoutAtMs - Date.now();\n  handleRef.current = delayMs <= MAX_DELAY_MS ? setTimeout(fn, delayMs) : setTimeout(function () {\n    return setChainedTimeout(handleRef, fn, timeoutAtMs);\n  }, MAX_DELAY_MS);\n}\n/**\n * Returns a controller object for setting a timeout that is properly cleaned up\n * once the component unmounts. New timeouts cancel and replace existing ones.\n *\n *\n *\n * ```tsx\n * const { set, clear } = useTimeout();\n * const [hello, showHello] = useState(false);\n * //Display hello after 5 seconds\n * set(() => showHello(true), 5000);\n * return (\n *   <div className=\"App\">\n *     {hello ? <h3>Hello</h3> : null}\n *   </div>\n * );\n * ```\n */\n\n\nexport default function useTimeout() {\n  var isMounted = useMounted(); // types are confused between node and web here IDK\n\n  var handleRef = useRef();\n  useWillUnmount(function () {\n    return clearTimeout(handleRef.current);\n  });\n  return useMemo(function () {\n    var clear = function clear() {\n      return clearTimeout(handleRef.current);\n    };\n\n    function set(fn, delayMs) {\n      if (delayMs === void 0) {\n        delayMs = 0;\n      }\n\n      if (!isMounted()) return;\n      clear();\n\n      if (delayMs <= MAX_DELAY_MS) {\n        // For simplicity, if the timeout is short, just set a normal timeout.\n        handleRef.current = setTimeout(fn, delayMs);\n      } else {\n        setChainedTimeout(handleRef, fn, Date.now() + delayMs);\n      }\n    }\n\n    return {\n      set: set,\n      clear: clear\n    };\n  }, []);\n}","import listen from 'dom-helpers/listen';\nimport ownerDocument from 'dom-helpers/ownerDocument';\nimport { useEffect } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useClickOutside, { getRefTarget } from './useClickOutside';\nconst escapeKeyCode = 27;\n\nconst noop = () => {};\n\n/**\n * The `useRootClose` hook registers your callback on the document\n * when rendered. Powers the `<Overlay/>` component. This is used achieve modal\n * style behavior where your callback is triggered when the user tries to\n * interact with the rest of the document or hits the `esc` key.\n *\n * @param {Ref<HTMLElement>| HTMLElement} ref  The element boundary\n * @param {function} onRootClose\n * @param {object=}  options\n * @param {boolean=} options.disabled\n * @param {string=}  options.clickTrigger The DOM event name (click, mousedown, etc) to attach listeners on\n */\nfunction useRootClose(ref, onRootClose, {\n  disabled,\n  clickTrigger\n} = {}) {\n  const onClose = onRootClose || noop;\n  useClickOutside(ref, onClose, {\n    disabled,\n    clickTrigger\n  });\n  const handleKeyUp = useEventCallback(e => {\n    if (e.keyCode === escapeKeyCode) {\n      onClose(e);\n    }\n  });\n  useEffect(() => {\n    if (disabled || ref == null) return undefined;\n    const doc = ownerDocument(getRefTarget(ref)); // Store the current event to avoid triggering handlers immediately\n    // https://github.com/facebook/react/issues/20074\n\n    let currentEvent = (doc.defaultView || window).event;\n    const removeKeyupListener = listen(doc, 'keyup', e => {\n      // skip if this event is the same as the one running when we added the handlers\n      if (e === currentEvent) {\n        currentEvent = undefined;\n        return;\n      }\n\n      handleKeyUp(e);\n    });\n    return () => {\n      removeKeyupListener();\n    };\n  }, [ref, disabled, handleKeyUp]);\n}\n\nexport default useRootClose;","import ownerDocument from 'dom-helpers/ownerDocument';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport { useState, useEffect } from 'react';\nimport useWindow from './useWindow';\nexport const resolveContainerRef = (ref, document) => {\n  if (!canUseDOM) return null;\n  if (ref == null) return (document || ownerDocument()).body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if (ref && ('nodeType' in ref || ref.getBoundingClientRect)) return ref;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  const window = useWindow();\n  const [resolvedRef, setRef] = useState(() => resolveContainerRef(ref, window == null ? void 0 : window.document));\n\n  if (!resolvedRef) {\n    const earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  useEffect(() => {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(() => {\n    const nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport { useState } from 'react';\nimport usePopper from './usePopper';\nimport useRootClose from './useRootClose';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport mergeOptionsWithPopperConfig from './mergeOptionsWithPopperConfig';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/**\n * Built on top of `Popper.js`, the overlay component is\n * great for custom tooltip overlays.\n */\nconst Overlay = /*#__PURE__*/React.forwardRef((props, outerRef) => {\n  const {\n    flip,\n    offset,\n    placement,\n    containerPadding,\n    popperConfig = {},\n    transition: Transition\n  } = props;\n  const [rootElement, attachRef] = useCallbackRef();\n  const [arrowElement, attachArrowRef] = useCallbackRef();\n  const mergedRef = useMergedRefs(attachRef, outerRef);\n  const container = useWaitForDOMRef(props.container);\n  const target = useWaitForDOMRef(props.target);\n  const [exited, setExited] = useState(!props.show);\n  const popper = usePopper(target, rootElement, mergeOptionsWithPopperConfig({\n    placement,\n    enableEvents: !!props.show,\n    containerPadding: containerPadding || 5,\n    flip,\n    offset,\n    arrowElement,\n    popperConfig\n  }));\n\n  if (props.show) {\n    if (exited) setExited(false);\n  } else if (!props.transition && !exited) {\n    setExited(true);\n  }\n\n  const handleHidden = (...args) => {\n    setExited(true);\n\n    if (props.onExited) {\n      props.onExited(...args);\n    }\n  }; // Don't un-render the overlay while it's transitioning out.\n\n\n  const mountOverlay = props.show || Transition && !exited;\n  useRootClose(rootElement, props.onHide, {\n    disabled: !props.rootClose || props.rootCloseDisabled,\n    clickTrigger: props.rootCloseEvent\n  });\n\n  if (!mountOverlay) {\n    // Don't bother showing anything if we don't have to.\n    return null;\n  }\n\n  let child = props.children(Object.assign({}, popper.attributes.popper, {\n    style: popper.styles.popper,\n    ref: mergedRef\n  }), {\n    popper,\n    placement,\n    show: !!props.show,\n    arrowProps: Object.assign({}, popper.attributes.arrow, {\n      style: popper.styles.arrow,\n      ref: attachArrowRef\n    })\n  });\n\n  if (Transition) {\n    const {\n      onExit,\n      onExiting,\n      onEnter,\n      onEntering,\n      onEntered\n    } = props;\n    child = /*#__PURE__*/_jsx(Transition, {\n      in: props.show,\n      appear: true,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: handleHidden,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      children: child\n    });\n  }\n\n  return container ? /*#__PURE__*/ReactDOM.createPortal(child, container) : null;\n});\nOverlay.displayName = 'Overlay';\nexport default Overlay;","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('popover-header');","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('popover-body');","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useIsRTL } from './ThemeProvider';\nimport PopoverHeader from './PopoverHeader';\nimport PopoverBody from './PopoverBody';\nimport { getOverlayDirection } from './helpers';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst defaultProps = {\n  placement: 'right'\n};\nconst Popover = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  placement,\n  className,\n  style,\n  children,\n  body,\n  arrowProps,\n  popper: _,\n  show: _1,\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'popover');\n  const isRTL = useIsRTL();\n  const [primaryPlacement] = (placement == null ? void 0 : placement.split('-')) || [];\n  const bsDirection = getOverlayDirection(primaryPlacement, isRTL);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    role: \"tooltip\",\n    style: style,\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, decoratedBsPrefix, primaryPlacement && `bs-popover-${bsDirection}`),\n    ...props,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"popover-arrow\",\n      ...arrowProps\n    }), body ? /*#__PURE__*/_jsx(PopoverBody, {\n      children: children\n    }) : children]\n  });\n});\nPopover.defaultProps = defaultProps;\nexport default Object.assign(Popover, {\n  Header: PopoverHeader,\n  Body: PopoverBody,\n  // Default popover offset.\n  // https://github.com/twbs/bootstrap/blob/5c32767e0e0dbac2d934bcdee03719a65d3f1187/js/src/popover.js#L28\n  POPPER_OFFSET: [0, 8]\n});","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { forceReflow } from './utils/reflow';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        if (this.props.unmountOnExit || this.props.mountOnEnter) {\n          var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this); // https://github.com/reactjs/react-transition-group/pull/749\n          // With unmountOnExit or mountOnEnter, the enter animation should happen at the transition between `exited` and `entering`.\n          // To make the animation happen,  we have to separate each rendering and avoid being processed as batched.\n\n          if (node) forceReflow(node);\n        }\n\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export var forceReflow = function forceReflow(node) {\n  return node.scrollTop;\n};","import ownerWindow from './ownerWindow';\n/**\n * Returns one or all computed style properties of an element.\n * \n * @param node the element\n * @param psuedoElement the style property\n */\n\nexport default function getComputedStyle(node, psuedoElement) {\n  return ownerWindow(node).getComputedStyle(node, psuedoElement);\n}","import ownerDocument from './ownerDocument';\n/**\n * Returns the owner window of a given element.\n * \n * @param node the element\n */\n\nexport default function ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc && doc.defaultView || window;\n}","var rUpper = /([A-Z])/g;\nexport default function hyphenate(string) {\n  return string.replace(rUpper, '-$1').toLowerCase();\n}","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n * https://github.com/facebook/react/blob/2aeb8a2a6beb00617a4217f7f8284924fa2ad819/src/vendor/core/hyphenateStyleName.js\n */\nimport hyphenate from './hyphenate';\nvar msPattern = /^ms-/;\nexport default function hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}","var supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;\nexport default function isTransform(value) {\n  return !!(value && supportedTransforms.test(value));\n}","import getComputedStyle from './getComputedStyle';\nimport hyphenate from './hyphenateStyle';\nimport isTransform from './isTransform';\n\nfunction style(node, property) {\n  var css = '';\n  var transforms = '';\n\n  if (typeof property === 'string') {\n    return node.style.getPropertyValue(hyphenate(property)) || getComputedStyle(node).getPropertyValue(hyphenate(property));\n  }\n\n  Object.keys(property).forEach(function (key) {\n    var value = property[key];\n\n    if (!value && value !== 0) {\n      node.style.removeProperty(hyphenate(key));\n    } else if (isTransform(key)) {\n      transforms += key + \"(\" + value + \") \";\n    } else {\n      css += hyphenate(key) + \": \" + value + \";\";\n    }\n  });\n\n  if (transforms) {\n    css += \"transform: \" + transforms + \";\";\n  }\n\n  node.style.cssText += \";\" + css;\n}\n\nexport default style;","import css from './css';\nimport listen from './listen';\nimport triggerEvent from './triggerEvent';\n\nfunction parseDuration(node) {\n  var str = css(node, 'transitionDuration') || '';\n  var mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nfunction emulateTransitionEnd(element, duration, padding) {\n  if (padding === void 0) {\n    padding = 5;\n  }\n\n  var called = false;\n  var handle = setTimeout(function () {\n    if (!called) triggerEvent(element, 'transitionend', true);\n  }, duration + padding);\n  var remove = listen(element, 'transitionend', function () {\n    called = true;\n  }, {\n    once: true\n  });\n  return function () {\n    clearTimeout(handle);\n    remove();\n  };\n}\n\nexport default function transitionEnd(element, handler, duration, padding) {\n  if (duration == null) duration = parseDuration(element) || 0;\n  var removeEmulate = emulateTransitionEnd(element, duration, padding);\n  var remove = listen(element, 'transitionend', handler);\n  return function () {\n    removeEmulate();\n    remove();\n  };\n}","/**\n * Triggers an event on a given element.\n * \n * @param node the element\n * @param eventName the event name to trigger\n * @param bubbles whether the event should bubble up\n * @param cancelable whether the event should be cancelable\n */\nexport default function triggerEvent(node, eventName, bubbles, cancelable) {\n  if (bubbles === void 0) {\n    bubbles = false;\n  }\n\n  if (cancelable === void 0) {\n    cancelable = true;\n  }\n\n  if (node) {\n    var event = document.createEvent('HTMLEvents');\n    event.initEvent(eventName, bubbles, cancelable);\n    node.dispatchEvent(event);\n  }\n}","import css from 'dom-helpers/css';\nimport transitionEnd from 'dom-helpers/transitionEnd';\nfunction parseDuration(node, property) {\n  const str = css(node, property) || '';\n  const mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\nexport default function transitionEndListener(element, handler) {\n  const duration = parseDuration(element, 'transitionDuration');\n  const delay = parseDuration(element, 'transitionDelay');\n  const remove = transitionEnd(element, e => {\n    if (e.target === element) {\n      remove();\n      handler(e);\n    }\n  }, duration + delay);\n}","import ReactDOM from 'react-dom';\nexport default function safeFindDOMNode(componentOrElement) {\n  if (componentOrElement && 'setState' in componentOrElement) {\n    return ReactDOM.findDOMNode(componentOrElement);\n  }\n  return componentOrElement != null ? componentOrElement : null;\n}","import React, { useCallback, useRef } from 'react';\nimport Transition from 'react-transition-group/Transition';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport safeFindDOMNode from './safeFindDOMNode';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Normalizes Transition callbacks when nodeRef is used.\nconst TransitionWrapper = /*#__PURE__*/React.forwardRef(({\n  onEnter,\n  onEntering,\n  onEntered,\n  onExit,\n  onExiting,\n  onExited,\n  addEndListener,\n  children,\n  childRef,\n  ...props\n}, ref) => {\n  const nodeRef = useRef(null);\n  const mergedRef = useMergedRefs(nodeRef, childRef);\n  const attachRef = r => {\n    mergedRef(safeFindDOMNode(r));\n  };\n  const normalize = callback => param => {\n    if (callback && nodeRef.current) {\n      callback(nodeRef.current, param);\n    }\n  };\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  const handleEnter = useCallback(normalize(onEnter), [onEnter]);\n  const handleEntering = useCallback(normalize(onEntering), [onEntering]);\n  const handleEntered = useCallback(normalize(onEntered), [onEntered]);\n  const handleExit = useCallback(normalize(onExit), [onExit]);\n  const handleExiting = useCallback(normalize(onExiting), [onExiting]);\n  const handleExited = useCallback(normalize(onExited), [onExited]);\n  const handleAddEndListener = useCallback(normalize(addEndListener), [addEndListener]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  return /*#__PURE__*/_jsx(Transition, {\n    ref: ref,\n    ...props,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    addEndListener: handleAddEndListener,\n    nodeRef: nodeRef,\n    children: typeof children === 'function' ? (status, innerProps) => children(status, {\n      ...innerProps,\n      ref: attachRef\n    }) : /*#__PURE__*/React.cloneElement(children, {\n      ref: attachRef\n    })\n  });\n});\nexport default TransitionWrapper;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport { ENTERED, ENTERING } from 'react-transition-group/Transition';\nimport transitionEndListener from './transitionEndListener';\nimport triggerBrowserReflow from './triggerBrowserReflow';\nimport TransitionWrapper from './TransitionWrapper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  in: false,\n  timeout: 300,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false\n};\nconst fadeStyles = {\n  [ENTERING]: 'show',\n  [ENTERED]: 'show'\n};\nconst Fade = /*#__PURE__*/React.forwardRef(({\n  className,\n  children,\n  transitionClasses = {},\n  ...props\n}, ref) => {\n  const handleEnter = useCallback((node, isAppearing) => {\n    triggerBrowserReflow(node);\n    props.onEnter == null ? void 0 : props.onEnter(node, isAppearing);\n  }, [props]);\n  return /*#__PURE__*/_jsx(TransitionWrapper, {\n    ref: ref,\n    addEndListener: transitionEndListener,\n    ...props,\n    onEnter: handleEnter,\n    childRef: children.ref,\n    children: (status, innerProps) => /*#__PURE__*/React.cloneElement(children, {\n      ...innerProps,\n      className: classNames('fade', className, children.props.className, fadeStyles[status], transitionClasses[status])\n    })\n  });\n});\nFade.defaultProps = defaultProps;\nFade.displayName = 'Fade';\nexport default Fade;","// reading a dimension prop will cause the browser to recalculate,\n// which will let our animations work\nexport default function triggerBrowserReflow(node) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n  node.offsetHeight;\n}","import * as React from 'react';\nimport { useRef } from 'react';\nimport classNames from 'classnames';\nimport BaseOverlay from '@restart/ui/Overlay';\nimport useCallbackRef from '@restart/hooks/useCallbackRef';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useIsomorphicEffect from '@restart/hooks/useIsomorphicEffect';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport useOverlayOffset from './useOverlayOffset';\nimport Fade from './Fade';\nimport safeFindDOMNode from './safeFindDOMNode';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  transition: Fade,\n  rootClose: false,\n  show: false,\n  placement: 'top'\n};\nfunction wrapRefs(props, arrowProps) {\n  const {\n    ref\n  } = props;\n  const {\n    ref: aRef\n  } = arrowProps;\n  props.ref = ref.__wrapped || (ref.__wrapped = r => ref(safeFindDOMNode(r)));\n  arrowProps.ref = aRef.__wrapped || (aRef.__wrapped = r => aRef(safeFindDOMNode(r)));\n}\nconst Overlay = /*#__PURE__*/React.forwardRef(({\n  children: overlay,\n  transition,\n  popperConfig = {},\n  ...outerProps\n}, outerRef) => {\n  const popperRef = useRef({});\n  const [firstRenderedState, setFirstRenderedState] = useCallbackRef();\n  const [ref, modifiers] = useOverlayOffset(outerProps.offset);\n  const mergedRef = useMergedRefs(outerRef, ref);\n  const actualTransition = transition === true ? Fade : transition || undefined;\n  const handleFirstUpdate = useEventCallback(state => {\n    setFirstRenderedState(state);\n    popperConfig == null ? void 0 : popperConfig.onFirstUpdate == null ? void 0 : popperConfig.onFirstUpdate(state);\n  });\n  useIsomorphicEffect(() => {\n    if (firstRenderedState) {\n      popperRef.current.scheduleUpdate == null ? void 0 : popperRef.current.scheduleUpdate();\n    }\n  }, [firstRenderedState]);\n  return /*#__PURE__*/_jsx(BaseOverlay, {\n    ...outerProps,\n    ref: mergedRef,\n    popperConfig: {\n      ...popperConfig,\n      modifiers: modifiers.concat(popperConfig.modifiers || []),\n      onFirstUpdate: handleFirstUpdate\n    },\n    transition: actualTransition,\n    children: (overlayProps, {\n      arrowProps,\n      popper: popperObj,\n      show\n    }) => {\n      var _popperObj$state, _popperObj$state$modi;\n      wrapRefs(overlayProps, arrowProps);\n      // Need to get placement from popper object, handling case when overlay is flipped using 'flip' prop\n      const updatedPlacement = popperObj == null ? void 0 : popperObj.placement;\n      const popper = Object.assign(popperRef.current, {\n        state: popperObj == null ? void 0 : popperObj.state,\n        scheduleUpdate: popperObj == null ? void 0 : popperObj.update,\n        placement: updatedPlacement,\n        outOfBoundaries: (popperObj == null ? void 0 : (_popperObj$state = popperObj.state) == null ? void 0 : (_popperObj$state$modi = _popperObj$state.modifiersData.hide) == null ? void 0 : _popperObj$state$modi.isReferenceHidden) || false\n      });\n      if (typeof overlay === 'function') return overlay({\n        ...overlayProps,\n        placement: updatedPlacement,\n        show,\n        ...(!transition && show && {\n          className: 'show'\n        }),\n        popper,\n        arrowProps\n      });\n      return /*#__PURE__*/React.cloneElement(overlay, {\n        ...overlayProps,\n        placement: updatedPlacement,\n        arrowProps,\n        popper,\n        className: classNames(overlay.props.className, !transition && show && 'show'),\n        style: {\n          ...overlay.props.style,\n          ...overlayProps.style\n        }\n      });\n    }\n  });\n});\nOverlay.displayName = 'Overlay';\nOverlay.defaultProps = defaultProps;\nexport default Overlay;","import { useMemo, useRef } from 'react';\nimport hasClass from 'dom-helpers/hasClass';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Popover from './Popover';\n\n// This is meant for internal use.\n// This applies a custom offset to the overlay if it's a popover.\nexport default function useOverlayOffset(customOffset) {\n  const overlayRef = useRef(null);\n  const popoverClass = useBootstrapPrefix(undefined, 'popover');\n  const offset = useMemo(() => ({\n    name: 'offset',\n    options: {\n      offset: () => {\n        if (overlayRef.current && hasClass(overlayRef.current, popoverClass)) {\n          return customOffset || Popover.POPPER_OFFSET;\n        }\n        return customOffset || [0, 0];\n      }\n    }\n  }), [customOffset, popoverClass]);\n  return [overlayRef, [offset]];\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","import contains from 'dom-helpers/contains';\nimport * as React from 'react';\nimport { cloneElement, useCallback, useRef } from 'react';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport warning from 'warning';\nimport { useUncontrolledProp } from 'uncontrollable';\nimport useMergedRefs from '@restart/hooks/useMergedRefs';\nimport Overlay from './Overlay';\nimport safeFindDOMNode from './safeFindDOMNode';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction normalizeDelay(delay) {\n  return delay && typeof delay === 'object' ? delay : {\n    show: delay,\n    hide: delay\n  };\n}\n\n// Simple implementation of mouseEnter and mouseLeave.\n// React's built version is broken: https://github.com/facebook/react/issues/4251\n// for cases when the trigger is disabled and mouseOut/Over can cause flicker\n// moving from one child element to another.\nfunction handleMouseOverOut(\n// eslint-disable-next-line @typescript-eslint/no-shadow\nhandler, args, relatedNative) {\n  const [e] = args;\n  const target = e.currentTarget;\n  const related = e.relatedTarget || e.nativeEvent[relatedNative];\n  if ((!related || related !== target) && !contains(target, related)) {\n    handler(...args);\n  }\n}\nconst defaultProps = {\n  defaultShow: false,\n  trigger: ['hover', 'focus']\n};\nfunction OverlayTrigger({\n  trigger,\n  overlay,\n  children,\n  popperConfig = {},\n  show: propsShow,\n  defaultShow = false,\n  onToggle,\n  delay: propsDelay,\n  placement,\n  flip = placement && placement.indexOf('auto') !== -1,\n  ...props\n}) {\n  const triggerNodeRef = useRef(null);\n  const mergedRef = useMergedRefs(triggerNodeRef, children.ref);\n  const timeout = useTimeout();\n  const hoverStateRef = useRef('');\n  const [show, setShow] = useUncontrolledProp(propsShow, defaultShow, onToggle);\n  const delay = normalizeDelay(propsDelay);\n  const {\n    onFocus,\n    onBlur,\n    onClick\n  } = typeof children !== 'function' ? React.Children.only(children).props : {};\n  const attachRef = r => {\n    mergedRef(safeFindDOMNode(r));\n  };\n  const handleShow = useCallback(() => {\n    timeout.clear();\n    hoverStateRef.current = 'show';\n    if (!delay.show) {\n      setShow(true);\n      return;\n    }\n    timeout.set(() => {\n      if (hoverStateRef.current === 'show') setShow(true);\n    }, delay.show);\n  }, [delay.show, setShow, timeout]);\n  const handleHide = useCallback(() => {\n    timeout.clear();\n    hoverStateRef.current = 'hide';\n    if (!delay.hide) {\n      setShow(false);\n      return;\n    }\n    timeout.set(() => {\n      if (hoverStateRef.current === 'hide') setShow(false);\n    }, delay.hide);\n  }, [delay.hide, setShow, timeout]);\n  const handleFocus = useCallback((...args) => {\n    handleShow();\n    onFocus == null ? void 0 : onFocus(...args);\n  }, [handleShow, onFocus]);\n  const handleBlur = useCallback((...args) => {\n    handleHide();\n    onBlur == null ? void 0 : onBlur(...args);\n  }, [handleHide, onBlur]);\n  const handleClick = useCallback((...args) => {\n    setShow(!show);\n    onClick == null ? void 0 : onClick(...args);\n  }, [onClick, setShow, show]);\n  const handleMouseOver = useCallback((...args) => {\n    handleMouseOverOut(handleShow, args, 'fromElement');\n  }, [handleShow]);\n  const handleMouseOut = useCallback((...args) => {\n    handleMouseOverOut(handleHide, args, 'toElement');\n  }, [handleHide]);\n  const triggers = trigger == null ? [] : [].concat(trigger);\n  const triggerProps = {\n    ref: attachRef\n  };\n  if (triggers.indexOf('click') !== -1) {\n    triggerProps.onClick = handleClick;\n  }\n  if (triggers.indexOf('focus') !== -1) {\n    triggerProps.onFocus = handleFocus;\n    triggerProps.onBlur = handleBlur;\n  }\n  if (triggers.indexOf('hover') !== -1) {\n    process.env.NODE_ENV !== \"production\" ? warning(triggers.length > 1, '[react-bootstrap] Specifying only the `\"hover\"` trigger limits the visibility of the overlay to just mouse users. Consider also including the `\"focus\"` trigger so that touch and keyboard only users can see the overlay as well.') : void 0;\n    triggerProps.onMouseOver = handleMouseOver;\n    triggerProps.onMouseOut = handleMouseOut;\n  }\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [typeof children === 'function' ? children(triggerProps) : /*#__PURE__*/cloneElement(children, triggerProps), /*#__PURE__*/_jsx(Overlay, {\n      ...props,\n      show: show,\n      onHide: handleHide,\n      flip: flip,\n      placement: placement,\n      popperConfig: popperConfig,\n      target: triggerNodeRef.current,\n      children: overlay\n    })]\n  });\n}\nOverlayTrigger.defaultProps = defaultProps;\nexport default OverlayTrigger;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useIsRTL } from './ThemeProvider';\nimport { getOverlayDirection } from './helpers';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst defaultProps = {\n  placement: 'right'\n};\nconst Tooltip = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  placement,\n  className,\n  style,\n  children,\n  arrowProps,\n  popper: _,\n  show: _2,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'tooltip');\n  const isRTL = useIsRTL();\n  const [primaryPlacement] = (placement == null ? void 0 : placement.split('-')) || [];\n  const bsDirection = getOverlayDirection(primaryPlacement, isRTL);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    style: style,\n    role: \"tooltip\",\n    \"x-placement\": primaryPlacement,\n    className: classNames(className, bsPrefix, `bs-tooltip-${bsDirection}`),\n    ...props,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"tooltip-arrow\",\n      ...arrowProps\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: `${bsPrefix}-inner`,\n      children: children\n    })]\n  });\n});\nTooltip.defaultProps = defaultProps;\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","import * as React from 'react';\nexport class BsPrefixComponent extends React.Component {}\n\n// Need to use this instead of typeof Component to get proper type checking.\n\nexport function getOverlayDirection(placement, isRTL) {\n  let bsDirection = placement;\n  if (placement === 'left') {\n    bsDirection = isRTL ? 'end' : 'start';\n  } else if (placement === 'right') {\n    bsDirection = isRTL ? 'start' : 'end';\n  }\n  return bsDirection;\n}","export { useWebSocket as default } from './lib/use-websocket';\n\nexport { SendMessage, Options } from './lib/types';\n\nexport { useSocketIO } from './lib/use-socket-io';\n\nexport { ReadyState } from './lib/constants';\n\nexport { useEventSource } from './lib/use-event-source';\n\nexport { resetGlobalState } from './lib/util';\n","import { MutableRefObject } from 'react';\nimport { setUpSocketIOPing } from './socket-io';\nimport {\n  DEFAULT_RECONNECT_LIMIT,\n  DEFAULT_RECONNECT_INTERVAL_MS,\n  ReadyState,\n  isEventSourceSupported,\n} from './constants';\nimport { Options, SendMessage, WebSocketLike } from './types';\nimport { assertIsWebSocket } from './util';\n\nexport interface Setters {\n  setLastMessage: (message: WebSocketEventMap['message']) => void;\n  setReadyState: (readyState: ReadyState) => void;\n}\n\nconst bindMessageHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setLastMessage: Setters['setLastMessage'],\n) => {\n  webSocketInstance.onmessage = (message: WebSocketEventMap['message']) => {\n    optionsRef.current.onMessage && optionsRef.current.onMessage(message);\n    if (typeof optionsRef.current.filter === 'function' && optionsRef.current.filter(message) !== true) {\n      return;\n    }\n    setLastMessage(message);\n  };\n};\n\nconst bindOpenHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnectCount: MutableRefObject<number>,\n) => {\n  webSocketInstance.onopen = (event: WebSocketEventMap['open']) => {\n    optionsRef.current.onOpen && optionsRef.current.onOpen(event);\n    reconnectCount.current = 0;\n    setReadyState(ReadyState.OPEN);\n  };\n};\n\nconst bindCloseHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnect: () => void,\n  reconnectCount: MutableRefObject<number>,\n) => {\n  if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n    return () => {};\n  }\n  assertIsWebSocket(webSocketInstance, optionsRef.current.skipAssert);\n  let reconnectTimeout: number;\n\n  webSocketInstance.onclose = (event: WebSocketEventMap['close']) => {\n    optionsRef.current.onClose && optionsRef.current.onClose(event);\n    setReadyState(ReadyState.CLOSED);\n    if (optionsRef.current.shouldReconnect && optionsRef.current.shouldReconnect(event)) {\n      const reconnectAttempts = optionsRef.current.reconnectAttempts ?? DEFAULT_RECONNECT_LIMIT;\n      if (reconnectCount.current < reconnectAttempts) {\n        const nextReconnectInterval = typeof optionsRef.current.reconnectInterval === 'function' ?\n          optionsRef.current.reconnectInterval(reconnectCount.current) :\n          optionsRef.current.reconnectInterval;\n\n        reconnectTimeout = window.setTimeout(() => {\n          reconnectCount.current++;\n          reconnect();\n        }, nextReconnectInterval ?? DEFAULT_RECONNECT_INTERVAL_MS);\n      } else {\n        optionsRef.current.onReconnectStop && optionsRef.current.onReconnectStop(reconnectAttempts);\n        console.warn(`Max reconnect attempts of ${reconnectAttempts} exceeded`);\n      }\n    }\n  };\n\n  return () => reconnectTimeout && window.clearTimeout(reconnectTimeout);\n};\n\nconst bindErrorHandler = (\n  webSocketInstance: WebSocketLike,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: Setters['setReadyState'],\n  reconnect: () => void,\n  reconnectCount: MutableRefObject<number>,\n) => {\n  let reconnectTimeout: number;\n\n  webSocketInstance.onerror = (error: WebSocketEventMap['error']) => {\n    optionsRef.current.onError && optionsRef.current.onError(error);\n    if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n      optionsRef.current.onClose && optionsRef.current.onClose({\n        ...error,\n        code: 1006,\n        reason: `An error occurred with the EventSource: ${error}`,\n        wasClean: false,\n      });\n\n      setReadyState(ReadyState.CLOSED);\n      webSocketInstance.close();\n    }\n    \n    if (optionsRef.current.retryOnError) {\n      if (reconnectCount.current < (optionsRef.current.reconnectAttempts ?? DEFAULT_RECONNECT_LIMIT)) {\n        const nextReconnectInterval = typeof optionsRef.current.reconnectInterval === 'function' ?\n          optionsRef.current.reconnectInterval(reconnectCount.current) :\n          optionsRef.current.reconnectInterval;\n\n        reconnectTimeout = window.setTimeout(() => {\n          reconnectCount.current++;\n          reconnect();\n        }, nextReconnectInterval ?? DEFAULT_RECONNECT_INTERVAL_MS);\n      } else {\n        optionsRef.current.onReconnectStop && optionsRef.current.onReconnectStop(optionsRef.current.reconnectAttempts as number);\n        console.warn(`Max reconnect attempts of ${optionsRef.current.reconnectAttempts} exceeded`);\n      }\n    }\n  };\n\n  return () => reconnectTimeout && window.clearTimeout(reconnectTimeout);\n};\n\nexport const attachListeners = (\n    webSocketInstance: WebSocketLike,\n    setters: Setters,\n    optionsRef: MutableRefObject<Options>,\n    reconnect: () => void,\n    reconnectCount: MutableRefObject<number>,\n    sendMessage: SendMessage,\n  ): (() => void) => {\n  const { setLastMessage, setReadyState } = setters;\n\n  let interval: number;\n  let cancelReconnectOnClose: () => void;\n  let cancelReconnectOnError: () => void;\n\n  if (optionsRef.current.fromSocketIO) {\n    interval = setUpSocketIOPing(sendMessage);\n  }\n\n  bindMessageHandler(\n    webSocketInstance,\n    optionsRef,\n    setLastMessage,\n  );\n\n  bindOpenHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnectCount,\n  );\n\n  cancelReconnectOnClose = bindCloseHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnect,\n    reconnectCount,\n  );\n\n  cancelReconnectOnError = bindErrorHandler(\n    webSocketInstance,\n    optionsRef,\n    setReadyState,\n    reconnect,\n    reconnectCount,\n  );\n\n  return () => {\n    setReadyState(ReadyState.CLOSING);\n    cancelReconnectOnClose();\n    cancelReconnectOnError();\n    webSocketInstance.close();\n    if (interval) clearInterval(interval);\n  };\n};\n","import { sharedWebSockets } from './globals';\nimport { DEFAULT_RECONNECT_LIMIT, DEFAULT_RECONNECT_INTERVAL_MS, ReadyState, isEventSourceSupported } from './constants';\nimport { getSubscribers } from './manage-subscribers';\nimport { MutableRefObject } from 'react';\nimport { Options, SendMessage, WebSocketLike } from './types';\nimport { setUpSocketIOPing } from './socket-io';\n\nconst bindMessageHandler = (\n  webSocketInstance: WebSocketLike,\n  url: string,\n) => {\n  webSocketInstance.onmessage = (message: WebSocketEventMap['message']) => {\n    getSubscribers(url).forEach(subscriber => {\n      if (subscriber.optionsRef.current.onMessage) {\n        subscriber.optionsRef.current.onMessage(message);\n      }\n\n      if (\n        typeof subscriber.optionsRef.current.filter === 'function' &&\n        subscriber.optionsRef.current.filter(message) !== true\n      ) {\n        return;\n      }\n\n      subscriber.setLastMessage(message);\n    });\n  };\n};\n\nconst bindOpenHandler = (\n  webSocketInstance: WebSocketLike,\n  url: string,\n) => {\n  webSocketInstance.onopen = (event: WebSocketEventMap['open']) => {\n    getSubscribers(url).forEach(subscriber => {\n      subscriber.reconnectCount.current = 0;\n      if (subscriber.optionsRef.current.onOpen) {\n        subscriber.optionsRef.current.onOpen(event);\n      }\n\n      subscriber.setReadyState(ReadyState.OPEN);\n    });\n  };\n};\n\nconst bindCloseHandler = (\n  webSocketInstance: WebSocketLike,\n  url: string,\n) => {\n  if (webSocketInstance instanceof WebSocket) {\n    webSocketInstance.onclose = (event: WebSocketEventMap['close']) => {\n      getSubscribers(url).forEach(subscriber => {\n        if (subscriber.optionsRef.current.onClose) {\n          subscriber.optionsRef.current.onClose(event);\n        }\n  \n        subscriber.setReadyState(ReadyState.CLOSED);\n      });\n      \n      delete sharedWebSockets[url];\n  \n      getSubscribers(url).forEach(subscriber => {\n        if (\n          subscriber.optionsRef.current.shouldReconnect &&\n          subscriber.optionsRef.current.shouldReconnect(event)\n        ) {\n          const reconnectAttempts = subscriber.optionsRef.current.reconnectAttempts ?? DEFAULT_RECONNECT_LIMIT;\n          if (subscriber.reconnectCount.current < reconnectAttempts) {\n            const nextReconnectInterval = typeof subscriber.optionsRef.current.reconnectInterval === 'function' ?\n              subscriber.optionsRef.current.reconnectInterval(subscriber.reconnectCount.current) :\n              subscriber.optionsRef.current.reconnectInterval;\n\n            setTimeout(() => {\n              subscriber.reconnectCount.current++;\n              subscriber.reconnect.current();\n            }, nextReconnectInterval ?? DEFAULT_RECONNECT_INTERVAL_MS);\n          } else {\n            subscriber.optionsRef.current.onReconnectStop && subscriber.optionsRef.current.onReconnectStop(subscriber.optionsRef.current.reconnectAttempts as number);\n            console.warn(`Max reconnect attempts of ${reconnectAttempts} exceeded`);\n          }\n        }\n      });\n    };\n  }\n};\n\nconst bindErrorHandler = (\n  webSocketInstance: WebSocketLike,\n  url: string,\n) => {\n  webSocketInstance.onerror = (error: WebSocketEventMap['error']) => {\n    getSubscribers(url).forEach(subscriber => {\n      if (subscriber.optionsRef.current.onError) {\n        subscriber.optionsRef.current.onError(error);\n      }\n      if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n        subscriber.optionsRef.current.onClose && subscriber.optionsRef.current.onClose({\n          ...error,\n          code: 1006,\n          reason: `An error occurred with the EventSource: ${error}`,\n          wasClean: false,\n        });\n  \n        subscriber.setReadyState(ReadyState.CLOSED);\n      }\n    });\n    if (isEventSourceSupported && webSocketInstance instanceof EventSource) {\n      webSocketInstance.close();\n    }\n  };\n};\n\nexport const attachSharedListeners = (\n  webSocketInstance: WebSocketLike,\n  url: string,\n  optionsRef: MutableRefObject<Options>,\n  sendMessage: SendMessage,\n) => {\n  let interval: number;\n\n  if (optionsRef.current.fromSocketIO) {\n    interval = setUpSocketIOPing(sendMessage);\n  }\n\n  bindMessageHandler(webSocketInstance, url);\n  bindCloseHandler(webSocketInstance, url);\n  bindOpenHandler(webSocketInstance, url);\n  bindErrorHandler(webSocketInstance, url);\n\n  return () => {\n    if (interval) clearInterval(interval);\n  };\n};\n","import { EventSourceEventHandlers, EventSourceOptions } from \"./types\";\n\nconst MILLISECONDS = 1;\nconst SECONDS = 1000 * MILLISECONDS;\n\nexport const DEFAULT_OPTIONS = {};\nexport const EMPTY_EVENT_HANDLERS: EventSourceEventHandlers = {};\nexport const DEFAULT_EVENT_SOURCE_OPTIONS: EventSourceOptions = {\n  withCredentials: false,\n  events: EMPTY_EVENT_HANDLERS,\n};\nexport const SOCKET_IO_PING_INTERVAL = 25 * SECONDS;\nexport const SOCKET_IO_PATH = '/socket.io/?EIO=3&transport=websocket';\nexport const SOCKET_IO_PING_CODE = '2';\nexport const DEFAULT_RECONNECT_LIMIT = 20;\nexport const DEFAULT_RECONNECT_INTERVAL_MS = 5000;\nexport const UNPARSABLE_JSON_OBJECT = {};\n\nexport enum ReadyState {\n  UNINSTANTIATED = -1,\n  CONNECTING = 0,\n  OPEN = 1,\n  CLOSING = 2,\n  CLOSED = 3,\n}\n\nconst eventSourceSupported = () => {\n  try {\n    return 'EventSource' in globalThis;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport const isReactNative = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nexport const isEventSourceSupported = !isReactNative && eventSourceSupported();\n","import { MutableRefObject } from 'react';\nimport { sharedWebSockets } from './globals';\nimport { Options, SendMessage, Subscriber, WebSocketLike } from './types';\nimport { isEventSourceSupported, ReadyState, isReactNative } from './constants';\nimport { attachListeners } from './attach-listener';\nimport { attachSharedListeners } from './attach-shared-listeners';\nimport { addSubscriber, removeSubscriber, hasSubscribers } from './manage-subscribers';\n\n//TODO ensure that all onClose callbacks are called\n\nconst cleanSubscribers = (\n  url: string,\n  subscriber: Subscriber,\n  optionsRef: MutableRefObject<Options>,\n  setReadyState: (readyState: ReadyState) => void,\n  clearSocketIoPingInterval: (() => void) | null,\n) => {\n  return () => {\n    removeSubscriber(url, subscriber);\n    if (!hasSubscribers(url)) {\n      try {\n        const socketLike = sharedWebSockets[url];\n        if (socketLike instanceof WebSocket) {\n          socketLike.onclose = (event: WebSocketEventMap['close']) => {\n            if (optionsRef.current.onClose) {\n              optionsRef.current.onClose(event);\n            }\n            setReadyState(ReadyState.CLOSED);\n          };\n        }\n        socketLike.close();\n      } catch (e) {\n\n      }\n      if (clearSocketIoPingInterval) clearSocketIoPingInterval();\n\n      delete sharedWebSockets[url];\n    }\n  }\n};\n\nexport const createOrJoinSocket = (\n  webSocketRef: MutableRefObject<WebSocketLike | null>,\n  url: string,\n  setReadyState: (readyState: ReadyState) => void,\n  optionsRef: MutableRefObject<Options>,\n  setLastMessage: (message: WebSocketEventMap['message']) => void,\n  startRef: MutableRefObject<() => void>,\n  reconnectCount: MutableRefObject<number>,\n  sendMessage: SendMessage,\n): (() => void) => {\n  if (!isEventSourceSupported && optionsRef.current.eventSourceOptions) {\n    if (isReactNative) {\n      throw new Error('EventSource is not supported in ReactNative');\n    } else {\n      throw new Error('EventSource is not supported');\n    }\n  }\n\n  if (optionsRef.current.share) {\n    let clearSocketIoPingInterval: ((() => void) | null) = null;\n    if (sharedWebSockets[url] === undefined) {\n      sharedWebSockets[url] = optionsRef.current.eventSourceOptions ?\n        new EventSource(url, optionsRef.current.eventSourceOptions) :\n        new WebSocket(url, optionsRef.current.protocols);\n      webSocketRef.current = sharedWebSockets[url];\n      setReadyState(ReadyState.CONNECTING);\n      clearSocketIoPingInterval = attachSharedListeners(\n        sharedWebSockets[url],\n        url,\n        optionsRef,\n        sendMessage,\n      );\n    } else {\n      webSocketRef.current = sharedWebSockets[url];\n      setReadyState(sharedWebSockets[url].readyState);\n    }\n\n    const subscriber: Subscriber = {\n      setLastMessage,\n      setReadyState,\n      optionsRef,\n      reconnectCount,\n      reconnect: startRef,\n    };\n  \n    addSubscriber(url, subscriber);\n\n    return cleanSubscribers(\n      url,\n      subscriber,\n      optionsRef,\n      setReadyState,\n      clearSocketIoPingInterval,\n    );\n  } else {\n    webSocketRef.current = optionsRef.current.eventSourceOptions ?\n      new EventSource(url, optionsRef.current.eventSourceOptions) :\n      new WebSocket(url, optionsRef.current.protocols);\n    setReadyState(ReadyState.CONNECTING);\n    if (!webSocketRef.current) {\n      throw new Error('WebSocket failed to be created');\n    }\n\n    return attachListeners(\n      webSocketRef.current,\n      {\n        setLastMessage,\n        setReadyState\n      },\n      optionsRef,\n      startRef.current,\n      reconnectCount,\n      sendMessage,\n    );\n  }\n};\n","import { MutableRefObject } from 'react';\nimport { parseSocketIOUrl, appendQueryParams } from './socket-io';\nimport { Options } from './types';\n\nexport const getUrl = async (\n  url: string | (() => string | Promise<string>),\n  optionsRef: MutableRefObject<Options>,\n) => {\n  let convertedUrl: string;\n\n  if (typeof url === 'function') {\n    convertedUrl = await url();\n  } else {\n    convertedUrl = url;\n  }\n\n  const parsedUrl = optionsRef.current.fromSocketIO ?\n    parseSocketIOUrl(convertedUrl) :\n    convertedUrl;\n\n  const parsedWithQueryParams = optionsRef.current.queryParams ?\n    appendQueryParams(\n      parsedUrl,\n      optionsRef.current.queryParams\n    ) :\n    parsedUrl;\n\n  return parsedWithQueryParams;\n};\n","import { WebSocketLike } from \"./types\";\n\nexport interface SharedWebSockets {\n  [url: string]: WebSocketLike;\n}\n\nexport const sharedWebSockets: SharedWebSockets = {};\n\nexport const resetWebSockets = (url?: string): void => {\n  if (url && sharedWebSockets.hasOwnProperty(url)) {\n    delete sharedWebSockets[url];\n  } else {\n    for (let url in sharedWebSockets){\n      if (sharedWebSockets.hasOwnProperty(url)){\n        delete sharedWebSockets[url];\n      }\n    }\n  }\n}\n","import { Subscriber } from './types';\n\nexport type Subscribers = {\n    [url: string]: Set<Subscriber>,\n}\n  \nconst subscribers: Subscribers = {};\nconst EMPTY_LIST: Subscriber[] = [];\n\nexport const getSubscribers = (url: string): Subscriber[] => {\n    if (hasSubscribers(url)) {\n        return Array.from(subscribers[url]);\n    }\n    return EMPTY_LIST;\n};\n\nexport const hasSubscribers = (url: string): boolean => {\n    return subscribers[url]?.size > 0;\n};\n\nexport const addSubscriber = (url: string, subscriber: Subscriber): void => {\n    subscribers[url] = subscribers[url] || new Set<Subscriber>();\n    subscribers[url].add(subscriber);\n};\n\nexport const removeSubscriber = (url: string, subscriber: Subscriber): void => {\n    subscribers[url].delete(subscriber);\n};\n\nexport const resetSubscribers = (url?: string): void => {\n    if (url && subscribers.hasOwnProperty(url)) {\n        delete subscribers[url];\n    } else {\n        for (let url in subscribers){\n            if (subscribers.hasOwnProperty(url)){\n                delete subscribers[url];\n            }\n        }\n    }\n}\n","import { MutableRefObject } from 'react';\n\ntype IfEquals<X, Y, A=X, B=never> =\n  (<T>() => T extends X ? 1 : 2) extends\n  (<T>() => T extends Y ? 1 : 2) ? A : B;\n\ntype WritableKeys<T> = {\n  [P in keyof T]-?: IfEquals<{ [Q in P]: T[P] }, { -readonly [Q in P]: T[P] }, P>\n}[keyof T];\n\nexport const websocketWrapper = (\n  webSocket: WebSocket,\n  start: MutableRefObject<() => void>,\n): WebSocket => {\n\n  return new Proxy<WebSocket>(webSocket, {\n    get: (obj, key: keyof WebSocket) => {\n      const val = obj[key];\n      if ((key as any) === 'reconnect') return start;\n      if (typeof val === 'function') {\n        console.error('Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket.');\n        \n        //Prevent error thrown by invoking a non-function\n        return () => {};\n      } else {\n        return val;\n      }\n    },\n    set: <T extends WritableKeys<WebSocket>>(obj: WebSocket, key: T, val: WebSocket[T]) => {\n      if (/^on/.test(key)) {\n        console.warn('The websocket\\'s event handlers should be defined through the options object passed into useWebSocket.')\n        return false;\n      } else {\n        obj[key] = val;\n        return true;\n      }\n    },\n  });\n};\n\nexport default websocketWrapper;\n","import { SOCKET_IO_PING_INTERVAL, SOCKET_IO_PATH, SOCKET_IO_PING_CODE } from './constants';\nimport { QueryParams, SendMessage } from './types';\n\nexport const parseSocketIOUrl = (url: string) => {\n  if (url) {\n    const isSecure = /^https|wss/.test(url);\n    const strippedProtocol = url.replace(/^(https?|wss?)(:\\/\\/)?/, '');\n    const removedFinalBackSlack = strippedProtocol.replace(/\\/$/, '');\n    const protocol = isSecure ? 'wss' : 'ws';\n\n    return `${protocol}://${removedFinalBackSlack}${SOCKET_IO_PATH}`;\n  } else if (url === '') {\n    const isSecure = /^https/.test(window.location.protocol);\n    const protocol = isSecure ? 'wss' : 'ws';\n    const port = window.location.port ? `:${window.location.port}` : '';\n\n    return `${protocol}://${window.location.hostname}${port}${SOCKET_IO_PATH}`;\n  }\n\n  return url;\n};\n\nexport const appendQueryParams = (url: string, params: QueryParams = {}): string => {\n  const hasParamsRegex = /\\?([\\w]+=[\\w]+)/;\n  const alreadyHasParams = hasParamsRegex.test(url);\n\n  const stringified = `${Object.entries(params).reduce((next, [key, value]) => {\n    return next + `${key}=${value}&`;\n  }, '').slice(0, -1)}`;\n\n  return `${url}${alreadyHasParams ? '&' : '?'}${stringified}`;\n};\n\nexport const setUpSocketIOPing = (sendMessage: SendMessage, interval = SOCKET_IO_PING_INTERVAL) => {\n  const ping = () => sendMessage(SOCKET_IO_PING_CODE);\n\n  return window.setInterval(ping, interval);\n};\n","import { useEffect, useRef } from 'react'\nimport { useWebSocket } from './use-websocket'\nimport { DEFAULT_EVENT_SOURCE_OPTIONS, EMPTY_EVENT_HANDLERS } from './constants'\nimport { EventSourceOptions, Options, EventSourceHook, EventSourceEventHandlers } from './types';\n\nexport const useEventSource = (\n  url: string | (() => string | Promise<string>) | null,\n  { withCredentials, events, ...options }: EventSourceOptions = DEFAULT_EVENT_SOURCE_OPTIONS,\n  connect: boolean = true,\n): EventSourceHook => {\n  const optionsWithEventSource: Options = {\n      ...options,\n      eventSourceOptions: {\n        withCredentials,\n      }\n  };\n  const eventsRef = useRef<EventSourceEventHandlers>(EMPTY_EVENT_HANDLERS);\n  if (events) {\n    eventsRef.current = events\n  }\n\n  const {\n    lastMessage,\n    readyState,\n    getWebSocket,\n  } = useWebSocket(\n    url,\n    optionsWithEventSource,\n    connect,\n  );\n\n  useEffect(() => {\n    if (lastMessage?.type) {\n        Object.entries(eventsRef.current).forEach(([type, handler]) => {\n            if (type === lastMessage.type) {\n                handler(lastMessage);\n            }\n        });\n    }\n  }, [lastMessage]);\n\n  return {\n    lastEvent: lastMessage,\n    readyState,\n    getEventSource: getWebSocket,\n  };\n}\n","import { useMemo } from 'react'\nimport { useWebSocket } from './use-websocket'\nimport { DEFAULT_OPTIONS } from './constants'\nimport { Options, WebSocketHook } from './types';\n\nexport interface SocketIOMessageData<T = unknown> {\n  type: string,\n  payload: T | null,\n}\n\nconst emptyEvent: SocketIOMessageData<null> = {\n  type: 'empty',\n  payload: null,\n}\n\nconst getSocketData = <T = unknown>(event: WebSocketEventMap['message'] | null): SocketIOMessageData<T | null> => {\n  if (!event || !event.data) {\n    return emptyEvent\n  }\n\n  const match = event.data.match(/\\[.*]/)\n\n  if (!match) {\n    return emptyEvent\n  }\n\n  const data = JSON.parse(match)\n\n  if (!Array.isArray(data) || !data[1]) {\n    return emptyEvent\n  }\n\n  return {\n    type: data[0],\n    payload: data[1],\n  }\n}\n\nexport const useSocketIO = <T = unknown>(\n  url: string | (() => string | Promise<string>) | null,\n  options: Options = DEFAULT_OPTIONS,\n  connect: boolean = true,\n): WebSocketHook<SocketIOMessageData<T | null>, SocketIOMessageData<T | null>> => {\n  const optionsWithSocketIO = useMemo(() => ({\n    ...options,\n    fromSocketIO: true,\n  }), [])\n\n  const {\n    sendMessage,\n    sendJsonMessage,\n    lastMessage,\n    readyState,\n    getWebSocket,\n  } = useWebSocket(\n\n    url,\n    optionsWithSocketIO,\n    connect,\n  );\n\n  const socketIOLastMessage = useMemo(() =>\n    getSocketData<T>(lastMessage), [lastMessage]);\n\n  return {\n    sendMessage,\n    sendJsonMessage,\n    lastMessage: socketIOLastMessage,\n    lastJsonMessage: socketIOLastMessage,\n    readyState,\n    getWebSocket,\n  };\n}\n","import { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport { flushSync } from 'react-dom';\nimport { DEFAULT_OPTIONS, isEventSourceSupported, ReadyState, UNPARSABLE_JSON_OBJECT } from './constants';\nimport { createOrJoinSocket } from './create-or-join';\nimport { getUrl } from './get-url';\nimport websocketWrapper from './proxy';\nimport {\n  Options,\n  ReadyStateState,\n  SendMessage,\n  SendJsonMessage,\n  WebSocketMessage,\n  WebSocketHook,\n  WebSocketLike,\n} from './types';\nimport { assertIsWebSocket } from './util';\n\nexport const useWebSocket = <T = unknown>(\n  url: string | (() => string | Promise<string>) | null,\n  options: Options = DEFAULT_OPTIONS,\n  connect: boolean = true,\n): WebSocketHook<T> => {\n  const [lastMessage, setLastMessage] = useState<WebSocketEventMap['message'] | null>(null);\n  const [readyState, setReadyState] = useState<ReadyStateState>({});\n  const lastJsonMessage: T = useMemo(() => {\n    if (lastMessage) {\n      try {\n        return JSON.parse(lastMessage.data);\n      } catch (e) {\n        return UNPARSABLE_JSON_OBJECT;\n      }\n    }\n    return null; \n  },[lastMessage]);\n  const convertedUrl = useRef<string | null>(null);\n  const webSocketRef = useRef<WebSocketLike | null>(null);\n  const startRef = useRef<() => void>(() => void 0);\n  const reconnectCount = useRef<number>(0);\n  const messageQueue = useRef<WebSocketMessage[]>([]);\n  const webSocketProxy = useRef<WebSocketLike | null>(null);\n  const optionsCache = useRef<Options>(options);\n  optionsCache.current = options;\n\n  const readyStateFromUrl: ReadyState =\n    convertedUrl.current && readyState[convertedUrl.current] !== undefined ?\n      readyState[convertedUrl.current] :\n      url !== null && connect === true ?\n        ReadyState.CONNECTING :\n        ReadyState.UNINSTANTIATED;\n\n  const stringifiedQueryParams = options.queryParams ? JSON.stringify(options.queryParams) : null;\n\n  const sendMessage: SendMessage = useCallback((message, keep = true) => {\n    if (isEventSourceSupported && webSocketRef.current instanceof EventSource) {\n      console.warn('Unable to send a message from an eventSource');\n      return;\n    }\n  \n    if (webSocketRef.current?.readyState === ReadyState.OPEN) {\n      assertIsWebSocket(webSocketRef.current, optionsCache.current.skipAssert);\n      webSocketRef.current.send(message);\n    } else if (keep) {\n      messageQueue.current.push(message);\n    }\n  }, []);\n\n  const sendJsonMessage: SendJsonMessage = useCallback((message, keep = true) => {\n    sendMessage(JSON.stringify(message), keep);\n  }, [sendMessage]);\n  \n  const getWebSocket = useCallback(() => {\n    if (optionsCache.current.share !== true || (isEventSourceSupported && webSocketRef.current instanceof EventSource)) {\n      return webSocketRef.current;\n    }\n\n    if (webSocketProxy.current === null && webSocketRef.current) {\n      assertIsWebSocket(webSocketRef.current, optionsCache.current.skipAssert);\n      webSocketProxy.current = websocketWrapper(webSocketRef.current, startRef);\n    }\n\n    return webSocketProxy.current;\n  }, []);\n\n  useEffect(() => {\n    if (url !== null && connect === true) {\n      let removeListeners: () => void;\n      let expectClose = false;\n      let createOrJoin = true;\n\n      const start = async () => {\n        convertedUrl.current = await getUrl(url, optionsCache);\n\n        const protectedSetLastMessage = (message: WebSocketEventMap['message']) => {\n          if (!expectClose) {\n            flushSync(() => setLastMessage(message));\n          }\n        };\n  \n        const protectedSetReadyState = (state: ReadyState) => {\n          if (!expectClose) {\n            flushSync(() => setReadyState(prev => ({\n              ...prev,\n              ...(convertedUrl.current && {[convertedUrl.current]: state}),\n            })));\n          }\n        };\n\n        if(createOrJoin) {\n          removeListeners = createOrJoinSocket(\n            webSocketRef,\n            convertedUrl.current,\n            protectedSetReadyState,\n            optionsCache,\n            protectedSetLastMessage,\n            startRef,\n            reconnectCount,\n            sendMessage,\n          );\n        }\n      };\n\n      startRef.current = () => {\n        if (!expectClose) {\n          if (webSocketProxy.current) webSocketProxy.current = null;\n          removeListeners?.();\n          start();\n        }\n      };\n    \n      start();\n      return () => {\n        expectClose = true;\n        createOrJoin = false;\n        if (webSocketProxy.current) webSocketProxy.current = null;\n        removeListeners?.();\n        setLastMessage(null);\n      };\n    } else if (url === null || connect === false) {\n      reconnectCount.current = 0; // reset reconnection attempts\n      setReadyState(prev => ({\n        ...prev,\n        ...(convertedUrl.current && {[convertedUrl.current]: ReadyState.CLOSED}),\n      }));\n    }\n  }, [url, connect, stringifiedQueryParams, sendMessage]);\n\n  useEffect(() => {\n    if (readyStateFromUrl === ReadyState.OPEN) {\n      messageQueue.current.splice(0).forEach(message => {\n        sendMessage(message);\n      });\n    }\n  }, [readyStateFromUrl]);\n\n  return {\n    sendMessage,\n    sendJsonMessage,\n    lastMessage,\n    lastJsonMessage,\n    readyState: readyStateFromUrl,\n    getWebSocket,\n  };\n};\n","import { WebSocketLike } from './types';\nimport { resetWebSockets } from './globals';\nimport { resetSubscribers } from './manage-subscribers';\n\nexport function assertIsWebSocket (\n    webSocketInstance: WebSocketLike,\n    skip?: boolean,\n): asserts webSocketInstance is WebSocket {\n    if (!skip && webSocketInstance instanceof WebSocket === false) throw new Error('');\n};\n\n\nexport function resetGlobalState (url?: string): void {\n    resetSubscribers(url);\n    resetWebSockets(url);\n};\n","/*!\n * chartjs-chart-treemap v2.3.0\n * https://chartjs-chart-treemap.pages.dev/\n * (c) 2023 Jukka Kurkela\n * Released under the MIT license\n */\nimport { Element, Chart, registry, DatasetController } from 'chart.js';\nimport { isObject, addRoundedRectPath, defined, toFont, isArray, isNumber, toTRBL, toTRBLCorners, valueOrDefault, clipArea, unclipArea } from 'chart.js/helpers';\n\nconst isOlderPart = (act, req) => req > act || (act.length > req.length && act.slice(0, req.length) === req);\n\nconst getGroupKey = (lvl) => '' + lvl;\n\nfunction scanTreeObject(keys, treeLeafKey, obj, tree = [], lvl = 0, result = []) {\n  const objIndex = lvl - 1;\n  if (keys[0] in obj && lvl > 0) {\n    const record = tree.reduce(function(reduced, item, i) {\n      if (i !== objIndex) {\n        reduced[getGroupKey(i)] = item;\n      }\n      return reduced;\n    }, {});\n    record[treeLeafKey] = tree[objIndex];\n    keys.forEach(function(k) {\n      record[k] = obj[k];\n    });\n    result.push(record);\n  } else {\n    for (const childKey of Object.keys(obj)) {\n      const child = obj[childKey];\n      if (isObject(child)) {\n        tree.push(childKey);\n        scanTreeObject(keys, treeLeafKey, child, tree, lvl + 1, result);\n      }\n    }\n  }\n  tree.splice(objIndex, 1);\n  return result;\n}\n\nfunction normalizeTreeToArray(keys, treeLeafKey, obj) {\n  const data = scanTreeObject(keys, treeLeafKey, obj);\n  if (!data.length) {\n    return data;\n  }\n  const max = data.reduce(function(maxVal, element) {\n    // minus 2 because _leaf and value properties are added\n    // on top to groups ones\n    const ikeys = Object.keys(element).length - 2;\n    return maxVal > ikeys ? maxVal : ikeys;\n  });\n  data.forEach(function(element) {\n    for (let i = 0; i < max; i++) {\n      const groupKey = getGroupKey(i);\n      if (!element[groupKey]) {\n        element[groupKey] = '';\n      }\n    }\n  });\n  return data;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat\nfunction flatten(input) {\n  const stack = [...input];\n  const res = [];\n  while (stack.length) {\n    // pop value from stack\n    const next = stack.pop();\n    if (Array.isArray(next)) {\n      // push back array items, won't modify the original input\n      stack.push(...next);\n    } else {\n      res.push(next);\n    }\n  }\n  // reverse to restore input order\n  return res.reverse();\n}\n\nfunction getPath(groups, value, defaultValue) {\n  if (!groups.length) {\n    return;\n  }\n  const path = [];\n  for (const grp of groups) {\n    const item = value[grp];\n    if (item === '') {\n      path.push(defaultValue);\n      break;\n    }\n    path.push(item);\n  }\n  return path.length ? path.join('.') : defaultValue;\n}\n\n/**\n * @param {[]} values\n * @param {string} grp\n * @param {[string]} keys\n * @param {string} treeeLeafKey\n * @param {string} [mainGrp]\n * @param {*} [mainValue]\n * @param {[]} groups\n */\nfunction group(values, grp, keys, treeLeafKey, mainGrp, mainValue, groups = []) {\n  const key = keys[0];\n  const addKeys = keys.slice(1);\n  const tmp = Object.create(null);\n  const data = Object.create(null);\n  const ret = [];\n  let g, i, n;\n  for (i = 0, n = values.length; i < n; ++i) {\n    const v = values[i];\n    if (mainGrp && v[mainGrp] !== mainValue) {\n      continue;\n    }\n    g = v[grp] || v[treeLeafKey] || '';\n    if (!(g in tmp)) {\n      const tmpRef = tmp[g] = {value: 0};\n      addKeys.forEach(function(k) {\n        tmpRef[k] = 0;\n      });\n      data[g] = [];\n    }\n    tmp[g].value += +v[key];\n    tmp[g].label = v[grp] || '';\n    const tmpRef = tmp[g];\n    addKeys.forEach(function(k) {\n      tmpRef[k] += v[k];\n    });\n    tmp[g].path = getPath(groups, v, g);\n    data[g].push(v);\n  }\n\n  Object.keys(tmp).forEach((k) => {\n    const v = {children: data[k]};\n    v[key] = +tmp[k].value;\n    addKeys.forEach(function(ak) {\n      v[ak] = +tmp[k][ak];\n    });\n    v[grp] = tmp[k].label;\n    v.label = k;\n    v.path = tmp[k].path;\n\n    if (mainGrp) {\n      v[mainGrp] = mainValue;\n    }\n    ret.push(v);\n  });\n\n  return ret;\n}\n\nfunction index(values, key) {\n  let n = values.length;\n  let i;\n\n  if (!n) {\n    return key;\n  }\n\n  const obj = isObject(values[0]);\n  key = obj ? key : 'v';\n\n  for (i = 0, n = values.length; i < n; ++i) {\n    if (obj) {\n      values[i]._idx = i;\n    } else {\n      values[i] = {v: values[i], _idx: i};\n    }\n  }\n  return key;\n}\n\nfunction sort(values, key) {\n  if (key) {\n    values.sort((a, b) => +b[key] - +a[key]);\n  } else {\n    values.sort((a, b) => +b - +a);\n  }\n}\n\nfunction sum(values, key) {\n  let s, i, n;\n\n  for (s = 0, i = 0, n = values.length; i < n; ++i) {\n    s += key ? +values[i][key] : +values[i];\n  }\n\n  return s;\n}\n\n/**\n * @param {string} pkg\n * @param {string} min\n * @param {string} ver\n * @param {boolean} [strict=true]\n * @returns {boolean}\n */\nfunction requireVersion(pkg, min, ver, strict = true) {\n  const parts = ver.split('.');\n  let i = 0;\n  for (const req of min.split('.')) {\n    const act = parts[i++];\n    if (parseInt(req, 10) < parseInt(act, 10)) {\n      break;\n    }\n    if (isOlderPart(act, req)) {\n      if (strict) {\n        throw new Error(`${pkg} v${ver} is not supported. v${min} or newer is required.`);\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nconst widthCache = new Map();\n\n/**\n * Helper function to get the bounds of the rect\n * @param {TreemapElement} rect the rect\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the rect\n * @private\n */\nfunction getBounds(rect, useFinalPosition) {\n  const {x, y, width, height} = rect.getProps(['x', 'y', 'width', 'height'], useFinalPosition);\n  return {left: x, top: y, right: x + width, bottom: y + height};\n}\n\nfunction limit(value, min, max) {\n  return Math.max(Math.min(value, max), min);\n}\n\nfunction parseBorderWidth(value, maxW, maxH) {\n  const o = toTRBL(value);\n\n  return {\n    t: limit(o.top, 0, maxH),\n    r: limit(o.right, 0, maxW),\n    b: limit(o.bottom, 0, maxH),\n    l: limit(o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(value, maxW, maxH) {\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n\n  return {\n    topLeft: limit(o.topLeft, 0, maxR),\n    topRight: limit(o.topRight, 0, maxR),\n    bottomLeft: limit(o.bottomLeft, 0, maxR),\n    bottomRight: limit(o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(rect) {\n  const bounds = getBounds(rect);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(rect.options.borderWidth, width / 2, height / 2);\n  const radius = parseBorderRadius(rect.options.borderRadius, width / 2, height / 2);\n  const outer = {\n    x: bounds.left,\n    y: bounds.top,\n    w: width,\n    h: height,\n    active: rect.active,\n    radius\n  };\n\n  return {\n    outer,\n    inner: {\n      x: outer.x + border.l,\n      y: outer.y + border.t,\n      w: outer.w - border.l - border.r,\n      h: outer.h - border.t - border.b,\n      active: rect.active,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(rect, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const bounds = !rect || (skipX && skipY) ? false : getBounds(rect, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction shouldDrawCaption(rect, options) {\n  if (!options || options.display === false) {\n    return false;\n  }\n  const {w, h} = rect;\n  const font = toFont(options.font);\n  const min = font.lineHeight;\n  const padding = limit(valueOrDefault(options.padding, 3) * 2, 0, Math.min(w, h));\n  return (w - padding) > min && (h - padding) > min;\n}\n\nfunction drawText(ctx, rect, options, item, levels) {\n  const {captions, labels} = options;\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n  ctx.clip();\n  const isLeaf = item && (!defined(item.l) || item.l === levels);\n  if (isLeaf && labels.display) {\n    drawLabel(ctx, rect, options);\n  } else if (!isLeaf && shouldDrawCaption(rect, captions)) {\n    drawCaption(ctx, rect, options, item);\n  }\n  ctx.restore();\n}\n\nfunction drawCaption(ctx, rect, options, item) {\n  const {captions, spacing, rtl} = options;\n  const {color, hoverColor, font, hoverFont, padding, align, formatter} = captions;\n  const oColor = (rect.active ? hoverColor : color) || color;\n  const oAlign = align || (rtl ? 'right' : 'left');\n  const optFont = (rect.active ? hoverFont : font) || font;\n  const oFont = toFont(optFont);\n  const lh = oFont.lineHeight / 2;\n  const x = calculateX(rect, oAlign, padding);\n  ctx.fillStyle = oColor;\n  ctx.font = oFont.string;\n  ctx.textAlign = oAlign;\n  ctx.textBaseline = 'middle';\n  ctx.fillText(formatter || item.g, x, rect.y + padding + spacing + lh);\n}\n\nfunction measureLabelSize(ctx, lines, fonts) {\n  const fontsKey = fonts.reduce(function(prev, item) {\n    prev += item.string;\n    return prev;\n  }, '');\n  const mapKey = lines.join() + fontsKey + (ctx._measureText ? '-spriting' : '');\n  if (!widthCache.has(mapKey)) {\n    ctx.save();\n    const count = lines.length;\n    let width = 0;\n    let height = 0;\n    for (let i = 0; i < count; i++) {\n      const font = fonts[Math.min(i, fonts.length - 1)];\n      ctx.font = font.string;\n      const text = lines[i];\n      width = Math.max(width, ctx.measureText(text).width);\n      height += font.lineHeight;\n    }\n    ctx.restore();\n    widthCache.set(mapKey, {width, height});\n  }\n  return widthCache.get(mapKey);\n}\n\nfunction toFonts(fonts, fitRatio) {\n  return fonts.map(function(f) {\n    f.size = Math.floor(f.size * fitRatio);\n    f.lineHeight = undefined;\n    return toFont(f);\n  });\n}\n\nfunction labelToDraw(ctx, rect, options, labelSize) {\n  const {overflow, padding} = options;\n  const {width, height} = labelSize;\n  if (overflow === 'hidden') {\n    return !((width + padding * 2) > rect.w || (height + padding * 2) > rect.h);\n  } else if (overflow === 'fit') {\n    const ratio = Math.min(rect.w / (width + padding * 2), rect.h / (height + padding * 2));\n    if (ratio < 1) {\n      return ratio;\n    }\n  }\n  return true;\n}\n\nfunction getFontFromOptions(rect, labels) {\n  const {font, hoverFont} = labels;\n  const optFont = (rect.active ? hoverFont : font) || font;\n  return isArray(optFont) ? optFont.map(f => toFont(f)) : [toFont(optFont)];\n}\n\nfunction drawLabel(ctx, rect, options) {\n  const labels = options.labels;\n  const content = labels.formatter;\n  if (!content) {\n    return;\n  }\n  const contents = isArray(content) ? content : [content];\n  let fonts = getFontFromOptions(rect, labels);\n  let labelSize = measureLabelSize(ctx, contents, fonts);\n  const lblToDraw = labelToDraw(ctx, rect, labels, labelSize);\n  if (!lblToDraw) {\n    return;\n  }\n  if (isNumber(lblToDraw)) {\n    labelSize = {width: labelSize.width * lblToDraw, height: labelSize.height * lblToDraw};\n    fonts = toFonts(fonts, lblToDraw);\n  }\n  const {color, hoverColor, align} = labels;\n  const optColor = (rect.active ? hoverColor : color) || color;\n  const colors = isArray(optColor) ? optColor : [optColor];\n  const xyPoint = calculateXYLabel(rect, labels, labelSize);\n  ctx.textAlign = align;\n  ctx.textBaseline = 'middle';\n  let lhs = 0;\n  contents.forEach(function(l, i) {\n    const c = colors[Math.min(i, colors.length - 1)];\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.font = f.string;\n    ctx.fillStyle = c;\n    ctx.fillText(l, xyPoint.x, xyPoint.y + lh / 2 + lhs);\n    lhs += lh;\n  });\n}\n\nfunction drawDivider(ctx, rect, options, item) {\n  const dividers = options.dividers;\n  if (!dividers.display || !item._data.children.length) {\n    return;\n  }\n  const {x, y, w, h} = rect;\n  const {lineColor, lineCapStyle, lineDash, lineDashOffset, lineWidth} = dividers;\n  ctx.save();\n  ctx.strokeStyle = lineColor;\n  ctx.lineCap = lineCapStyle;\n  ctx.setLineDash(lineDash);\n  ctx.lineDashOffset = lineDashOffset;\n  ctx.lineWidth = lineWidth;\n  ctx.beginPath();\n  if (w > h) {\n    const w2 = w / 2;\n    ctx.moveTo(x + w2, y);\n    ctx.lineTo(x + w2, y + h);\n  } else {\n    const h2 = h / 2;\n    ctx.moveTo(x, y + h2);\n    ctx.lineTo(x + w, y + h2);\n  }\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction calculateXYLabel(rect, options, labelSize) {\n  const {align, position, padding} = options;\n  let x, y;\n  x = calculateX(rect, align, padding);\n  if (position === 'top') {\n    y = rect.y + padding;\n  } else if (position === 'bottom') {\n    y = rect.y + rect.h - padding - labelSize.height;\n  } else {\n    y = rect.y + (rect.h - labelSize.height) / 2 + padding;\n  }\n  return {x, y};\n}\n\nfunction calculateX(rect, align, padding) {\n  if (align === 'left') {\n    return rect.x + padding;\n  } else if (align === 'right') {\n    return rect.x + rect.w - padding;\n  }\n  return rect.x + rect.w / 2;\n}\n\nclass TreemapElement extends Element {\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.width = undefined;\n    this.height = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx, data, levels = 0) {\n    if (!data) {\n      return;\n    }\n    const options = this.options;\n    const {inner, outer} = boundingRects(this);\n\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, outer);\n      ctx.clip();\n      addRectPath(ctx, inner);\n      ctx.fillStyle = options.borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inner);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.fill();\n\n    drawDivider(ctx, inner, options, data);\n    drawText(ctx, inner, options, data, levels);\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, width, height} = this.getProps(['x', 'y', 'width', 'height'], useFinalPosition);\n    return {\n      x: x + width / 2,\n      y: y + height / 2\n    };\n  }\n\n  tooltipPosition() {\n    return this.getCenterPoint();\n  }\n\n  /**\n   * @todo: remove this unused function in v3\n   */\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n\nTreemapElement.id = 'treemap';\n\nTreemapElement.defaults = {\n  label: undefined,\n  borderRadius: 0,\n  borderWidth: 0,\n  captions: {\n    align: undefined,\n    color: 'black',\n    display: true,\n    font: {},\n    formatter: (ctx) => ctx.raw.g || ctx.raw._data.label || '',\n    padding: 3\n  },\n  dividers: {\n    display: false,\n    lineCapStyle: 'butt',\n    lineColor: 'black',\n    lineDash: [],\n    lineDashOffset: 0,\n    lineWidth: 1,\n  },\n  labels: {\n    align: 'center',\n    color: 'black',\n    display: false,\n    font: {},\n    formatter(ctx) {\n      if (ctx.raw.g) {\n        return [ctx.raw.g, ctx.raw.v + ''];\n      }\n      return ctx.raw._data.label ? [ctx.raw._data.label, ctx.raw.v + ''] : ctx.raw.v + '';\n    },\n    overflow: 'cut',\n    position: 'middle',\n    padding: 3\n  },\n  rtl: false,\n  spacing: 0.5\n};\n\nTreemapElement.descriptors = {\n  labels: {\n    _fallback: true\n  },\n  captions: {\n    _fallback: true\n  },\n  _scriptable: true,\n  _indexable: false\n};\n\nTreemapElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getDims(itm, w2, s2, key) {\n  const a = itm._normalized;\n  const ar = w2 * a / s2;\n  const d1 = Math.sqrt(a * ar);\n  const d2 = a / d1;\n  const w = key === '_ix' ? d1 : d2;\n  const h = key === '_ix' ? d2 : d1;\n\n  return {d1, d2, w, h};\n}\n\nconst getX = (rect, w) => rect.rtl ? rect.x + rect.iw - w : rect.x + rect._ix;\n\nfunction buildRow(rect, itm, dims, sum) {\n  const r = {\n    x: getX(rect, dims.w),\n    y: rect.y + rect._iy,\n    w: dims.w,\n    h: dims.h,\n    a: itm._normalized,\n    v: itm.value,\n    vs: itm.values,\n    s: sum,\n    _data: itm._data\n  };\n  if (itm.group) {\n    r.g = itm.group;\n    r.l = itm.level;\n    r.gs = itm.groupSum;\n  }\n  return r;\n}\n\nclass Rect {\n  constructor(r) {\n    r = r || {w: 1, h: 1};\n    this.rtl = !!r.rtl;\n    this.x = r.x || r.left || 0;\n    this.y = r.y || r.top || 0;\n    this._ix = 0;\n    this._iy = 0;\n    this.w = r.w || r.width || (r.right - r.left);\n    this.h = r.h || r.height || (r.bottom - r.top);\n  }\n\n  get area() {\n    return this.w * this.h;\n  }\n\n  get iw() {\n    return this.w - this._ix;\n  }\n\n  get ih() {\n    return this.h - this._iy;\n  }\n\n  get dir() {\n    const ih = this.ih;\n    return ih <= this.iw && ih > 0 ? 'y' : 'x';\n  }\n\n  get side() {\n    return this.dir === 'x' ? this.iw : this.ih;\n  }\n\n  map(arr) {\n    const {dir, side} = this;\n    const key = dir === 'x' ? '_ix' : '_iy';\n    const sum = arr.nsum;\n    const row = arr.get();\n    const w2 = side * side;\n    const s2 = sum * sum;\n    const ret = [];\n    let maxd2 = 0;\n    let totd1 = 0;\n    for (const itm of row) {\n      const dims = getDims(itm, w2, s2, key);\n      totd1 += dims.d1;\n      maxd2 = Math.max(maxd2, dims.d2);\n      ret.push(buildRow(this, itm, dims, arr.sum));\n      this[key] += dims.d1;\n    }\n\n    this[dir === 'x' ? '_iy' : '_ix'] += maxd2;\n    this[key] -= totd1;\n    return ret;\n  }\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction getStat(sa) {\n  return {\n    min: sa.min,\n    max: sa.max,\n    sum: sa.sum,\n    nmin: sa.nmin,\n    nmax: sa.nmax,\n    nsum: sa.nsum\n  };\n}\n\nfunction getNewStat(sa, o) {\n  const v = +o[sa.key];\n  const n = v * sa.ratio;\n  o._normalized = n;\n\n  return {\n    min: min(sa.min, v),\n    max: max(sa.max, v),\n    sum: sa.sum + v,\n    nmin: min(sa.nmin, n),\n    nmax: max(sa.nmax, n),\n    nsum: sa.nsum + n\n  };\n}\n\nfunction setStat(sa, stat) {\n  Object.assign(sa, stat);\n}\n\nfunction push(sa, o, stat) {\n  sa._arr.push(o);\n  setStat(sa, stat);\n}\n\nclass StatArray {\n  constructor(key, ratio) {\n    const me = this;\n    me.key = key;\n    me.ratio = ratio;\n    me.reset();\n  }\n\n  get length() {\n    return this._arr.length;\n  }\n\n  reset() {\n    const me = this;\n    me._arr = [];\n    me._hist = [];\n    me.sum = 0;\n    me.nsum = 0;\n    me.min = Infinity;\n    me.max = -Infinity;\n    me.nmin = Infinity;\n    me.nmax = -Infinity;\n  }\n\n  push(o) {\n    push(this, o, getNewStat(this, o));\n  }\n\n  pushIf(o, fn, ...args) {\n    const nstat = getNewStat(this, o);\n    if (!fn(getStat(this), nstat, args)) {\n      return o;\n    }\n    push(this, o, nstat);\n  }\n\n  get() {\n    return this._arr;\n  }\n}\n\nfunction compareAspectRatio(oldStat, newStat, args) {\n  if (oldStat.sum === 0) {\n    return true;\n  }\n\n  const [length] = args;\n  const os2 = oldStat.nsum * oldStat.nsum;\n  const ns2 = newStat.nsum * newStat.nsum;\n  const l2 = length * length;\n  const or = Math.max(l2 * oldStat.nmax / os2, os2 / (l2 * oldStat.nmin));\n  const nr = Math.max(l2 * newStat.nmax / ns2, ns2 / (l2 * newStat.nmin));\n  return nr <= or;\n}\n\n/**\n *\n * @param {number[]|object[]} values\n * @param {object} rectangle\n * @param {string} [key]\n * @param {string} [grp]\n * @param {number} [lvl]\n * @param {number} [gsum]\n */\nfunction squarify(values, rectangle, keys = [], grp, lvl, gsum) {\n  values = values || [];\n  const rows = [];\n  const rect = new Rect(rectangle);\n  const row = new StatArray('value', rect.area / sum(values, keys[0]));\n  let length = rect.side;\n  const n = values.length;\n  let i, o;\n\n  if (!n) {\n    return rows;\n  }\n\n  const tmp = values.slice();\n  let key = index(tmp, keys[0]);\n  sort(tmp, key);\n\n  const val = (idx) => key ? +tmp[idx][key] : +tmp[idx];\n  const gval = (idx) => grp && tmp[idx][grp];\n\n  for (i = 0; i < n; ++i) {\n    o = {value: val(i), groupSum: gsum, _data: values[tmp[i]._idx], level: undefined, group: undefined};\n    if (grp) {\n      o.level = lvl;\n      o.group = gval(i);\n      const tmpRef = tmp[i];\n      o.values = keys.reduce(function(obj, k) {\n        obj[k] = +tmpRef[k];\n        return obj;\n      }, {});\n    }\n    o = row.pushIf(o, compareAspectRatio, length);\n    if (o) {\n      rows.push(rect.map(row));\n      length = rect.side;\n      row.reset();\n      row.push(o);\n    }\n  }\n  if (row.length) {\n    rows.push(rect.map(row));\n  }\n  return flatten(rows);\n}\n\nvar version = \"2.3.0\";\n\nfunction scaleRect(sq, xScale, yScale, sp) {\n  const sp2 = sp * 2;\n  const x = xScale.getPixelForValue(sq.x);\n  const y = yScale.getPixelForValue(sq.y);\n  const w = xScale.getPixelForValue(sq.x + sq.w) - x;\n  const h = yScale.getPixelForValue(sq.y + sq.h) - y;\n  return {\n    x: x + sp,\n    y: y + sp,\n    width: w - sp2,\n    height: h - sp2,\n    hidden: sp2 > w || sp2 > h,\n  };\n}\n\nfunction rectNotEqual(r1, r2) {\n  return !r1 || !r2\n\t\t|| r1.x !== r2.x\n\t\t|| r1.y !== r2.y\n\t\t|| r1.w !== r2.w\n\t\t|| r1.h !== r2.h\n    || r1.rtl !== r2.rtl;\n}\n\nfunction arrayNotEqual(a, b) {\n  let i, n;\n\n  if (!a || !b) {\n    return true;\n  }\n\n  if (a === b) {\n    return false;\n  }\n\n  if (a.length !== b.length) {\n    return true;\n  }\n\n  for (i = 0, n = a.length; i < n; ++i) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction buildData(tree, dataset, keys, mainRect) {\n  const treeLeafKey = dataset.treeLeafKey || '_leaf';\n  if (isObject(tree)) {\n    tree = normalizeTreeToArray(keys, treeLeafKey, tree);\n  }\n  const groups = dataset.groups || [];\n  const glen = groups.length;\n  const sp = valueOrDefault(dataset.spacing, 0);\n  const captions = dataset.captions || {};\n  const font = toFont(captions.font);\n  const padding = valueOrDefault(captions.padding, 3);\n\n  function recur(gidx, rect, parent, gs) {\n    const g = getGroupKey(groups[gidx]);\n    const pg = (gidx > 0) && getGroupKey(groups[gidx - 1]);\n    const gdata = group(tree, g, keys, treeLeafKey, pg, parent, groups.filter((item, index) => index <= gidx));\n    const gsq = squarify(gdata, rect, keys, g, gidx, gs);\n    const ret = gsq.slice();\n    if (gidx < glen - 1) {\n      gsq.forEach((sq) => {\n        const bw = parseBorderWidth(dataset.borderWidth, sq.w / 2, sq.h / 2);\n        const subRect = {\n          ...rect,\n          x: sq.x + sp + bw.l,\n          y: sq.y + sp + bw.t,\n          w: sq.w - 2 * sp - bw.l - bw.r,\n          h: sq.h - 2 * sp - bw.t - bw.b,\n        };\n        if (shouldDrawCaption(subRect, captions)) {\n          subRect.y += font.lineHeight + padding * 2;\n          subRect.h -= font.lineHeight + padding * 2;\n        }\n        ret.push(...recur(gidx + 1, subRect, sq.g, sq.s));\n      });\n    }\n    return ret;\n  }\n\n  return glen\n    ? recur(0, mainRect)\n    : squarify(tree, mainRect, keys);\n}\n\nclass TreemapController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this._groups = undefined;\n    this._keys = undefined;\n    this._rect = undefined;\n    this._rectChanged = true;\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  getMinMax(scale) {\n    return {\n      min: 0,\n      max: scale.axis === 'x' ? scale.right - scale.left : scale.bottom - scale.top\n    };\n  }\n\n  configure() {\n    super.configure();\n    const {xScale, yScale} = this.getMeta();\n    if (!xScale || !yScale) {\n      // configure is called once before `linkScales`, and at that call we don't have any scales linked yet\n      return;\n    }\n\n    const w = xScale.right - xScale.left;\n    const h = yScale.bottom - yScale.top;\n    const rect = {x: 0, y: 0, w, h, rtl: !!this.options.rtl};\n\n    if (rectNotEqual(this._rect, rect)) {\n      this._rect = rect;\n      this._rectChanged = true;\n    }\n\n    if (this._rectChanged) {\n      xScale.max = w;\n      xScale.configure();\n      yScale.max = h;\n      yScale.configure();\n    }\n  }\n\n  update(mode) {\n    const dataset = this.getDataset();\n    const {data} = this.getMeta();\n    const groups = dataset.groups || [];\n    const keys = [dataset.key || ''].concat(dataset.sumKeys || []);\n    const tree = dataset.tree = dataset.tree || dataset.data || [];\n\n    if (mode === 'reset') {\n      // reset is called before 2nd configure and is only called if animations are enabled. So wen need an extra configure call here.\n      this.configure();\n    }\n\n    if (this._rectChanged || arrayNotEqual(this._keys, keys) || arrayNotEqual(this._groups, groups) || this._prevTree !== tree) {\n      this._groups = groups.slice();\n      this._keys = keys.slice();\n      this._prevTree = tree;\n      this._rectChanged = false;\n\n      dataset.data = buildData(tree, dataset, this._keys, this._rect);\n      // @ts-ignore using private stuff\n      this._dataCheck();\n      // @ts-ignore using private stuff\n      this._resyncElements();\n    }\n\n    this.updateElements(data, 0, data.length, mode);\n  }\n\n  updateElements(rects, start, count, mode) {\n    const reset = mode === 'reset';\n    const dataset = this.getDataset();\n    const firstOpts = this._rect.options = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const {xScale, yScale} = this.getMeta(this.index);\n\n    for (let i = start; i < start + count; i++) {\n      const options = sharedOptions || this.resolveDataElementOptions(i, mode);\n      const properties = scaleRect(dataset.data[i], xScale, yScale, options.spacing);\n      if (reset) {\n        properties.width = 0;\n        properties.height = 0;\n      }\n\n      if (includeOptions) {\n        properties.options = options;\n      }\n      this.updateElement(rects[i], i, properties, mode);\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  draw() {\n    const {ctx, chartArea} = this.chart;\n    const metadata = this.getMeta().data || [];\n    const dataset = this.getDataset();\n    const levels = (dataset.groups || []).length - 1;\n    const data = dataset.data;\n\n    clipArea(ctx, chartArea);\n    for (let i = 0, ilen = metadata.length; i < ilen; ++i) {\n      const rect = metadata[i];\n      if (!rect.hidden) {\n        rect.draw(ctx, data[i], levels);\n      }\n    }\n    unclipArea(ctx);\n  }\n}\n\nTreemapController.id = 'treemap';\n\nTreemapController.version = version;\n\nTreemapController.defaults = {\n  dataElementType: 'treemap',\n\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'width', 'height']\n    },\n  },\n\n};\n\nTreemapController.descriptors = {\n  _scriptable: true,\n  _indexable: false\n};\n\nTreemapController.overrides = {\n  interaction: {\n    mode: 'point',\n    includeInvisible: true,\n    intersect: true\n  },\n\n  hover: {},\n\n  plugins: {\n    tooltip: {\n      position: 'treemap',\n      intersect: true,\n      callbacks: {\n        title(items) {\n          if (items.length) {\n            const item = items[0];\n            return item.dataset.key || '';\n          }\n          return '';\n        },\n        label(item) {\n          const dataset = item.dataset;\n          const dataItem = dataset.data[item.dataIndex];\n          const label = dataItem.g || dataItem._data.label || dataset.label;\n          return (label ? label + ': ' : '') + dataItem.v;\n        }\n      }\n    },\n  },\n  scales: {\n    x: {\n      type: 'linear',\n      alignToPixels: true,\n      bounds: 'data',\n      display: false\n    },\n    y: {\n      type: 'linear',\n      alignToPixels: true,\n      bounds: 'data',\n      display: false,\n      reverse: true\n    }\n  },\n};\n\nTreemapController.beforeRegister = function() {\n  requireVersion('chart.js', '3.8', Chart.version);\n};\n\nTreemapController.afterRegister = function() {\n  const tooltipPlugin = registry.plugins.get('tooltip');\n  if (tooltipPlugin) {\n    tooltipPlugin.positioners.treemap = function(active) {\n      if (!active.length) {\n        return false;\n      }\n\n      const item = active[active.length - 1];\n      const el = item.element;\n\n      return el.tooltipPosition();\n    };\n  } else {\n    console.warn('Unable to register the treemap positioner because tooltip plugin is not registered');\n  }\n};\n\nTreemapController.afterUnregister = function() {\n  const tooltipPlugin = registry.plugins.get('tooltip');\n  if (tooltipPlugin) {\n    delete tooltipPlugin.positioners.treemap;\n  }\n};\n\nexport { TreemapController, TreemapElement };\n"],"names":["useWillUnmount","fn","onUnmount","value","valueRef","useRef","current","useUpdatedRef","useEffect","MAX_DELAY_MS","Math","pow","setChainedTimeout","handleRef","timeoutAtMs","delayMs","Date","now","setTimeout","useTimeout","isMounted","useMounted","clearTimeout","useMemo","clear","set","noop","ref","onRootClose","disabled","clickTrigger","onClose","useClickOutside","handleKeyUp","useEventCallback","e","keyCode","doc","ownerDocument","getRefTarget","currentEvent","defaultView","window","event","removeKeyupListener","listen","undefined","resolveContainerRef","document","canUseDOM","body","getBoundingClientRect","useWaitForDOMRef","onResolved","useWindow","useState","resolvedRef","setRef","earlyRef","nextRef","Overlay","React","props","outerRef","flip","offset","placement","containerPadding","popperConfig","Transition","transition","useCallbackRef","rootElement","attachRef","arrowElement","attachArrowRef","mergedRef","useMergedRefs","container","target","show","exited","setExited","popper","usePopper","mergeOptionsWithPopperConfig","enableEvents","mountOverlay","useRootClose","onHide","rootClose","rootCloseDisabled","rootCloseEvent","child","children","Object","assign","attributes","style","styles","arrowProps","arrow","onExit","onExiting","onEnter","onEntering","onEntered","_jsx","in","appear","onExited","ReactDOM","displayName","createWithBsPrefix","Popover","bsPrefix","className","decoratedBsPrefix","useBootstrapPrefix","isRTL","useIsRTL","split","primaryPlacement","bsDirection","getOverlayDirection","_jsxs","role","classNames","PopoverBody","defaultProps","Header","PopoverHeader","Body","POPPER_OFFSET","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","_React$Component","subClass","superClass","context","_this","call","this","initialStatus","isMounting","enter","appearStatus","unmountOnExit","mountOnEnter","state","status","nextCallback","prototype","create","constructor","setPrototypeOf","getDerivedStateFromProps","_ref","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","node","nodeRef","scrollTop","forceReflow","performEnter","performExit","setState","_this2","appearing","_ref2","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onTransitionEnd","_this3","cancel","nextState","callback","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","render","_this$props","childProps","_objectWithoutPropertiesLoose","TransitionGroupContext","Provider","contextType","propTypes","getComputedStyle","psuedoElement","ownerWindow","rUpper","msPattern","hyphenateStyleName","string","replace","toLowerCase","hyphenate","supportedTransforms","property","css","transforms","getPropertyValue","keys","forEach","key","test","isTransform","removeProperty","cssText","emulateTransitionEnd","element","duration","padding","called","handle","eventName","bubbles","cancelable","createEvent","initEvent","dispatchEvent","triggerEvent","remove","once","transitionEnd","str","mult","indexOf","parseFloat","parseDuration","removeEmulate","transitionEndListener","delay","safeFindDOMNode","componentOrElement","childRef","r","normalize","param","handleEnter","useCallback","handleEntering","handleEntered","handleExit","handleExiting","handleExited","handleAddEndListener","innerProps","fadeStyles","Fade","transitionClasses","isAppearing","offsetHeight","triggerBrowserReflow","TransitionWrapper","overlay","outerProps","popperRef","firstRenderedState","setFirstRenderedState","customOffset","overlayRef","popoverClass","name","options","classList","contains","baseVal","useOverlayOffset","modifiers","actualTransition","handleFirstUpdate","onFirstUpdate","useIsomorphicEffect","scheduleUpdate","BaseOverlay","concat","overlayProps","_popperObj$state","_popperObj$state$modi","popperObj","aRef","__wrapped","wrapRefs","updatedPlacement","update","outOfBoundaries","modifiersData","hide","isReferenceHidden","handleMouseOverOut","args","relatedNative","currentTarget","related","relatedTarget","nativeEvent","OverlayTrigger","trigger","propsShow","defaultShow","onToggle","propsDelay","triggerNodeRef","hoverStateRef","useUncontrolledProp","setShow","normalizeDelay","onFocus","onBlur","onClick","handleShow","handleHide","handleFocus","handleBlur","handleClick","handleMouseOver","handleMouseOut","triggers","triggerProps","onMouseOver","onMouseOut","_Fragment","cloneElement","Tooltip","enumerable","get","useWebSocket","exports","webSocketInstance","setters","optionsRef","reconnect","reconnectCount","sendMessage","interval","cancelReconnectOnClose","cancelReconnectOnError","setLastMessage","setReadyState","fromSocketIO","setUpSocketIOPing","onmessage","message","onMessage","filter","bindMessageHandler","onopen","onOpen","constants_1","OPEN","bindOpenHandler","EventSource","assertIsWebSocket","skipAssert","onclose","CLOSED","shouldReconnect","reconnectAttempts","nextReconnectInterval","reconnectInterval","reconnectTimeout","onReconnectStop","console","warn","bindCloseHandler","onerror","error","onError","code","reason","wasClean","close","retryOnError","bindErrorHandler","CLOSING","clearInterval","url","getSubscribers","subscriber","WebSocket","globals_1","withCredentials","events","ReadyState","navigator","product","globalThis","eventSourceSupported","webSocketRef","startRef","eventSourceOptions","Error","share","clearSocketIoPingInterval","protocols","CONNECTING","attachSharedListeners","readyState","addSubscriber","removeSubscriber","hasSubscribers","socketLike","cleanSubscribers","attachListeners","convertedUrl","_a","parsedUrl","parseSocketIOUrl","queryParams","appendQueryParams","hasOwnProperty","url_1","subscribers","EMPTY_LIST","Array","from","size","Set","add","delete","webSocket","start","Proxy","obj","val","isSecure","removedFinalBackSlack","protocol","location","port","hostname","params","alreadyHasParams","stringified","entries","reduce","next","slice","setInterval","connect","optionsWithEventSource","eventsRef","lastMessage","getWebSocket","type","lastEvent","getEventSource","emptyEvent","payload","optionsWithSocketIO","sendJsonMessage","socketIOLastMessage","data","match","JSON","parse","isArray","getSocketData","lastJsonMessage","messageQueue","webSocketProxy","optionsCache","readyStateFromUrl","UNINSTANTIATED","stringifiedQueryParams","stringify","keep","send","push","removeListeners_1","expectClose_1","createOrJoin_1","start_1","getUrl","_b","protectedSetLastMessage","flushSync","protectedSetReadyState","prev","createOrJoinSocket","splice","skip","resetSubscribers","resetWebSockets","isOlderPart","act","req","length","getGroupKey","lvl","scanTreeObject","treeLeafKey","tree","result","objIndex","record","reduced","item","i","k","childKey","isObject","normalizeTreeToArray","max","maxVal","ikeys","groupKey","flatten","input","stack","res","pop","reverse","getPath","groups","defaultValue","path","join","index","values","n","_idx","v","sort","a","b","sum","s","widthCache","Map","getBounds","rect","useFinalPosition","getProps","x","y","left","top","right","width","bottom","height","limit","min","parseBorderWidth","maxW","maxH","o","toTRBL","t","l","boundingRects","bounds","border","borderWidth","radius","toTRBLCorners","maxR","topLeft","topRight","bottomLeft","bottomRight","parseBorderRadius","borderRadius","outer","w","h","inner","inRange","skipX","skipY","hasRadius","addNormalRectPath","ctx","shouldDrawCaption","display","toFont","font","lineHeight","valueOrDefault","drawText","levels","captions","labels","save","beginPath","clip","isLeaf","defined","content","formatter","contents","fonts","hoverFont","optFont","map","f","getFontFromOptions","labelSize","lines","fontsKey","mapKey","_measureText","has","count","text","measureText","restore","measureLabelSize","lblToDraw","overflow","ratio","labelToDraw","isNumber","fitRatio","floor","toFonts","color","hoverColor","align","optColor","colors","xyPoint","position","calculateX","calculateXYLabel","textAlign","textBaseline","lhs","c","lh","fillStyle","fillText","drawLabel","spacing","rtl","oColor","oAlign","oFont","g","drawCaption","drawDivider","dividers","_data","lineColor","lineCapStyle","lineDash","lineDashOffset","lineWidth","strokeStyle","lineCap","setLineDash","w2","moveTo","lineTo","h2","stroke","TreemapElement","cfg","addRectPath","addRoundedRectPath","borderColor","fill","backgroundColor","mouseX","mouseY","getCenterPoint","axis","Element","getDims","itm","s2","_normalized","ar","d1","sqrt","d2","id","defaults","label","raw","descriptors","_fallback","_scriptable","_indexable","defaultRoutes","getX","iw","_ix","buildRow","dims","_iy","vs","group","level","gs","groupSum","Rect","ih","dir","arr","side","nsum","row","ret","maxd2","totd1","getStat","sa","nmin","nmax","getNewStat","stat","_arr","setStat","StatArray","me","reset","_hist","Infinity","nstat","compareAspectRatio","oldStat","newStat","os2","ns2","l2","or","squarify","rectangle","grp","gsum","rows","area","tmp","idx","gval","tmpRef","pushIf","scaleRect","sq","xScale","yScale","sp","sp2","getPixelForValue","hidden","arrayNotEqual","buildData","dataset","mainRect","glen","recur","gidx","parent","pg","gdata","mainGrp","mainValue","addKeys","ak","gsq","bw","subRect","TreemapController","chart","datasetIndex","_groups","_keys","_rect","_rectChanged","enableOptionSharing","scale","getMeta","r1","r2","configure","mode","getDataset","sumKeys","_prevTree","_dataCheck","_resyncElements","updateElements","rects","firstOpts","resolveDataElementOptions","sharedOptions","getSharedOptions","includeOptions","properties","updateElement","updateSharedOptions","chartArea","metadata","clipArea","ilen","draw","unclipArea","DatasetController","version","dataElementType","animations","numbers","overrides","interaction","includeInvisible","intersect","hover","plugins","tooltip","callbacks","title","items","dataItem","dataIndex","scales","alignToPixels","beforeRegister","pkg","ver","strict","parts","parseInt","requireVersion","Chart","afterRegister","tooltipPlugin","registry","positioners","treemap","tooltipPosition","afterUnregister"],"sourceRoot":""}