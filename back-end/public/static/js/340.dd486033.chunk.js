"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[340],{94743:function(e,n,r){var s=r(78983),i=r(80184);n.Z=function(e){var n="https://www.binance.com/en/futures/".concat(e.symbol);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.C_,{style:{display:"flex",alignItems:"center"},className:"custom-link",color:"warning",onClick:function(){return function(e){var n=window.open(e,"_blank","noopener,noreferrer");n&&(n.opener=null)}(n)},children:e.symbol})})}},23131:function(e,n,r){r(72791);var s=r(78983),i=r(80184);n.Z=function(e,n){return(0,i.jsx)(s.oo,{color:"secondary",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(s.xZ,{closeButton:!0,children:(0,i.jsx)("div",{className:"fw-bold me-auto",children:e})}),(0,i.jsx)(s.S3,{children:n})]})})}},42340:function(e,n,r){r.r(n);var s=r(93433),i=r(74165),l=r(15861),t=r(29439),a=r(72791),c=r(55230),o=r(78983),u=r(40337),d=r(78392),m=r(80184),x="Short",h="Isolated",p=function(e){var n=e.onCloseHandler,r=(e.onSubmitHandler,(0,a.useRef)(null)),u=(0,a.useState)([]),p=(0,t.Z)(u,2),f=p[0],j=p[1],g=(0,a.useRef)(x),v=(0,a.useRef)("30"),b=(0,a.useRef)("5"),N=(0,a.useRef)(h),y=(0,a.useRef)("1000"),P=(0,a.useState)("BTCUSDT"),w=(0,t.Z)(P,2),Z=w[0],C=w[1],k=(0,a.useState)(5),S=(0,t.Z)(k,2),L=S[0],z=S[1],F=(0,a.useState)(Array(5)),R=(0,t.Z)(F,2),T=R[0],V=R[1],M=(0,a.useState)(Array(5)),A=(0,t.Z)(M,2),H=A[0],I=A[1],Y=(0,a.useState)(null),O=(0,t.Z)(Y,2),_=O[0],E=O[1],q=(0,a.useState)(null),D=(0,t.Z)(q,2),B=D[0],K=D[1],X=(0,a.useState)("---"),U=(0,t.Z)(X,2),W=U[0],G=U[1],Q=(0,a.useState)("---"),J=(0,t.Z)(Q,2),$=J[0],ee=J[1],ne=(0,a.useRef)(null),re=(0,a.useRef)(null);function se(e){var n=Number(e.target.id.replace("price",""));V((function(r){var i=(0,s.Z)(r);return i[n]=Number(e.target.value),i}))}function ie(e){var n=Number(e.target.id.replace("amount",""));I((function(r){var i=(0,s.Z)(r);return i[n]=Number(e.target.value),i}))}return(0,a.useEffect)((function(){(function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.getSymbolList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbols.sort();j(n)}))}),[]),(0,a.useEffect)((function(){function e(){(function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.getSymbolMarketInfo(Z);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){var n=e.symbolMarketInfo;G(n.markPrice),ee(n.lastPrice)}))}if(e(),Z){var n=setInterval(e,d.W);return function(){return clearInterval(n)}}}),[Z]),(0,a.useEffect)((function(){var e,n=0,r=0;T.slice(0,L).forEach((function(e,s){var i=H[s];void 0!==e&&void 0!==i&&(n+=i,r+=e*i)})),e=(r/n).toFixed(2),K(e),E(n)}),[T,H,L]),(0,m.jsxs)(o.lx,{ref:r,onSubmit:function(e){e.preventDefault(),console.log(Z),console.log(g.current.value,v.current.value),console.log(N.current.value,b.current.value),console.log(y.current.value,L),console.log(T,H),console.log(ne.current.value,re.current.value),function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.map((function(e,n){return[e,H[n]]})),r={symbol:Z,mode:N.current.value.toLowerCase(),direction:g.current.value.toLowerCase(),leverage:Number(b.current.value),maxBalance:Number(y.current.value),levels:(0,s.Z)(n),takeProfit:{trigger:"mark",type:"market",percent:Number(ne.current.value)},stopLoss:{trigger:"last",type:"limit",percent:Number(re.current.value)}},e.next=4,c.ZP.placeGridOrder(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log(e)}))},children:[(0,m.jsx)(o.p0,{children:(0,m.jsx)(o.fl,{children:"New Trade"})}),(0,m.jsx)(o.sD,{children:(0,m.jsxs)(o.rb,{className:"d-flex d-flex-row justify-content-around",children:[(0,m.jsxs)(o.b7,{xs:10,lg:5,children:[(0,m.jsxs)(o.YR,{className:"mb-2",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputSymbol",className:"",children:"Symbol"}),(0,m.jsx)(o.LX,{id:"inputSymbol",onChange:function(e){C(e.target.value),z(5),V(new Array(5)),I(new Array(5))},value:Z,children:f.map((function(e,n){return(0,m.jsx)("option",{children:e},n)}))})]}),(0,m.jsxs)(o.YR,{className:"mb-2",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputMode",children:"Mode"}),(0,m.jsxs)(o.LX,{ref:N,id:"inputMode",defaultValue:h,children:[(0,m.jsx)("option",{children:"Isolated"}),(0,m.jsx)("option",{children:"Cross"})]})]}),(0,m.jsxs)(o.YR,{className:"mb-2",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputSide",children:"Direction"}),(0,m.jsxs)(o.LX,{id:"inputSide",ref:g,defaultValue:x,children:[(0,m.jsx)("option",{children:"Long"}),(0,m.jsx)("option",{children:"Short"})]})]}),(0,m.jsxs)(o.YR,{className:"mb-2",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputLeverage",children:"Leverage"}),(0,m.jsx)(o.jO,{ref:b,type:"number","aria-label":"profit target",className:"col-4",defaultValue:"5",id:"inputLeverage"}),(0,m.jsx)(o.wV,{component:"label",children:"x"})]}),(0,m.jsxs)(o.YR,{className:"mb-2",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputInitialMargin",children:"Max Balance"}),(0,m.jsx)(o.jO,{ref:y,type:"number",placeholder:"100","aria-label":"profit target",className:"col-4",defaultValue:1e3,id:"inputInitialMargin"}),(0,m.jsx)(o.wV,{component:"label",children:"USDT"})]})]}),(0,m.jsxs)(o.b7,{xs:10,lg:6,children:[(0,m.jsxs)(o.rb,{children:[(0,m.jsx)(o.b7,{children:(0,m.jsxs)(o.C_,{color:"info",children:["Mark Price: ",Number(W).toFixed(2)]})}),(0,m.jsx)(o.b7,{children:(0,m.jsxs)(o.C_,{color:"warning",children:["Last Price: ",Number($).toFixed(2)]})})]}),(0,m.jsxs)(o.YR,{className:"mt-1 mb-2 md-col-4",children:[(0,m.jsxs)(o.YR,{className:"mb-0",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputLevels",children:"Number Levels"}),(0,m.jsx)(o.jO,{type:"number",placeholder:L,"aria-label":"",value:L,id:"inputLevels",onChange:function(e){z(e.target.value)}})]}),!!L&&Array.from({length:L}).map((function(e,n){return(0,m.jsxs)(o.YR,{className:"mb-0",size:"sm",children:[(0,m.jsxs)(o.wV,{component:"label",htmlFor:"price"+n,children:["Price ",n+1]}),(0,m.jsx)(o.jO,{type:"number",placeholder:"","aria-label":"price",value:T[n],id:"price"+n,onChange:se}),(0,m.jsxs)(o.wV,{component:"label",htmlFor:"amout"+n,children:["Amt ",n+1]}),(0,m.jsx)(o.jO,{type:"number",placeholder:"","aria-label":"amount",defaultValue:"",id:"amount"+n,onChange:ie})]},n)})),(0,m.jsxs)(o.rb,{children:[(0,m.jsx)(o.b7,{children:(0,m.jsxs)(o.C_,{color:"danger",children:["Average Price: ",B]})}),(0,m.jsx)(o.b7,{children:(0,m.jsxs)(o.C_,{color:"warning",children:["Total Amount: ",_]})})]})]}),(0,m.jsxs)(o.YR,{className:"my-2",children:[(0,m.jsxs)(o.YR,{className:"mb-1",children:[(0,m.jsx)(o.wV,{component:"label",htmlFor:"inputTP",children:"Take Profit (option)"}),(0,m.jsx)(o.jO,{ref:ne,type:"number",placeholder:"","aria-label":"Take Profit",defaultValue:"",id:"inputTP"}),(0,m.jsx)(o.wV,{component:"label",children:"%"})]}),(0,m.jsxs)(o.YR,{className:"mb-1",children:[(0,m.jsx)(o.wV,{className:"",component:"label",htmlFor:"inputSL",children:"Stop Loss (option)"}),(0,m.jsx)(o.jO,{ref:re,type:"number",placeholder:"","aria-label":"stoploss percent",defaultValue:"",id:"inputSL"}),(0,m.jsx)(o.wV,{component:"label",children:"%"})]})]})]})]})}),(0,m.jsxs)(o.Ym,{children:[(0,m.jsx)(o.u5,{color:"secondary",onClick:function(){return n},children:"Close"}),(0,m.jsx)(o.u5,{color:"primary",type:"submit",children:"Submit"})]})]})};n.default=function(){var e=(0,a.useState)(null),n=(0,t.Z)(e,2),r=n[0],s=n[1],d=(0,a.useState)(!1),x=(0,t.Z)(d,2),h=x[0],f=x[1];function j(){return g.apply(this,arguments)}function g(){return g=(0,l.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.getTrade();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return(0,a.useEffect)((function(){j().then((function(e){return s(e)}));var e=setInterval((function(){j().then((function(e){return s(e)}))}),1700);return function(){return clearInterval(e)}}),[]),r?!1===r.success?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{children:"Manual Trade"}),(0,m.jsx)("p",{children:r.message})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[(0,m.jsx)("h1",{children:"Manual Trade"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{onClick:function(e){f(!0)},className:"btn btn-warning",children:"New Trade"}),(0,m.jsx)(o.Tk,{size:"lg",alignment:"center",visible:h,onClose:function(){return f(!1)},children:(0,m.jsx)(p,{onCloseHandler:function(){return f(!1)}})})]})]}),Array.isArray(r.positions)&&(0,m.jsx)(u.Z,{positions:r.positions})]}):(0,m.jsx)(o.LQ,{color:"info"})}},40337:function(e,n,r){r.d(n,{Z:function(){return f}});var s=r(74165),i=r(15861),l=r(29439),t=r(72791),a=(r(71047),r(55230)),c=r(81694),o=r.n(c),u=r(78983),d=r(80184),m=function(e){var n=e.position,r=e.index,s=e.isClose,i=e.closeHandler,a=e.closeLimitHandler,c=e.supCloseLimit,m=(0,t.useState)(""),x=(0,l.Z)(m,2),h=x[0],p=x[1];var f=n.positionAmt>0?"info":"danger",j=n.pnl>0?"success":"danger";return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(u.T6,{className:"",children:[(0,d.jsxs)(u.NN,{className:"align-middle",children:[(0,d.jsx)(u.C_,{color:f,children:n.symbol}),(0,d.jsx)("span",{children:(0,d.jsxs)(u.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})})]}),(0,d.jsx)(u.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.entryPrice}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.markPrice}),(0,d.jsx)(u.NN,{className:"align-middle text-warning",children:n.liquidationPrice}),(0,d.jsx)(u.NN,{className:"align-middle text-info",children:n.lastPrice}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.marginSize}),(0,d.jsxs)(u.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]}),s&&(0,d.jsx)(u.NN,{className:"align-middle",children:(0,d.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,d.jsx)(u.u5,{color:j,variant:"ghost",value:n,onClick:function(e){i(n)},size:"sm",children:"Market"}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"vr align-middle"}),(0,d.jsx)(u.u5,{color:j,variant:"ghost",value:n,onClick:function(e){a(n,h),p("")},size:"sm",children:"Limit"}),(0,d.jsx)("div",{className:"col-4",children:(0,d.jsx)(u.jO,{type:"number",size:"sm",placeholder:"price",value:h,id:"limit-price",onChange:function(e){return p(e.target.value)}})})]})]})})]},r)})},x=r(94743),h=function(e){var n=e.position,r=(e.index,e.isClose),s=e.closeHandler,i=e.closeLimitHandler,a=e.supCloseLimit,c=(0,t.useState)(""),m=(0,l.Z)(c,2),h=m[0],p=m[1];n.positionAmt;var f=n.pnl>0?"success":"danger";return(0,d.jsx)(u.b7,{xs:12,md:6,xl:4,children:(0,d.jsxs)(u.xH,{className:"mx-1 mb-2",children:[(0,d.jsx)(u.bn,{children:(0,d.jsxs)("div",{className:"d-flex d-flex-row justify-content-between align-items-center",children:[(0,d.jsx)(x.Z,{symbol:n.symbol}),(0,d.jsxs)(u.u5,{variant:"ghost",color:"warning",size:"sm",children:[n.leverage,"x"]})]})}),(0,d.jsxs)(u.sl,{children:[(0,d.jsx)(u.Sx,{striped:!0,hover:!0,responsive:!0,color:"light",className:"smaller-text mt-2",style:{width:"100%"},children:(0,d.jsxs)(u.NR,{style:{overflowY:"auto"},children:[(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Size"}),(0,d.jsx)(u.NN,{className:o()({"text-info":n.size>0,"text-danger":n.size<0,"align-middle":!0}),children:n.size})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Entry Price"}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.entryPrice})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Mark Price"}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.markPrice})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Liquid Price"}),(0,d.jsx)(u.NN,{className:"align-middle text-warning",children:n.liquidationPrice})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Last Price"}),(0,d.jsx)(u.NN,{className:"align-middle text-info",children:n.lastPrice})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"Margin Size"}),(0,d.jsx)(u.NN,{className:"align-middle",children:n.marginSize})]}),(0,d.jsxs)(u.T6,{children:[(0,d.jsx)(u.is,{children:"PNL (%)"}),(0,d.jsxs)(u.NN,{className:o()({"text-success":n.pnl>0,"text-danger":n.pnl<0,"align-middle":!0}),children:[n.pnl," (",n.roe,"%)"]})]})]})}),r&&(0,d.jsxs)("div",{className:"d-flex align-items-center",children:[(0,d.jsx)("div",{children:"Close"}),(0,d.jsx)("div",{className:"align-middle",children:(0,d.jsxs)("div",{className:"d-inline-flex justify-content-start align-items-center align-self-center flex-fill",children:[(0,d.jsx)(u.u5,{color:f,variant:"ghost",value:n,onClick:function(e){s(n)},size:"sm",children:"Market"}),a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"vr align-middle"}),(0,d.jsx)(u.u5,{color:f,variant:"ghost",value:n,onClick:function(e){i(n,h),p("")},size:"sm",children:"Limit"}),(0,d.jsx)("div",{className:"col-4",children:(0,d.jsx)(u.jO,{type:"number",size:"sm",placeholder:"price",value:h,id:"limit-price",onChange:function(e){return p(e.target.value)}})})]})]})})]})]})]})})},p=r(23131),f=function(e){var n=e.positions,r=e.isClose,c=e.exchange,o=(0,t.useState)(0),x=(0,l.Z)(o,2),f=x[0],j=x[1],g=(0,t.useRef)();function v(e,n,r){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)((0,s.Z)().mark((function e(n,r,i){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.closePosition(n,r,i,c);case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){v(e,"market",0).then((function(e){j((0,p.Z)("Close Position",e.message))}))}function y(e,n){var r=e.markPrice-50*e.markPrice/100,s=1.5*e.markPrice;n>=r&&n<=s?v(e,"limit",n).then((function(e){j((0,p.Z)("Close Position",e.message))})):j((0,p.Z)("Close Position","price should be larger or smaller than mark price maximum of 50%"))}function P(){!function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ZP.clearPositions();case 2:return n=e.sent,j((0,p.Z)("Close All Positions","".concat(n.msg))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}var w=n.map((function(e,n){var r=e.symbol,s=e.entryPrice,i=e.unRealizedProfit,l=e.positionAmt,t=e.markPrice,a=e.liquidationPrice,c=e.lastPrice,o=e.leverage,u=(e.pricePrecision,e.size),d=e.marginSize,m=100*i/(Math.abs(u)/o);return{symbol:r,positionAmt:l,size:Number(u).toFixed(2),entryPrice:s,markPrice:t,lastPrice:c,liquidationPrice:a,marginSize:Number(d).toFixed(2),pnl:Number(i).toFixed(2),roe:Number(m).toFixed(2),leverage:o}})),Z=["Symbol","Size","Entry Price","Mark Price","Liq. Price","Last Price","Margin","PNL (ROI%)"];return r&&(c===a.KM?Z.push("Close All Positions"):Z.push("Close Position")),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.rb,{children:(0,d.jsx)(u.b7,{children:(0,d.jsxs)(u.xH,{className:"mb-4",children:[(0,d.jsxs)(u.bn,{children:["Positions (",w.length,")"]}),(0,d.jsx)(u.sl,{children:w.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{id:"positions-card",className:"d-flex flex-wrap",children:w.map((function(e,n){return(0,d.jsx)(h,{position:e,isClose:r,closeHandler:N,closeLimitHandler:y},n)}))}),(0,d.jsxs)(u.Sx,{id:"positions-table",children:[(0,d.jsx)(u.V,{className:"",children:(0,d.jsx)(u.T6,{children:Z.map((function(e,n){return"Close All Positions"===e?(0,d.jsx)(u.is,{children:(0,d.jsx)("div",{children:(0,d.jsx)(u.If,{content:"close all positions as market price",placement:"top",children:(0,d.jsx)(u.u5,{variant:"ghost",color:"warning",onClick:P,children:e})})})},n):(0,d.jsx)(u.is,{children:e},n)}))})}),(0,d.jsx)(u.NR,{children:w.map((function(e,n){return(0,d.jsx)(m,{position:e,isClose:r,closeHandler:N,closeLimitHandler:y,supCloseLimit:c===a.KM},n)}))})]})]})})]})})}),(0,d.jsx)(u.KF,{ref:g,push:f,placement:"top-end"})]})}},78392:function(e,n,r){r.d(n,{W:function(){return s}});var s=2500}}]);
//# sourceMappingURL=340.dd486033.chunk.js.map