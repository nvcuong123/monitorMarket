{"version":3,"file":"static/js/633.34fba9d1.chunk.js","mappings":"2LAkJA,UA7IoB,SAACA,GACnB,OAA4BC,EAAAA,EAAAA,UAAS,MAAK,eAAnCC,EAAO,KAAEC,EAAQ,KAAmB,SAC5BC,IAAgB,4CAG9B,OAH8B,0BAA/B,yGACyBC,EAAAA,EAAAA,iBAA+B,KAAD,EAAvC,OAARC,EAAQ,yBACPA,GAAQ,4CAChB,sBAUD,IATAC,EAAAA,EAAAA,YAAU,WACRH,IAAmBI,MAAK,SAACF,GAAQ,OAAKH,EAASG,EAAS,IACxD,IAAMG,EAAKC,aAAY,WACrBN,IAAmBI,MAAK,SAACF,GAAQ,OAAKH,EAASG,EAAS,GAC1D,GAAG,MAEH,OAAO,kBAAMK,cAAcF,EAAI,CACjC,GAAG,IAEEP,EAEE,CACLU,QAAQC,IAAIX,GACZ,IAAMY,EAAaZ,EAAQY,WACrBC,EAAYb,EAAQa,UAIpBC,EAAeD,EAAUE,KAAI,SAACC,EAAUC,GAC5C,IACEC,EAKEF,EALFE,OACAC,EAIEH,EAJFG,WACAC,EAGEJ,EAHFI,iBAMF,MAAO,CACLF,EAJEF,EAFFK,YAIyBF,EAIzBA,EACA,GACA,GACA,GATEH,EADFM,eAYAF,EAEJ,IACA,OACE,iCACE,yDACCR,EAAWW,OAAS,IACnB,SAAC,KAAI,WACH,SAAC,KAAI,CAACC,GAAI,GAAG,UACX,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,sBACZ,UAAC,KAAS,YACR,+CACA,mBAAOA,UAAU,QAAO,WACtB,4BACE,wBACGC,OAAOC,KAAKf,EAAW,IAAIG,KAAI,SAACa,EAAKX,GACpC,OAAO,eAAIA,MAAOA,EAAM,SAAEW,GAC5B,SAGJ,2BACGhB,EAAWG,KAAI,SAACc,EAAOZ,GACtB,OACE,eAAIA,MAAOA,EAAM,SACdS,OAAOI,OAAOD,GAAOd,KAAI,SAACgB,EAAOC,GAChC,OACE,yBACE,iBAAMP,UAAU,KAAKR,MAAOe,EAAI,SAC7BD,KAIT,KAGN,mBAQblB,EAAUU,OAAS,IAClB,SAAC,KAAI,WACH,SAAC,KAAI,CAACC,GAAI,GAAG,UACX,UAAC,KAAK,CAACC,UAAU,OAAM,WACrB,SAAC,KAAW,yBACZ,UAAC,KAAS,YACR,kDACA,mBAAOA,UAAU,QAAO,WACtB,4BACE,wBACG,CACC,SACA,OACA,cACA,aACA,YACA,eACA,SACA,cACAV,KAAI,SAACa,EAAKX,GACV,OAAO,eAAIA,MAAOA,EAAM,SAAEW,GAC5B,SAGJ,2BACGd,EAAaC,KAAI,SAACC,EAAUC,GAC3B,OACE,eAAIA,MAAOA,EAAM,SACdD,EAASD,KAAI,SAACgB,EAAOC,GACpB,OACE,yBACE,iBAAMP,UAAU,KAAKR,MAAOe,EAAI,SAC7BD,KAIT,KAGN,mBAQS,IAAtBnB,EAAWW,QAAqC,IAArBV,EAAUU,SACpC,SAAC,KAAI,wDAIb,CA1HE,OAAO,4CA2HX,C","sources":["pages/TradeInfo.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport tr7TradingBot from \"../Model/fetch-tr7-trading-bot.js\";\nimport { CCard, CCardHeader, CCardBody, CRow, CCol } from \"@coreui/react\";\n\nconst TR7BotTrade = (props) => {\n  const [message, $message] = useState(null);\n  async function fetchSomeBotData() {\n    const response = await tr7TradingBot.fetchTradeInfo();\n    return response;\n  }\n  useEffect(() => {\n    fetchSomeBotData().then((response) => $message(response));\n    const id = setInterval(() => {\n      fetchSomeBotData().then((response) => $message(response));\n    }, 1600);\n\n    return () => clearInterval(id);\n  }, []);\n\n  if (!message) {\n    return <>Loading...</>;\n  } else {\n    console.log(message);\n    const openOrders = message.openOrders;\n    const positions = message.positions;\n    /** [\"Symbol\", \"Size\", \"Entry Price\", \"Mark Price\", \"Liq.Price\", \"Margin Ratio\", \"Margin\", \"PNL(ROE %)\"]\n     *\n     */\n    const curPositions = positions.map((position, index) => {\n      const {\n        symbol,\n        entryPrice,\n        unrealizedProfit,\n        positionAmt,\n        isolatedWallet,\n      } = position;\n      // NOTE: on binance site, this size is calculated as positionAmt * last price\n      const size = positionAmt * entryPrice;\n      return [\n        symbol,\n        size,\n        entryPrice,\n        \"\",\n        \"\",\n        \"\",\n        isolatedWallet,\n        unrealizedProfit,\n      ];\n    });\n    return (\n      <>\n        <h1>Current Orders and Positions</h1>\n        {openOrders.length > 0 && (\n          <CRow>\n            <CCol xl={12}>\n              <CCard className=\"mb-4\">\n                <CCardHeader>Orders</CCardHeader>\n                <CCardBody>\n                  <p>All current orders</p>\n                  <table className=\"table\">\n                    <thead>\n                      <tr>\n                        {Object.keys(openOrders[0]).map((key, index) => {\n                          return <th index={index}>{key}</th>;\n                        })}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {openOrders.map((order, index) => {\n                        return (\n                          <tr index={index}>\n                            {Object.values(order).map((value, idx) => {\n                              return (\n                                <td>\n                                  <span className=\"h6\" index={idx}>\n                                    {value}\n                                  </span>\n                                </td>\n                              );\n                            })}\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </CCardBody>\n              </CCard>\n            </CCol>\n          </CRow>\n        )}\n        {positions.length > 0 && (\n          <CRow>\n            <CCol xl={12}>\n              <CCard className=\"mb-4\">\n                <CCardHeader>Positions</CCardHeader>\n                <CCardBody>\n                  <p>All current positions</p>\n                  <table className=\"table\">\n                    <thead>\n                      <tr>\n                        {[\n                          \"Symbol\",\n                          \"Size\",\n                          \"Entry Price\",\n                          \"Mark Price\",\n                          \"Liq.Price\",\n                          \"Margin Ratio\",\n                          \"Margin\",\n                          \"PNL(ROE %)\",\n                        ].map((key, index) => {\n                          return <th index={index}>{key}</th>;\n                        })}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {curPositions.map((position, index) => {\n                        return (\n                          <tr index={index}>\n                            {position.map((value, idx) => {\n                              return (\n                                <td>\n                                  <span className=\"h6\" index={idx}>\n                                    {value}\n                                  </span>\n                                </td>\n                              );\n                            })}\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </CCardBody>\n              </CCard>\n            </CCol>\n          </CRow>\n        )}\n        {openOrders.length === 0 && positions.length === 0 && (\n          <CRow>There is not any open order or position</CRow>\n        )}\n      </>\n    );\n  }\n};\n\nexport default TR7BotTrade;\n"],"names":["props","useState","message","$message","fetchSomeBotData","tr7TradingBot","response","useEffect","then","id","setInterval","clearInterval","console","log","openOrders","positions","curPositions","map","position","index","symbol","entryPrice","unrealizedProfit","positionAmt","isolatedWallet","length","xl","className","Object","keys","key","order","values","value","idx"],"sourceRoot":""}