"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[958],{40958:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(29439),a=t(72791),o=t(19829),i=t(1413),c=t(74819),s=t(24689),l=t(43623),u=[{min:Number.NEGATIVE_INFINITY,max:-20,color:"#D73B51"},{min:-20,max:-10,color:"#F1475C"},{min:-10,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:10,color:"#48D69D"},{min:10,max:20,color:"#0FCB80"},{min:20,max:Number.POSITIVE_INFINITY,color:"#0EAF6F"}],d=[{min:-1/0,max:-.01,color:"#D73B51"},{min:-.01,max:-.005,color:"#F1475C"},{min:-.005,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:.005,color:"#48D69D"},{min:.005,max:.01,color:"#0FCB80"},{min:.01,max:1/0,color:"#0EAF6F"}],m=function(e,n){var t="#77808F",r=u;"Funding Rates"===n&&(r=d);var a=r.find((function(n){var t=Number(e);return t>=n.min&&t<n.max}));return a&&(t=a.color),t},p=t(80184);c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var f={animation:!1,plugins:{title:{display:!0,text:"Price Change 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.priceChangePercent,r=(n.dataCoverage,n.price),a=n.fundingRate;return["Price : ".concat(r),"24h change: ".concat(Number(t).toFixed(2),"%"),"Funding Rate: ".concat(Number(a).toFixed(4),"%")]}}}},aspectRatio:1};function g(e){var n=(0,a.useState)(),t=(0,r.Z)(n,2),o=t[0],c=t[1];return(0,a.useEffect)((function(){var n=e.indicator,t=e.fundingRates,r=e.topRangeValue,a=e.prices,o=e.pricePrecisions,s={datasets:[{tree:[],key:"absPricePercent",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(e.raw._data.priceChangePercent)).toFixed(2),"%")]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},l=(0,i.Z)({},s),u=[];e.change24Hs.slice(0,r).forEach((function(e,r){var i=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),c=Number(100*(null===i||void 0===i?void 0:i.fundingRate)||0);u.push({name:e.symbol,price:"$".concat(Number(a[e.symbol]).toFixed(o[e.symbol])),fundingRate:c,priceChangePercent:e.priceChangePercent,absPricePercent:Math.abs(e.priceChangePercent),dataCoverage:"Funding Rates"===n?c:e.priceChangePercent})})),l.datasets[0].tree=u,c(l)}),[e]),(0,p.jsx)(p.Fragment,{children:o&&(0,p.jsx)(l.kL,{type:"treemap",data:o,options:f})})}var x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var h={animation:!1,plugins:{title:{display:!0,text:"Trading Volume 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.priceChangePercent,r=n.quoteVolume,a=n.price,o=n.fundingRate;return["Price : ".concat(a),"Volume 24H: ".concat(x.format(r)),"24h change: ".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(t)).toFixed(2),"%"),"Funding Rate: ".concat(Number(o).toFixed(4),"%")]}}}},aspectRatio:1};function y(e){var n=(0,a.useState)(),t=(0,r.Z)(n,2),o=t[0],c=t[1];return(0,a.useEffect)((function(){var n=e.indicator,t=e.fundingRates,r=e.topRangeValue,a=e.prices,o=e.pricePrecisions,s={datasets:[{tree:[],key:"quoteVolume",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"Vol: ".concat(x.format(e.raw._data.quoteVolume)),"".concat(Number(new Intl.NumberFormat("en-US",{signDisplay:"exceptZero"}).format(e.raw._data.priceChangePercent)).toFixed(2),"%")]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},l=(0,i.Z)({},s),u=[];e.tradingVol24H.slice(0,r).forEach((function(e,n){var r=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),i=Number(100*(null===r||void 0===r?void 0:r.fundingRate)||0);u.push({name:e.symbol,price:"$".concat(Number(a[e.symbol]).toFixed(o[e.symbol])),fundingRate:i,volume:e.volume,quoteVolume:e.quoteVolume,priceChangePercent:e.priceChangePercent,dataCoverage:e.priceChangePercent})})),l.datasets[0].tree=u,c(l)}),[e]),(0,p.jsx)(p.Fragment,{children:o&&(0,p.jsx)(l.kL,{type:"treemap",data:o,options:h})})}var v=t(29546),b=t(43880),w=t(13483),F=t(12576),j=window.location.origin.replace("https","wss");console.log("socketUrl",j);var N=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,p.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},C=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(v.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,p.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},P=["Performance 24h, %","Funding Rates"],R={"Top 10 coins":10,"Top 20 coins":20,"Top 30 coins":30,"Top 50 coins":50},k=function(e){var n="Funding Rates"===e.indicator?d:u;return(0,p.jsx)("div",{className:"mx-2 d-flex flex-row align-items-center",children:n.map((function(n,t){var r=n.min.toString(),a=n.max.toString();return"Funding Rates"!==e.indicator&&(n.min!==-1/0&&(r+="%"),n.max!==1/0&&(a+="%")),(0,p.jsx)(w.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,p.jsx)(F.Z,{id:t,children:n.min<0?"".concat(r," > ").concat(a):0===n.min&&0===n.max?"".concat(r):"".concat(r," < ").concat(a)}),children:(0,p.jsx)("div",{className:"color-pattern mx-1",style:{backgroundColor:n.color}})})}))})},S=function(){var e=(0,a.useState)(P[0]),n=(0,r.Z)(e,2),t=n[0],i=n[1],c=(0,a.useState)(Object.keys(R)[0]),s=(0,r.Z)(c,2),l=s[0],u=s[1];var d=(0,o.ZP)(j,{share:!0,retryOnError:!0,reconnectAttempts:1e3,reconnectInterval:3e3,shouldReconnect:function(){return!0},onOpen:function(e){return console.log("opened ws",e)},onClose:function(e){return console.log("ws closed",e)},onError:function(e){return console.log("error",e)},onReconnectStop:function(e){return console.log("reconnect stopped",e)}}),m=(d.sendMessage,d.lastMessage),f=d.readyState,x=(0,a.useState)({}),h=(0,r.Z)(x,2),v=h[0],b=h[1];return(0,a.useEffect)((function(){if(null!==m){var e=JSON.parse(m.data);b(e)}}),[m]),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-start mb-1",children:[(0,p.jsx)("div",{className:"mx-2",children:(0,p.jsx)(C,{curType:l,typeList:Object.keys(R),typeListSelectHandler:function(e){u(e)}})}),(0,p.jsxs)("div",{className:"mx-2 d-flex flex-row justify-content-start",children:[(0,p.jsx)(N,{curType:t,typeList:P,typeListSelectHandler:function(e){i(e)}}),(0,p.jsx)(k,{indicator:t})]})]}),(0,p.jsx)("div",{className:"d-flex flex-row w-50 justify-content-end mb-1"})]}),(0,p.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-around align-content-around",children:[(0,p.jsx)("div",{className:"heatmap-chart",children:f&&v.change24Hs&&(0,p.jsx)(g,{change24Hs:v.change24Hs,prices:v.prices,pricePrecisions:v.pricePrecisions,indicator:t,topRangeValue:R[l],fundingRates:v.fundingRates})}),(0,p.jsx)("div",{className:"heatmap-chart",children:f&&v.change24Hs&&(0,p.jsx)(y,{tradingVol24H:v.tradingVol24H,prices:v.prices,pricePrecisions:v.pricePrecisions,indicator:t,topRangeValue:R[l],fundingRates:v.fundingRates})})]})]})}}}]);
//# sourceMappingURL=958.5601592f.chunk.js.map