"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[302],{76302:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a=t(29439),r=t(72791),o=t(19829),i=t(1413),c=t(74819),s=t(24689),l=t(43623),d=[{min:Number.NEGATIVE_INFINITY,max:-20,color:"#D73B51"},{min:-20,max:-10,color:"#F1475C"},{min:-10,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:10,color:"#48D69D"},{min:10,max:20,color:"#0FCB80"},{min:20,max:Number.POSITIVE_INFINITY,color:"#0EAF6F"}],u=[{min:-1/0,max:-.01,color:"#D73B51"},{min:-.01,max:-.005,color:"#F1475C"},{min:-.005,max:-0,color:"#F96E80"},{min:-0,max:0,color:"#77808F"},{min:0,max:.005,color:"#48D69D"},{min:.005,max:.01,color:"#0FCB80"},{min:.01,max:1/0,color:"#0EAF6F"}],m=function(e,n){var t="#77808F",a=d;"Funding Rates"===n&&(a=u);var r=a.find((function(n){var t=Number(e);return t>=n.min&&t<n.max}));return r&&(t=r.color),t},f=t(53537),p=t(80184);c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var g={animation:!1,plugins:{title:{display:!0,text:"Price Change 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.percentChange,a=(n.dataCoverage,n.price),r=n.lastFundingRate;return["Price : ".concat(a),"24h change: ".concat((0,f.Xz)(t)),"Funding Rate: ".concat(Number(r).toFixed(4),"%")]}}}},aspectRatio:1};function x(e){var n=(0,r.useState)(),t=(0,a.Z)(n,2),o=t[0],c=t[1];return(0,r.useEffect)((function(){var n=e.indicator,t=e.fundingRates,a=e.topRangeValue,r=e.pricePrecisions,o={datasets:[{tree:[],key:"absPricePercent",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"".concat((0,f.Xz)(e.raw._data.percentChange))]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},s=(0,i.Z)({},o),l=[];e.change24Hs.slice(0,a).forEach((function(e,a){var o=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),i=Number(100*(null===o||void 0===o?void 0:o.fundingRate)||0),c=r[e.symbol];c<0&&(c=0),l.push({name:e.symbol,price:"$".concat(Number(e.close).toFixed(c)),lastFundingRate:i,percentChange:e.percentChange,absPricePercent:Math.abs(e.percentChange),dataCoverage:"Funding Rates"===n?i:e.percentChange})})),s.datasets[0].tree=l,c(s)}),[e]),(0,p.jsx)(p.Fragment,{children:o&&(0,p.jsx)(l.kL,{type:"treemap",data:o,options:g})})}c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,c.De,s.I,s.N);var h={animation:!1,plugins:{title:{display:!0,text:"Trading Volume 24H"},legend:{display:!1},tooltip:{displayColors:!0,callbacks:{title:function(e){return e[0].raw._data.name},label:function(e){var n=e.raw._data,t=n.percentChange,a=n.quoteVolume,r=n.price,o=n.lastFundingRate;return["Price : ".concat(r),"Volume 24H: ".concat(f.JK.format(a)),"24h change: ".concat((0,f.Xz)(t)),"Funding Rate: ".concat(Number(o).toFixed(4),"%")]}}}},aspectRatio:1};function v(e){var n=(0,r.useState)(),t=(0,a.Z)(n,2),o=t[0],c=t[1];return(0,r.useEffect)((function(){var n=e.indicator,t=e.fundingRates,a=e.topRangeValue,r=e.pricePrecisions,o={datasets:[{tree:[],key:"quoteVolume",labels:{display:!0,align:"left",formatter:function(e){return[e.raw._data.name,e.raw._data.price,"Vol: ".concat(f.JK.format(e.raw._data.quoteVolume)),"".concat((0,f.Xz)(e.raw._data.percentChange))]},color:"white",overflow:"fit",font:[{size:20,style:"normal",weight:"bold"},{size:14,style:"normal",weight:"bold"}]},backgroundColor:function(e){if("data"!==e.type)return"transparent";var t=e.raw._data.dataCoverage;return m(t,n)},spacing:-.5,borderWidth:.75,borderColor:"#000000",onclick:function(e){console.log("element",e)}}]},s=(0,i.Z)({},o),l=[];e.tradingVol24H.slice(0,a).forEach((function(e,a){var o=null===t||void 0===t?void 0:t.find((function(n){return n.symbol===e.symbol})),i=Number(100*(null===o||void 0===o?void 0:o.fundingRate)||0),c=r[e.symbol];c<0&&(c=0),l.push({name:e.symbol,price:"$".concat(Number(e.close).toFixed(c)),lastFundingRate:i,volume:e.volume,quoteVolume:e.quoteVolume,percentChange:e.percentChange,dataCoverage:"Funding Rates"===n?i:e.percentChange})})),s.datasets[0].tree=l,c(s)}),[e]),(0,p.jsx)(p.Fragment,{children:o&&(0,p.jsx)(l.kL,{type:"treemap",data:o,options:h})})}var y=t(29546),b=t(43880),w=t(13483),j=t(12576),F=window.location.origin.replace("https","wss")+"/heatmap";console.log("socketUrl",F);var C=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,p.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},R=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{id:"dropdown-exchange",title:e.curType,size:"sm",variant:"secondary",menuVariant:"dark",onSelect:function(n){e.typeListSelectHandler(n)},children:e.typeList&&e.typeList.map((function(e,n){return(0,p.jsx)(b.Z.Item,{eventKey:e,children:e},n)}))})})},N=["Performance 24h, %","Funding Rates"],k={"Top 10 coins":10,"Top 20 coins":20,"Top 30 coins":30,"Top 50 coins":50},V=function(e){var n="Funding Rates"===e.indicator?u:d;return(0,p.jsx)("div",{className:"mx-2 d-flex flex-row align-items-center",children:n.map((function(n,t){var a=n.min.toString(),r=n.max.toString();return"Funding Rates"!==e.indicator&&(n.min!==-1/0&&(a+="%"),n.max!==1/0&&(r+="%")),(0,p.jsx)(w.Z,{placement:"top",delay:{show:250,hide:400},overlay:(0,p.jsx)(j.Z,{id:t,children:n.min<0?"".concat(a," > ").concat(r):0===n.min&&0===n.max?"".concat(a):"".concat(a," < ").concat(r)}),children:(0,p.jsx)("div",{className:"color-pattern mx-1",style:{backgroundColor:n.color}})},t)}))})},S=function(){var e=(0,r.useState)(N[0]),n=(0,a.Z)(e,2),t=n[0],i=n[1],c=(0,r.useState)(Object.keys(k)[1]),s=(0,a.Z)(c,2),l=s[0],d=s[1];var u=(0,o.ZP)(F,{share:!0,retryOnError:!0,reconnectAttempts:1e3,reconnectInterval:3e3,shouldReconnect:function(){return!0},onOpen:function(e){return console.log("opened ws",e)},onClose:function(e){return console.log("ws closed",e)},onError:function(e){return console.log("error",e)},onReconnectStop:function(e){return console.log("reconnect stopped",e)}}),m=(u.sendMessage,u.lastMessage),f=u.readyState,g=(0,r.useState)({}),h=(0,a.Z)(g,2),y=h[0],b=h[1];return(0,r.useEffect)((function(){if(null!==m){var e=JSON.parse(m.data);b(e)}}),[m]),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,p.jsxs)("div",{className:"d-flex flex-row justify-content-start mb-1",children:[(0,p.jsx)("div",{className:"mx-2",children:(0,p.jsx)(R,{curType:l,typeList:Object.keys(k),typeListSelectHandler:function(e){d(e)}})}),(0,p.jsxs)("div",{className:"mx-2 d-flex flex-row justify-content-start",children:[(0,p.jsx)(C,{curType:t,typeList:N,typeListSelectHandler:function(e){i(e)}}),(0,p.jsx)(V,{indicator:t})]})]}),(0,p.jsx)("div",{className:"d-flex flex-row w-50 justify-content-end mb-1"})]}),(0,p.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-around align-content-around",children:[(0,p.jsx)("div",{className:"heatmap-chart",children:f&&y.change24Hs&&(0,p.jsx)(x,{change24Hs:y.change24Hs,pricePrecisions:y.pricePrecisions,indicator:t,topRangeValue:k[l],fundingRates:y.fundingRates})}),(0,p.jsx)("div",{className:"heatmap-chart",children:f&&y.change24Hs&&(0,p.jsx)(v,{tradingVol24H:y.tradingVol24H,pricePrecisions:y.pricePrecisions,indicator:t,topRangeValue:k[l],fundingRates:y.fundingRates})})]})]})}}}]);
//# sourceMappingURL=302.0c2633d2.chunk.js.map